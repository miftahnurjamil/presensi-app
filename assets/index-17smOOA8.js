function Mp(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in e)){const d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(e,u,d.get?d:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=r(u);fetch(u.href,d)}})();var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W1={exports:{}},Qo={},G1={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=Symbol.for("react.element"),Dp=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),Fp=Symbol.for("react.context"),jp=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),zp=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),Gd=Symbol.iterator;function Vp(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var Y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X1=Object.assign,Q1={};function as(e,t,r){this.props=e,this.context=t,this.refs=Q1,this.updater=r||Y1}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K1(){}K1.prototype=as.prototype;function wc(e,t,r){this.props=e,this.context=t,this.refs=Q1,this.updater=r||Y1}var yc=wc.prototype=new K1;yc.constructor=wc;X1(yc,as.prototype);yc.isPureReactComponent=!0;var Yd=Array.isArray,Z1=Object.prototype.hasOwnProperty,Ec={current:null},q1={key:!0,ref:!0,__self:!0,__source:!0};function J1(e,t,r){var a,u={},d=null,h=null;if(t!=null)for(a in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(d=""+t.key),t)Z1.call(t,a)&&!q1.hasOwnProperty(a)&&(u[a]=t[a]);var w=arguments.length-2;if(w===1)u.children=r;else if(1<w){for(var x=Array(w),p=0;p<w;p++)x[p]=arguments[p+2];u.children=x}if(e&&e.defaultProps)for(a in w=e.defaultProps,w)u[a]===void 0&&(u[a]=w[a]);return{$$typeof:ha,type:e,key:d,ref:h,props:u,_owner:Ec.current}}function Wp(e,t){return{$$typeof:ha,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ha}function Gp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xd=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gp(""+e.key):t.toString(36)}function ro(e,t,r,a,u){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case ha:case Dp:h=!0}}if(h)return h=e,u=u(h),e=a===""?"."+Pl(h,0):a,Yd(u)?(r="",e!=null&&(r=e.replace(Xd,"$&/")+"/"),ro(u,t,r,"",function(p){return p})):u!=null&&(Cc(u)&&(u=Wp(u,r+(!u.key||h&&h.key===u.key?"":(""+u.key).replace(Xd,"$&/")+"/")+e)),t.push(u)),1;if(h=0,a=a===""?".":a+":",Yd(e))for(var w=0;w<e.length;w++){d=e[w];var x=a+Pl(d,w);h+=ro(d,t,r,x,u)}else if(x=Vp(e),typeof x=="function")for(e=x.call(e),w=0;!(d=e.next()).done;)d=d.value,x=a+Pl(d,w++),h+=ro(d,t,r,x,u);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Fa(e,t,r){if(e==null)return e;var a=[],u=0;return ro(e,a,"","",function(d){return t.call(r,d,u++)}),a}function Yp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},io={transition:null},Xp={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:io,ReactCurrentOwner:Ec};function $1(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Fa,forEach:function(e,t,r){Fa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fa(e,function(){t++}),t},toArray:function(e){return Fa(e,function(t){return t})||[]},only:function(e){if(!Cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=as;Te.Fragment=kp;Te.Profiler=Pp;Te.PureComponent=wc;Te.StrictMode=Lp;Te.Suspense=Up;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp;Te.act=$1;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=X1({},e.props),u=e.key,d=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,h=Ec.current),t.key!==void 0&&(u=""+t.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(x in t)Z1.call(t,x)&&!q1.hasOwnProperty(x)&&(a[x]=t[x]===void 0&&w!==void 0?w[x]:t[x])}var x=arguments.length-2;if(x===1)a.children=r;else if(1<x){w=Array(x);for(var p=0;p<x;p++)w[p]=arguments[p+2];a.children=w}return{$$typeof:ha,type:e.type,key:u,ref:d,props:a,_owner:h}};Te.createContext=function(e){return e={$$typeof:Fp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bp,_context:e},e.Consumer=e};Te.createElement=J1;Te.createFactory=function(e){var t=J1.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:jp,render:e}};Te.isValidElement=Cc;Te.lazy=function(e){return{$$typeof:Hp,_payload:{_status:-1,_result:e},_init:Yp}};Te.memo=function(e,t){return{$$typeof:zp,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=io.transition;io.transition={};try{e()}finally{io.transition=t}};Te.unstable_act=$1;Te.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Te.useContext=function(e){return Xt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Te.useId=function(){return Xt.current.useId()};Te.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};Te.useRef=function(e){return Xt.current.useRef(e)};Te.useState=function(e){return Xt.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return Xt.current.useTransition()};Te.version="18.3.1";G1.exports=Te;var V=G1.exports;const et=Op(V),Qp=Mp({__proto__:null,default:et},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=V,Zp=Symbol.for("react.element"),qp=Symbol.for("react.fragment"),Jp=Object.prototype.hasOwnProperty,$p=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e2={key:!0,ref:!0,__self:!0,__source:!0};function e0(e,t,r){var a,u={},d=null,h=null;r!==void 0&&(d=""+r),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(h=t.ref);for(a in t)Jp.call(t,a)&&!e2.hasOwnProperty(a)&&(u[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)u[a]===void 0&&(u[a]=t[a]);return{$$typeof:Zp,type:e,key:d,ref:h,props:u,_owner:$p.current}}Qo.Fragment=qp;Qo.jsx=e0;Qo.jsxs=e0;W1.exports=Qo;var E=W1.exports,gu={},t0={exports:{}},xn={},n0={exports:{}},r0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,ie){var he=$.length;$.push(ie);e:for(;0<he;){var Re=he-1>>>1,Ce=$[Re];if(0<u(Ce,ie))$[Re]=ie,$[he]=Ce,he=Re;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var ie=$[0],he=$.pop();if(he!==ie){$[0]=he;e:for(var Re=0,Ce=$.length,ot=Ce>>>1;Re<ot;){var He=2*(Re+1)-1,zn=$[He],fe=He+1,gr=$[fe];if(0>u(zn,he))fe<Ce&&0>u(gr,zn)?($[Re]=gr,$[fe]=he,Re=fe):($[Re]=zn,$[He]=he,Re=He);else if(fe<Ce&&0>u(gr,he))$[Re]=gr,$[fe]=he,Re=fe;else break e}}return ie}function u($,ie){var he=$.sortIndex-ie.sortIndex;return he!==0?he:$.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var h=Date,w=h.now();e.unstable_now=function(){return h.now()-w}}var x=[],p=[],y=1,C=null,T=3,L=!1,b=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var ie=r(p);ie!==null;){if(ie.callback===null)a(p);else if(ie.startTime<=$)a(p),ie.sortIndex=ie.expirationTime,t(x,ie);else break;ie=r(p)}}function B($){if(D=!1,_($),!b)if(r(x)!==null)b=!0,se(Q);else{var ie=r(p);ie!==null&&ae(B,ie.startTime-$)}}function Q($,ie){b=!1,D&&(D=!1,M(Z),Z=-1),L=!0;var he=T;try{for(_(ie),C=r(x);C!==null&&(!(C.expirationTime>ie)||$&&!Ne());){var Re=C.callback;if(typeof Re=="function"){C.callback=null,T=C.priorityLevel;var Ce=Re(C.expirationTime<=ie);ie=e.unstable_now(),typeof Ce=="function"?C.callback=Ce:C===r(x)&&a(x),_(ie)}else a(x);C=r(x)}if(C!==null)var ot=!0;else{var He=r(p);He!==null&&ae(B,He.startTime-ie),ot=!1}return ot}finally{C=null,T=he,L=!1}}var j=!1,U=null,Z=-1,K=5,pe=-1;function Ne(){return!(e.unstable_now()-pe<K)}function ce(){if(U!==null){var $=e.unstable_now();pe=$;var ie=!0;try{ie=U(!0,$)}finally{ie?Ee():(j=!1,U=null)}}else j=!1}var Ee;if(typeof I=="function")Ee=function(){I(ce)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,X=_e.port2;_e.port1.onmessage=ce,Ee=function(){X.postMessage(null)}}else Ee=function(){O(ce,0)};function se($){U=$,j||(j=!0,Ee())}function ae($,ie){Z=O(function(){$(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){b||L||(b=!0,se(Q))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return r(x)},e.unstable_next=function($){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var he=T;T=ie;try{return $()}finally{T=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var he=T;T=$;try{return ie()}finally{T=he}},e.unstable_scheduleCallback=function($,ie,he){var Re=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Re+he:Re):he=Re,$){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=he+Ce,$={id:y++,callback:ie,priorityLevel:$,startTime:he,expirationTime:Ce,sortIndex:-1},he>Re?($.sortIndex=he,t(p,$),r(x)===null&&$===r(p)&&(D?(M(Z),Z=-1):D=!0,ae(B,he-Re))):($.sortIndex=Ce,t(x,$),b||L||(b=!0,se(Q))),$},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function($){var ie=T;return function(){var he=T;T=ie;try{return $.apply(this,arguments)}finally{T=he}}}})(r0);n0.exports=r0;var t2=n0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=V,mn=t2;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i0=new Set,Xs={};function xi(e,t){qi(e,t),qi(e+"Capture",t)}function qi(e,t){for(Xs[e]=t,e=0;e<t.length;e++)i0.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,r2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qd={},Kd={};function i2(e){return pu.call(Kd,e)?!0:pu.call(Qd,e)?!1:r2.test(e)?Kd[e]=!0:(Qd[e]=!0,!1)}function s2(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a2(e,t,r,a){if(t===null||typeof t>"u"||s2(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,a,u,d,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=h}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ac,Sc);Lt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ac,Sc);Lt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ac,Sc);Lt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vc(e,t,r,a){var u=Lt.hasOwnProperty(t)?Lt[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a2(t,r,u,a)&&(r=null),a||u===null?i2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,a=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var hr=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),a0=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),Tc=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),o0=Symbol.for("react.offscreen"),Zd=Symbol.iterator;function Is(e){return e===null||typeof e!="object"?null:(e=Zd&&e[Zd]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,Bl;function ks(e){if(Bl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Fl=!1;function jl(e,t){if(!e||Fl)return"";Fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var a=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){a=p}e.call(t.prototype)}else{try{throw Error()}catch(p){a=p}e()}}catch(p){if(p&&a&&typeof p.stack=="string"){for(var u=p.stack.split(`
`),d=a.stack.split(`
`),h=u.length-1,w=d.length-1;1<=h&&0<=w&&u[h]!==d[w];)w--;for(;1<=h&&0<=w;h--,w--)if(u[h]!==d[w]){if(h!==1||w!==1)do if(h--,w--,0>w||u[h]!==d[w]){var x=`
`+u[h].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=h&&0<=w);break}}}finally{Fl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ks(e):""}function o2(e){switch(e.tag){case 5:return ks(e.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 2:case 15:return e=jl(e.type,!1),e;case 11:return e=jl(e.type.render,!1),e;case 1:return e=jl(e.type,!0),e;default:return""}}function yu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oi:return"Fragment";case Mi:return"Portal";case mu:return"Profiler";case Ic:return"StrictMode";case xu:return"Suspense";case wu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a0:return(e.displayName||"Context")+".Consumer";case s0:return(e._context.displayName||"Context")+".Provider";case Nc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tc:return t=e.displayName||null,t!==null?t:yu(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return yu(e(t))}catch{}}return null}function l2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yu(t);case 8:return t===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u2(e){var t=l0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ua(e){e._valueTracker||(e._valueTracker=u2(e))}function u0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=l0(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eu(e,t){var r=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qd(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=zr(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c0(e,t){t=t.checked,t!=null&&vc(e,"checked",t,!1)}function Cu(e,t){c0(e,t);var r=zr(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Au(e,t.type,r):t.hasOwnProperty("defaultValue")&&Au(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Au(e,t,r){(t!=="number"||yo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ls=Array.isArray;function Gi(e,t,r,a){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&a&&(e[r].defaultSelected=!0)}else{for(r=""+zr(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $d(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(Ls(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zr(r)}}function d0(e,t){var r=zr(t.value),a=zr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function ef(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function f0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?f0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var za,h0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c2=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(e){c2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fs[t]=Fs[e]})});function g0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fs.hasOwnProperty(e)&&Fs[e]?(""+t).trim():t+"px"}function p0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,u=g0(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,u):e[r]=u}}var d2=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(e,t){if(t){if(d2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Nu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _u=null,Yi=null,Xi=null;function tf(e){if(e=ma(e)){if(typeof _u!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=$o(t),_u(e.stateNode,e.type,t))}}function m0(e){Yi?Xi?Xi.push(e):Xi=[e]:Yi=e}function x0(){if(Yi){var e=Yi,t=Xi;if(Xi=Yi=null,tf(e),t)for(e=0;e<t.length;e++)tf(t[e])}}function w0(e,t){return e(t)}function y0(){}var Ul=!1;function E0(e,t,r){if(Ul)return e(t,r);Ul=!0;try{return w0(e,t,r)}finally{Ul=!1,(Yi!==null||Xi!==null)&&(y0(),x0())}}function Ks(e,t){var r=e.stateNode;if(r===null)return null;var a=$o(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var Ru=!1;if(ur)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Ru=!1}function f2(e,t,r,a,u,d,h,w,x){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(y){this.onError(y)}}var js=!1,Eo=null,Co=!1,bu=null,h2={onError:function(e){js=!0,Eo=e}};function g2(e,t,r,a,u,d,h,w,x){js=!1,Eo=null,f2.apply(h2,arguments)}function p2(e,t,r,a,u,d,h,w,x){if(g2.apply(this,arguments),js){if(js){var p=Eo;js=!1,Eo=null}else throw Error(ee(198));Co||(Co=!0,bu=p)}}function wi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function C0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nf(e){if(wi(e)!==e)throw Error(ee(188))}function m2(e){var t=e.alternate;if(!t){if(t=wi(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,a=t;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(a=u.return,a!==null){r=a;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return nf(u),e;if(d===a)return nf(u),t;d=d.sibling}throw Error(ee(188))}if(r.return!==a.return)r=u,a=d;else{for(var h=!1,w=u.child;w;){if(w===r){h=!0,r=u,a=d;break}if(w===a){h=!0,a=u,r=d;break}w=w.sibling}if(!h){for(w=d.child;w;){if(w===r){h=!0,r=d,a=u;break}if(w===a){h=!0,a=d,r=u;break}w=w.sibling}if(!h)throw Error(ee(189))}}if(r.alternate!==a)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function A0(e){return e=m2(e),e!==null?S0(e):null}function S0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=S0(e);if(t!==null)return t;e=e.sibling}return null}var v0=mn.unstable_scheduleCallback,rf=mn.unstable_cancelCallback,x2=mn.unstable_shouldYield,w2=mn.unstable_requestPaint,gt=mn.unstable_now,y2=mn.unstable_getCurrentPriorityLevel,Rc=mn.unstable_ImmediatePriority,I0=mn.unstable_UserBlockingPriority,Ao=mn.unstable_NormalPriority,E2=mn.unstable_LowPriority,N0=mn.unstable_IdlePriority,Ko=null,er=null;function C2(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Ko,e,void 0,(e.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:v2,A2=Math.log,S2=Math.LN2;function v2(e){return e>>>=0,e===0?32:31-(A2(e)/S2|0)|0}var Ha=64,Va=4194304;function Ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function So(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,u=e.suspendedLanes,d=e.pingedLanes,h=r&268435455;if(h!==0){var w=h&~u;w!==0?a=Ps(w):(d&=h,d!==0&&(a=Ps(d)))}else h=r&~u,h!==0?a=Ps(h):d!==0&&(a=Ps(d));if(a===0)return 0;if(t!==0&&t!==a&&!(t&u)&&(u=a&-a,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Bn(t),u=1<<r,a|=e[r],t&=~u;return a}function I2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N2(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Bn(d),w=1<<h,x=u[h];x===-1?(!(w&r)||w&a)&&(u[h]=I2(w,t)):x<=t&&(e.expiredLanes|=w),d&=~w}}function Mu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function T0(){var e=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),e}function zl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ga(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bn(t),e[t]=r}function T2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Bn(r),d=1<<u;t[u]=0,a[u]=-1,e[u]=-1,r&=~d}}function bc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Bn(r),u=1<<a;u&t|e[a]&t&&(e[a]|=t),r&=~u}}var ze=0;function _0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var R0,Mc,b0,M0,O0,Ou=!1,Wa=[],Or=null,Dr=null,kr=null,Zs=new Map,qs=new Map,Tr=[],_2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sf(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function Ts(e,t,r,a,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:d,targetContainers:[u]},t!==null&&(t=ma(t),t!==null&&Mc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function R2(e,t,r,a,u){switch(t){case"focusin":return Or=Ts(Or,e,t,r,a,u),!0;case"dragenter":return Dr=Ts(Dr,e,t,r,a,u),!0;case"mouseover":return kr=Ts(kr,e,t,r,a,u),!0;case"pointerover":var d=u.pointerId;return Zs.set(d,Ts(Zs.get(d)||null,e,t,r,a,u)),!0;case"gotpointercapture":return d=u.pointerId,qs.set(d,Ts(qs.get(d)||null,e,t,r,a,u)),!0}return!1}function D0(e){var t=ri(e.target);if(t!==null){var r=wi(t);if(r!==null){if(t=r.tag,t===13){if(t=C0(r),t!==null){e.blockedOn=t,O0(e.priority,function(){b0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Du(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Tu=a,r.target.dispatchEvent(a),Tu=null}else return t=ma(r),t!==null&&Mc(t),e.blockedOn=r,!1;t.shift()}return!0}function af(e,t,r){so(e)&&r.delete(t)}function b2(){Ou=!1,Or!==null&&so(Or)&&(Or=null),Dr!==null&&so(Dr)&&(Dr=null),kr!==null&&so(kr)&&(kr=null),Zs.forEach(af),qs.forEach(af)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,b2)))}function Js(e){function t(u){return _s(u,e)}if(0<Wa.length){_s(Wa[0],e);for(var r=1;r<Wa.length;r++){var a=Wa[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Or!==null&&_s(Or,e),Dr!==null&&_s(Dr,e),kr!==null&&_s(kr,e),Zs.forEach(t),qs.forEach(t),r=0;r<Tr.length;r++)a=Tr[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Tr.length&&(r=Tr[0],r.blockedOn===null);)D0(r),r.blockedOn===null&&Tr.shift()}var Qi=hr.ReactCurrentBatchConfig,vo=!0;function M2(e,t,r,a){var u=ze,d=Qi.transition;Qi.transition=null;try{ze=1,Oc(e,t,r,a)}finally{ze=u,Qi.transition=d}}function O2(e,t,r,a){var u=ze,d=Qi.transition;Qi.transition=null;try{ze=4,Oc(e,t,r,a)}finally{ze=u,Qi.transition=d}}function Oc(e,t,r,a){if(vo){var u=Du(e,t,r,a);if(u===null)ql(e,t,a,Io,r),sf(e,a);else if(R2(u,e,t,r,a))a.stopPropagation();else if(sf(e,a),t&4&&-1<_2.indexOf(e)){for(;u!==null;){var d=ma(u);if(d!==null&&R0(d),d=Du(e,t,r,a),d===null&&ql(e,t,a,Io,r),d===u)break;u=d}u!==null&&a.stopPropagation()}else ql(e,t,a,null,r)}}var Io=null;function Du(e,t,r,a){if(Io=null,e=_c(a),e=ri(e),e!==null)if(t=wi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=C0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Io=e,null}function k0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y2()){case Rc:return 1;case I0:return 4;case Ao:case E2:return 16;case N0:return 536870912;default:return 16}default:return 16}}var Rr=null,Dc=null,ao=null;function L0(){if(ao)return ao;var e,t=Dc,r=t.length,a,u="value"in Rr?Rr.value:Rr.textContent,d=u.length;for(e=0;e<r&&t[e]===u[e];e++);var h=r-e;for(a=1;a<=h&&t[r-a]===u[d-a];a++);return ao=u.slice(e,1<a?1-a:void 0)}function oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ga(){return!0}function of(){return!1}function wn(e){function t(r,a,u,d,h){this._reactName=r,this._targetInst=u,this.type=a,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ga:of,this.isPropagationStopped=of,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=wn(os),pa=at({},os,{view:0,detail:0}),D2=wn(pa),Hl,Vl,Rs,Zo=at({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(Hl=e.screenX-Rs.screenX,Vl=e.screenY-Rs.screenY):Vl=Hl=0,Rs=e),Hl)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),lf=wn(Zo),k2=at({},Zo,{dataTransfer:0}),L2=wn(k2),P2=at({},pa,{relatedTarget:0}),Wl=wn(P2),B2=at({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),F2=wn(B2),j2=at({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U2=wn(j2),z2=at({},os,{data:0}),uf=wn(z2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W2[e])?!!t[e]:!1}function Lc(){return G2}var Y2=at({},pa,{key:function(e){if(e.key){var t=H2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(e){return e.type==="keypress"?oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X2=wn(Y2),Q2=at({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=wn(Q2),K2=at({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),Z2=wn(K2),q2=at({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),J2=wn(q2),$2=at({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),em=wn($2),tm=[9,13,27,32],Pc=ur&&"CompositionEvent"in window,Us=null;ur&&"documentMode"in document&&(Us=document.documentMode);var nm=ur&&"TextEvent"in window&&!Us,P0=ur&&(!Pc||Us&&8<Us&&11>=Us),df=" ",ff=!1;function B0(e,t){switch(e){case"keyup":return tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function rm(e,t){switch(e){case"compositionend":return F0(t);case"keypress":return t.which!==32?null:(ff=!0,df);case"textInput":return e=t.data,e===df&&ff?null:e;default:return null}}function im(e,t){if(Di)return e==="compositionend"||!Pc&&B0(e,t)?(e=L0(),ao=Dc=Rr=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P0&&t.locale!=="ko"?null:t.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sm[e.type]:t==="textarea"}function j0(e,t,r,a){m0(a),t=No(t,"onChange"),0<t.length&&(r=new kc("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var zs=null,$s=null;function am(e){Z0(e,0)}function qo(e){var t=Pi(e);if(u0(t))return e}function om(e,t){if(e==="change")return t}var U0=!1;if(ur){var Gl;if(ur){var Yl="oninput"in document;if(!Yl){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),Yl=typeof gf.oninput=="function"}Gl=Yl}else Gl=!1;U0=Gl&&(!document.documentMode||9<document.documentMode)}function pf(){zs&&(zs.detachEvent("onpropertychange",z0),$s=zs=null)}function z0(e){if(e.propertyName==="value"&&qo($s)){var t=[];j0(t,$s,e,_c(e)),E0(am,t)}}function lm(e,t,r){e==="focusin"?(pf(),zs=t,$s=r,zs.attachEvent("onpropertychange",z0)):e==="focusout"&&pf()}function um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo($s)}function cm(e,t){if(e==="click")return qo(t)}function dm(e,t){if(e==="input"||e==="change")return qo(t)}function fm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:fm;function ea(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var u=r[a];if(!pu.call(t,u)||!jn(e[u],t[u]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var r=mf(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mf(r)}}function H0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V0(){for(var e=window,t=yo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yo(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hm(e){var t=V0(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&H0(r.ownerDocument.documentElement,r)){if(a!==null&&Bc(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,d=Math.min(a.start,u);a=a.end===void 0?d:Math.min(a.end,u),!e.extend&&d>a&&(u=a,a=d,d=u),u=xf(r,d);var h=xf(r,a);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gm=ur&&"documentMode"in document&&11>=document.documentMode,ki=null,ku=null,Hs=null,Lu=!1;function wf(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lu||ki==null||ki!==yo(a)||(a=ki,"selectionStart"in a&&Bc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Hs&&ea(Hs,a)||(Hs=a,a=No(ku,"onSelect"),0<a.length&&(t=new kc("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ki)))}function Ya(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Li={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionend:Ya("Transition","TransitionEnd")},Xl={},W0={};ur&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Jo(e){if(Xl[e])return Xl[e];if(!Li[e])return e;var t=Li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in W0)return Xl[e]=t[r];return e}var G0=Jo("animationend"),Y0=Jo("animationiteration"),X0=Jo("animationstart"),Q0=Jo("transitionend"),K0=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){K0.set(e,t),xi(t,[e])}for(var Ql=0;Ql<yf.length;Ql++){var Kl=yf[Ql],pm=Kl.toLowerCase(),mm=Kl[0].toUpperCase()+Kl.slice(1);Wr(pm,"on"+mm)}Wr(G0,"onAnimationEnd");Wr(Y0,"onAnimationIteration");Wr(X0,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Q0,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function Ef(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,p2(a,t,void 0,e),e.currentTarget=null}function Z0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],u=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var h=a.length-1;0<=h;h--){var w=a[h],x=w.instance,p=w.currentTarget;if(w=w.listener,x!==d&&u.isPropagationStopped())break e;Ef(u,w,p),d=x}else for(h=0;h<a.length;h++){if(w=a[h],x=w.instance,p=w.currentTarget,w=w.listener,x!==d&&u.isPropagationStopped())break e;Ef(u,w,p),d=x}}}if(Co)throw e=bu,Co=!1,bu=null,e}function qe(e,t){var r=t[Uu];r===void 0&&(r=t[Uu]=new Set);var a=e+"__bubble";r.has(a)||(q0(t,e,2,!1),r.add(a))}function Zl(e,t,r){var a=0;t&&(a|=4),q0(r,e,a,t)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function ta(e){if(!e[Xa]){e[Xa]=!0,i0.forEach(function(r){r!=="selectionchange"&&(xm.has(r)||Zl(r,!1,e),Zl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xa]||(t[Xa]=!0,Zl("selectionchange",!1,t))}}function q0(e,t,r,a){switch(k0(t)){case 1:var u=M2;break;case 4:u=O2;break;default:u=Oc}r=u.bind(null,t,r,e),u=void 0,!Ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function ql(e,t,r,a,u){var d=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var w=a.stateNode.containerInfo;if(w===u||w.nodeType===8&&w.parentNode===u)break;if(h===4)for(h=a.return;h!==null;){var x=h.tag;if((x===3||x===4)&&(x=h.stateNode.containerInfo,x===u||x.nodeType===8&&x.parentNode===u))return;h=h.return}for(;w!==null;){if(h=ri(w),h===null)return;if(x=h.tag,x===5||x===6){a=d=h;continue e}w=w.parentNode}}a=a.return}E0(function(){var p=d,y=_c(r),C=[];e:{var T=K0.get(e);if(T!==void 0){var L=kc,b=e;switch(e){case"keypress":if(oo(r)===0)break e;case"keydown":case"keyup":L=X2;break;case"focusin":b="focus",L=Wl;break;case"focusout":b="blur",L=Wl;break;case"beforeblur":case"afterblur":L=Wl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=L2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Z2;break;case G0:case Y0:case X0:L=F2;break;case Q0:L=J2;break;case"scroll":L=D2;break;case"wheel":L=em;break;case"copy":case"cut":case"paste":L=U2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=cf}var D=(t&4)!==0,O=!D&&e==="scroll",M=D?T!==null?T+"Capture":null:T;D=[];for(var I=p,_;I!==null;){_=I;var B=_.stateNode;if(_.tag===5&&B!==null&&(_=B,M!==null&&(B=Ks(I,M),B!=null&&D.push(na(I,B,_)))),O)break;I=I.return}0<D.length&&(T=new L(T,b,null,r,y),C.push({event:T,listeners:D}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",T&&r!==Tu&&(b=r.relatedTarget||r.fromElement)&&(ri(b)||b[cr]))break e;if((L||T)&&(T=y.window===y?y:(T=y.ownerDocument)?T.defaultView||T.parentWindow:window,L?(b=r.relatedTarget||r.toElement,L=p,b=b?ri(b):null,b!==null&&(O=wi(b),b!==O||b.tag!==5&&b.tag!==6)&&(b=null)):(L=null,b=p),L!==b)){if(D=lf,B="onMouseLeave",M="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(D=cf,B="onPointerLeave",M="onPointerEnter",I="pointer"),O=L==null?T:Pi(L),_=b==null?T:Pi(b),T=new D(B,I+"leave",L,r,y),T.target=O,T.relatedTarget=_,B=null,ri(y)===p&&(D=new D(M,I+"enter",b,r,y),D.target=_,D.relatedTarget=O,B=D),O=B,L&&b)t:{for(D=L,M=b,I=0,_=D;_;_=Ri(_))I++;for(_=0,B=M;B;B=Ri(B))_++;for(;0<I-_;)D=Ri(D),I--;for(;0<_-I;)M=Ri(M),_--;for(;I--;){if(D===M||M!==null&&D===M.alternate)break t;D=Ri(D),M=Ri(M)}D=null}else D=null;L!==null&&Cf(C,T,L,D,!1),b!==null&&O!==null&&Cf(C,O,b,D,!0)}}e:{if(T=p?Pi(p):window,L=T.nodeName&&T.nodeName.toLowerCase(),L==="select"||L==="input"&&T.type==="file")var Q=om;else if(hf(T))if(U0)Q=dm;else{Q=um;var j=lm}else(L=T.nodeName)&&L.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(Q=cm);if(Q&&(Q=Q(e,p))){j0(C,Q,r,y);break e}j&&j(e,T,p),e==="focusout"&&(j=T._wrapperState)&&j.controlled&&T.type==="number"&&Au(T,"number",T.value)}switch(j=p?Pi(p):window,e){case"focusin":(hf(j)||j.contentEditable==="true")&&(ki=j,ku=p,Hs=null);break;case"focusout":Hs=ku=ki=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,wf(C,r,y);break;case"selectionchange":if(gm)break;case"keydown":case"keyup":wf(C,r,y)}var U;if(Pc)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Di?B0(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(P0&&r.locale!=="ko"&&(Di||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Di&&(U=L0()):(Rr=y,Dc="value"in Rr?Rr.value:Rr.textContent,Di=!0)),j=No(p,Z),0<j.length&&(Z=new uf(Z,e,null,r,y),C.push({event:Z,listeners:j}),U?Z.data=U:(U=F0(r),U!==null&&(Z.data=U)))),(U=nm?rm(e,r):im(e,r))&&(p=No(p,"onBeforeInput"),0<p.length&&(y=new uf("onBeforeInput","beforeinput",null,r,y),C.push({event:y,listeners:p}),y.data=U))}Z0(C,t)})}function na(e,t,r){return{instance:e,listener:t,currentTarget:r}}function No(e,t){for(var r=t+"Capture",a=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Ks(e,r),d!=null&&a.unshift(na(e,d,u)),d=Ks(e,t),d!=null&&a.push(na(e,d,u))),e=e.return}return a}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cf(e,t,r,a,u){for(var d=t._reactName,h=[];r!==null&&r!==a;){var w=r,x=w.alternate,p=w.stateNode;if(x!==null&&x===a)break;w.tag===5&&p!==null&&(w=p,u?(x=Ks(r,d),x!=null&&h.unshift(na(r,x,w))):u||(x=Ks(r,d),x!=null&&h.push(na(r,x,w)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var wm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(wm,`
`).replace(ym,"")}function Qa(e,t,r){if(t=Af(t),Af(e)!==t&&r)throw Error(ee(425))}function To(){}var Pu=null,Bu=null;function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,Em=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,Cm=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(e){return Sf.resolve(null).then(e).catch(Am)}:ju;function Am(e){setTimeout(function(){throw e})}function Jl(e,t){var r=t,a=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(a===0){e.removeChild(u),Js(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=u}while(r);Js(t)}function Lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),$n="__reactFiber$"+ls,ra="__reactProps$"+ls,cr="__reactContainer$"+ls,Uu="__reactEvents$"+ls,Sm="__reactListeners$"+ls,vm="__reactHandles$"+ls;function ri(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cr]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vf(e);e!==null;){if(r=e[$n])return r;e=vf(e)}return t}e=r,r=e.parentNode}return null}function ma(e){return e=e[$n]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function $o(e){return e[ra]||null}var zu=[],Bi=-1;function Gr(e){return{current:e}}function Je(e){0>Bi||(e.current=zu[Bi],zu[Bi]=null,Bi--)}function Ke(e,t){Bi++,zu[Bi]=e.current,e.current=t}var Hr={},Ht=Gr(Hr),rn=Gr(!1),ci=Hr;function Ji(e,t){var r=e.type.contextTypes;if(!r)return Hr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in r)u[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function sn(e){return e=e.childContextTypes,e!=null}function _o(){Je(rn),Je(Ht)}function If(e,t,r){if(Ht.current!==Hr)throw Error(ee(168));Ke(Ht,t),Ke(rn,r)}function J0(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(ee(108,l2(e)||"Unknown",u));return at({},r,a)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,ci=Ht.current,Ke(Ht,e),Ke(rn,rn.current),!0}function Nf(e,t,r){var a=e.stateNode;if(!a)throw Error(ee(169));r?(e=J0(e,t,ci),a.__reactInternalMemoizedMergedChildContext=e,Je(rn),Je(Ht),Ke(Ht,e)):Je(rn),Ke(rn,r)}var ir=null,el=!1,$l=!1;function $0(e){ir===null?ir=[e]:ir.push(e)}function Im(e){el=!0,$0(e)}function Yr(){if(!$l&&ir!==null){$l=!0;var e=0,t=ze;try{var r=ir;for(ze=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}ir=null,el=!1}catch(u){throw ir!==null&&(ir=ir.slice(e+1)),v0(Rc,Yr),u}finally{ze=t,$l=!1}}return null}var Fi=[],ji=0,bo=null,Mo=0,Sn=[],vn=0,di=null,sr=1,ar="";function ti(e,t){Fi[ji++]=Mo,Fi[ji++]=bo,bo=e,Mo=t}function eh(e,t,r){Sn[vn++]=sr,Sn[vn++]=ar,Sn[vn++]=di,di=e;var a=sr;e=ar;var u=32-Bn(a)-1;a&=~(1<<u),r+=1;var d=32-Bn(t)+u;if(30<d){var h=u-u%5;d=(a&(1<<h)-1).toString(32),a>>=h,u-=h,sr=1<<32-Bn(t)+u|r<<u|a,ar=d+e}else sr=1<<d|r<<u|a,ar=e}function Fc(e){e.return!==null&&(ti(e,1),eh(e,1,0))}function jc(e){for(;e===bo;)bo=Fi[--ji],Fi[ji]=null,Mo=Fi[--ji],Fi[ji]=null;for(;e===di;)di=Sn[--vn],Sn[vn]=null,ar=Sn[--vn],Sn[vn]=null,sr=Sn[--vn],Sn[vn]=null}var pn=null,gn=null,tt=!1,Pn=null;function th(e,t){var r=In(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Tf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,gn=Lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=di!==null?{id:sr,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=In(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pn=e,gn=null,!0):!1;default:return!1}}function Hu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vu(e){if(tt){var t=gn;if(t){var r=t;if(!Tf(e,t)){if(Hu(e))throw Error(ee(418));t=Lr(r.nextSibling);var a=pn;t&&Tf(e,t)?th(a,r):(e.flags=e.flags&-4097|2,tt=!1,pn=e)}}else{if(Hu(e))throw Error(ee(418));e.flags=e.flags&-4097|2,tt=!1,pn=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Ka(e){if(e!==pn)return!1;if(!tt)return _f(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fu(e.type,e.memoizedProps)),t&&(t=gn)){if(Hu(e))throw nh(),Error(ee(418));for(;t;)th(e,t),t=Lr(t.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gn=Lr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=pn?Lr(e.stateNode.nextSibling):null;return!0}function nh(){for(var e=gn;e;)e=Lr(e.nextSibling)}function $i(){gn=pn=null,tt=!1}function Uc(e){Pn===null?Pn=[e]:Pn.push(e)}var Nm=hr.ReactCurrentBatchConfig;function bs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var a=r.stateNode}if(!a)throw Error(ee(147,e));var u=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(h){var w=u.refs;h===null?delete w[d]:w[d]=h},t._stringRef=d,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rf(e){var t=e._init;return t(e._payload)}function rh(e){function t(M,I){if(e){var _=M.deletions;_===null?(M.deletions=[I],M.flags|=16):_.push(I)}}function r(M,I){if(!e)return null;for(;I!==null;)t(M,I),I=I.sibling;return null}function a(M,I){for(M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function u(M,I){return M=jr(M,I),M.index=0,M.sibling=null,M}function d(M,I,_){return M.index=_,e?(_=M.alternate,_!==null?(_=_.index,_<I?(M.flags|=2,I):_):(M.flags|=2,I)):(M.flags|=1048576,I)}function h(M){return e&&M.alternate===null&&(M.flags|=2),M}function w(M,I,_,B){return I===null||I.tag!==6?(I=au(_,M.mode,B),I.return=M,I):(I=u(I,_),I.return=M,I)}function x(M,I,_,B){var Q=_.type;return Q===Oi?y(M,I,_.props.children,B,_.key):I!==null&&(I.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ir&&Rf(Q)===I.type)?(B=u(I,_.props),B.ref=bs(M,I,_),B.return=M,B):(B=po(_.type,_.key,_.props,null,M.mode,B),B.ref=bs(M,I,_),B.return=M,B)}function p(M,I,_,B){return I===null||I.tag!==4||I.stateNode.containerInfo!==_.containerInfo||I.stateNode.implementation!==_.implementation?(I=ou(_,M.mode,B),I.return=M,I):(I=u(I,_.children||[]),I.return=M,I)}function y(M,I,_,B,Q){return I===null||I.tag!==7?(I=li(_,M.mode,B,Q),I.return=M,I):(I=u(I,_),I.return=M,I)}function C(M,I,_){if(typeof I=="string"&&I!==""||typeof I=="number")return I=au(""+I,M.mode,_),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ja:return _=po(I.type,I.key,I.props,null,M.mode,_),_.ref=bs(M,null,I),_.return=M,_;case Mi:return I=ou(I,M.mode,_),I.return=M,I;case Ir:var B=I._init;return C(M,B(I._payload),_)}if(Ls(I)||Is(I))return I=li(I,M.mode,_,null),I.return=M,I;Za(M,I)}return null}function T(M,I,_,B){var Q=I!==null?I.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return Q!==null?null:w(M,I,""+_,B);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ja:return _.key===Q?x(M,I,_,B):null;case Mi:return _.key===Q?p(M,I,_,B):null;case Ir:return Q=_._init,T(M,I,Q(_._payload),B)}if(Ls(_)||Is(_))return Q!==null?null:y(M,I,_,B,null);Za(M,_)}return null}function L(M,I,_,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return M=M.get(_)||null,w(I,M,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ja:return M=M.get(B.key===null?_:B.key)||null,x(I,M,B,Q);case Mi:return M=M.get(B.key===null?_:B.key)||null,p(I,M,B,Q);case Ir:var j=B._init;return L(M,I,_,j(B._payload),Q)}if(Ls(B)||Is(B))return M=M.get(_)||null,y(I,M,B,Q,null);Za(I,B)}return null}function b(M,I,_,B){for(var Q=null,j=null,U=I,Z=I=0,K=null;U!==null&&Z<_.length;Z++){U.index>Z?(K=U,U=null):K=U.sibling;var pe=T(M,U,_[Z],B);if(pe===null){U===null&&(U=K);break}e&&U&&pe.alternate===null&&t(M,U),I=d(pe,I,Z),j===null?Q=pe:j.sibling=pe,j=pe,U=K}if(Z===_.length)return r(M,U),tt&&ti(M,Z),Q;if(U===null){for(;Z<_.length;Z++)U=C(M,_[Z],B),U!==null&&(I=d(U,I,Z),j===null?Q=U:j.sibling=U,j=U);return tt&&ti(M,Z),Q}for(U=a(M,U);Z<_.length;Z++)K=L(U,M,Z,_[Z],B),K!==null&&(e&&K.alternate!==null&&U.delete(K.key===null?Z:K.key),I=d(K,I,Z),j===null?Q=K:j.sibling=K,j=K);return e&&U.forEach(function(Ne){return t(M,Ne)}),tt&&ti(M,Z),Q}function D(M,I,_,B){var Q=Is(_);if(typeof Q!="function")throw Error(ee(150));if(_=Q.call(_),_==null)throw Error(ee(151));for(var j=Q=null,U=I,Z=I=0,K=null,pe=_.next();U!==null&&!pe.done;Z++,pe=_.next()){U.index>Z?(K=U,U=null):K=U.sibling;var Ne=T(M,U,pe.value,B);if(Ne===null){U===null&&(U=K);break}e&&U&&Ne.alternate===null&&t(M,U),I=d(Ne,I,Z),j===null?Q=Ne:j.sibling=Ne,j=Ne,U=K}if(pe.done)return r(M,U),tt&&ti(M,Z),Q;if(U===null){for(;!pe.done;Z++,pe=_.next())pe=C(M,pe.value,B),pe!==null&&(I=d(pe,I,Z),j===null?Q=pe:j.sibling=pe,j=pe);return tt&&ti(M,Z),Q}for(U=a(M,U);!pe.done;Z++,pe=_.next())pe=L(U,M,Z,pe.value,B),pe!==null&&(e&&pe.alternate!==null&&U.delete(pe.key===null?Z:pe.key),I=d(pe,I,Z),j===null?Q=pe:j.sibling=pe,j=pe);return e&&U.forEach(function(ce){return t(M,ce)}),tt&&ti(M,Z),Q}function O(M,I,_,B){if(typeof _=="object"&&_!==null&&_.type===Oi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ja:e:{for(var Q=_.key,j=I;j!==null;){if(j.key===Q){if(Q=_.type,Q===Oi){if(j.tag===7){r(M,j.sibling),I=u(j,_.props.children),I.return=M,M=I;break e}}else if(j.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ir&&Rf(Q)===j.type){r(M,j.sibling),I=u(j,_.props),I.ref=bs(M,j,_),I.return=M,M=I;break e}r(M,j);break}else t(M,j);j=j.sibling}_.type===Oi?(I=li(_.props.children,M.mode,B,_.key),I.return=M,M=I):(B=po(_.type,_.key,_.props,null,M.mode,B),B.ref=bs(M,I,_),B.return=M,M=B)}return h(M);case Mi:e:{for(j=_.key;I!==null;){if(I.key===j)if(I.tag===4&&I.stateNode.containerInfo===_.containerInfo&&I.stateNode.implementation===_.implementation){r(M,I.sibling),I=u(I,_.children||[]),I.return=M,M=I;break e}else{r(M,I);break}else t(M,I);I=I.sibling}I=ou(_,M.mode,B),I.return=M,M=I}return h(M);case Ir:return j=_._init,O(M,I,j(_._payload),B)}if(Ls(_))return b(M,I,_,B);if(Is(_))return D(M,I,_,B);Za(M,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,I!==null&&I.tag===6?(r(M,I.sibling),I=u(I,_),I.return=M,M=I):(r(M,I),I=au(_,M.mode,B),I.return=M,M=I),h(M)):r(M,I)}return O}var es=rh(!0),ih=rh(!1),Oo=Gr(null),Do=null,Ui=null,zc=null;function Hc(){zc=Ui=Do=null}function Vc(e){var t=Oo.current;Je(Oo),e._currentValue=t}function Wu(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ki(e,t){Do=e,zc=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(zc!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(Do===null)throw Error(ee(308));Ui=e,Do.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var ii=null;function Wc(e){ii===null?ii=[e]:ii.push(e)}function sh(e,t,r,a){var u=t.interleaved;return u===null?(r.next=r,Wc(t)):(r.next=u.next,u.next=r),t.interleaved=r,dr(e,a)}function dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nr=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ke&2){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,dr(e,r)}return u=a.interleaved,u===null?(t.next=t,Wc(a)):(t.next=u.next,u.next=t),a.interleaved=t,dr(e,r)}function lo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,bc(e,r)}}function bf(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?u=d=h:d=d.next=h,r=r.next}while(r!==null);d===null?u=d=t:d=d.next=t}else u=d=t;r={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ko(e,t,r,a){var u=e.updateQueue;Nr=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var x=w,p=x.next;x.next=null,h===null?d=p:h.next=p,h=x;var y=e.alternate;y!==null&&(y=y.updateQueue,w=y.lastBaseUpdate,w!==h&&(w===null?y.firstBaseUpdate=p:w.next=p,y.lastBaseUpdate=x))}if(d!==null){var C=u.baseState;h=0,y=p=x=null,w=d;do{var T=w.lane,L=w.eventTime;if((a&T)===T){y!==null&&(y=y.next={eventTime:L,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var b=e,D=w;switch(T=t,L=r,D.tag){case 1:if(b=D.payload,typeof b=="function"){C=b.call(L,C,T);break e}C=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=D.payload,T=typeof b=="function"?b.call(L,C,T):b,T==null)break e;C=at({},C,T);break e;case 2:Nr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,T=u.effects,T===null?u.effects=[w]:T.push(w))}else L={eventTime:L,lane:T,tag:w.tag,payload:w.payload,callback:w.callback,next:null},y===null?(p=y=L,x=C):y=y.next=L,h|=T;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;T=w,w=T.next,T.next=null,u.lastBaseUpdate=T,u.shared.pending=null}}while(!0);if(y===null&&(x=C),u.baseState=x,u.firstBaseUpdate=p,u.lastBaseUpdate=y,t=u.shared.interleaved,t!==null){u=t;do h|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);hi|=h,e.lanes=h,e.memoizedState=C}}function Mf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=r,typeof u!="function")throw Error(ee(191,u));u.call(a)}}}var xa={},tr=Gr(xa),ia=Gr(xa),sa=Gr(xa);function si(e){if(e===xa)throw Error(ee(174));return e}function Yc(e,t){switch(Ke(sa,t),Ke(ia,e),Ke(tr,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vu(t,e)}Je(tr),Ke(tr,t)}function ts(){Je(tr),Je(ia),Je(sa)}function oh(e){si(sa.current);var t=si(tr.current),r=vu(t,e.type);t!==r&&(Ke(ia,e),Ke(tr,r))}function Xc(e){ia.current===e&&(Je(tr),Je(ia))}var it=Gr(0);function Lo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function Qc(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var uo=hr.ReactCurrentDispatcher,tu=hr.ReactCurrentBatchConfig,fi=0,st=null,At=null,Tt=null,Po=!1,Vs=!1,aa=0,Tm=0;function Ft(){throw Error(ee(321))}function Kc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jn(e[r],t[r]))return!1;return!0}function Zc(e,t,r,a,u,d){if(fi=d,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=e===null||e.memoizedState===null?Mm:Om,e=r(a,u),Vs){d=0;do{if(Vs=!1,aa=0,25<=d)throw Error(ee(301));d+=1,Tt=At=null,t.updateQueue=null,uo.current=Dm,e=r(a,u)}while(Vs)}if(uo.current=Bo,t=At!==null&&At.next!==null,fi=0,Tt=At=st=null,Po=!1,t)throw Error(ee(300));return e}function qc(){var e=aa!==0;return aa=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?st.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function _n(){if(At===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Tt===null?st.memoizedState:Tt.next;if(t!==null)Tt=t,At=e;else{if(e===null)throw Error(ee(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Tt===null?st.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function oa(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=_n(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var a=At,u=a.baseQueue,d=r.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}a.baseQueue=u=d,r.pending=null}if(u!==null){d=u.next,a=a.baseState;var w=h=null,x=null,p=d;do{var y=p.lane;if((fi&y)===y)x!==null&&(x=x.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),a=p.hasEagerState?p.eagerState:e(a,p.action);else{var C={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};x===null?(w=x=C,h=a):x=x.next=C,st.lanes|=y,hi|=y}p=p.next}while(p!==null&&p!==d);x===null?h=a:x.next=w,jn(a,t.memoizedState)||(nn=!0),t.memoizedState=a,t.baseState=h,t.baseQueue=x,r.lastRenderedState=a}if(e=r.interleaved,e!==null){u=e;do d=u.lane,st.lanes|=d,hi|=d,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ru(e){var t=_n(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var a=r.dispatch,u=r.pending,d=t.memoizedState;if(u!==null){r.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);jn(d,t.memoizedState)||(nn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,a]}function lh(){}function uh(e,t){var r=st,a=_n(),u=t(),d=!jn(a.memoizedState,u);if(d&&(a.memoizedState=u,nn=!0),a=a.queue,Jc(fh.bind(null,r,a,e),[e]),a.getSnapshot!==t||d||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,la(9,dh.bind(null,r,a,u,t),void 0,null),_t===null)throw Error(ee(349));fi&30||ch(r,t,u)}return u}function ch(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dh(e,t,r,a){t.value=r,t.getSnapshot=a,hh(t)&&gh(e)}function fh(e,t,r){return r(function(){hh(t)&&gh(e)})}function hh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jn(e,r)}catch{return!0}}function gh(e){var t=dr(e,1);t!==null&&Fn(t,e,1,-1)}function Of(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t.queue=e,e=e.dispatch=bm.bind(null,st,e),[t.memoizedState,e]}function la(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function ph(){return _n().memoizedState}function co(e,t,r,a){var u=qn();st.flags|=e,u.memoizedState=la(1|t,r,void 0,a===void 0?null:a)}function tl(e,t,r,a){var u=_n();a=a===void 0?null:a;var d=void 0;if(At!==null){var h=At.memoizedState;if(d=h.destroy,a!==null&&Kc(a,h.deps)){u.memoizedState=la(t,r,d,a);return}}st.flags|=e,u.memoizedState=la(1|t,r,d,a)}function Df(e,t){return co(8390656,8,e,t)}function Jc(e,t){return tl(2048,8,e,t)}function mh(e,t){return tl(4,2,e,t)}function xh(e,t){return tl(4,4,e,t)}function wh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yh(e,t,r){return r=r!=null?r.concat([e]):null,tl(4,4,wh.bind(null,t,e),r)}function $c(){}function Eh(e,t){var r=_n();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Kc(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Ch(e,t){var r=_n();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Kc(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Ah(e,t,r){return fi&21?(jn(r,t)||(r=T0(),st.lanes|=r,hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=r)}function _m(e,t){var r=ze;ze=r!==0&&4>r?r:4,e(!0);var a=tu.transition;tu.transition={};try{e(!1),t()}finally{ze=r,tu.transition=a}}function Sh(){return _n().memoizedState}function Rm(e,t,r){var a=Fr(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},vh(e))Ih(t,r);else if(r=sh(e,t,r,a),r!==null){var u=Yt();Fn(r,e,a,u),Nh(r,t,a)}}function bm(e,t,r){var a=Fr(e),u={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(vh(e))Ih(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,w=d(h,r);if(u.hasEagerState=!0,u.eagerState=w,jn(w,h)){var x=t.interleaved;x===null?(u.next=u,Wc(t)):(u.next=x.next,x.next=u),t.interleaved=u;return}}catch{}finally{}r=sh(e,t,u,a),r!==null&&(u=Yt(),Fn(r,e,a,u),Nh(r,t,a))}}function vh(e){var t=e.alternate;return e===st||t!==null&&t===st}function Ih(e,t){Vs=Po=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Nh(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,bc(e,r)}}var Bo={readContext:Tn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Mm={readContext:Tn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:Df,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,co(4194308,4,wh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return co(4194308,4,e,t)},useInsertionEffect:function(e,t){return co(4,2,e,t)},useMemo:function(e,t){var r=qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=qn();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Rm.bind(null,st,e),[a.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Of,useDebugValue:$c,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=Of(!1),t=e[0];return e=_m.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=st,u=qn();if(tt){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),_t===null)throw Error(ee(349));fi&30||ch(a,t,r)}u.memoizedState=r;var d={value:r,getSnapshot:t};return u.queue=d,Df(fh.bind(null,a,d,e),[e]),a.flags|=2048,la(9,dh.bind(null,a,d,r,t),void 0,null),r},useId:function(){var e=qn(),t=_t.identifierPrefix;if(tt){var r=ar,a=sr;r=(a&~(1<<32-Bn(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=aa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Tm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Om={readContext:Tn,useCallback:Eh,useContext:Tn,useEffect:Jc,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:xh,useMemo:Ch,useReducer:nu,useRef:ph,useState:function(){return nu(oa)},useDebugValue:$c,useDeferredValue:function(e){var t=_n();return Ah(t,At.memoizedState,e)},useTransition:function(){var e=nu(oa)[0],t=_n().memoizedState;return[e,t]},useMutableSource:lh,useSyncExternalStore:uh,useId:Sh,unstable_isNewReconciler:!1},Dm={readContext:Tn,useCallback:Eh,useContext:Tn,useEffect:Jc,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:xh,useMemo:Ch,useReducer:ru,useRef:ph,useState:function(){return ru(oa)},useDebugValue:$c,useDeferredValue:function(e){var t=_n();return At===null?t.memoizedState=e:Ah(t,At.memoizedState,e)},useTransition:function(){var e=ru(oa)[0],t=_n().memoizedState;return[e,t]},useMutableSource:lh,useSyncExternalStore:uh,useId:Sh,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gu(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:at({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nl={isMounted:function(e){return(e=e._reactInternals)?wi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Yt(),u=Fr(e),d=lr(a,u);d.payload=t,r!=null&&(d.callback=r),t=Pr(e,d,u),t!==null&&(Fn(t,e,u,a),lo(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Yt(),u=Fr(e),d=lr(a,u);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Pr(e,d,u),t!==null&&(Fn(t,e,u,a),lo(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yt(),a=Fr(e),u=lr(r,a);u.tag=2,t!=null&&(u.callback=t),t=Pr(e,u,a),t!==null&&(Fn(t,e,a,r),lo(t,e,a))}};function kf(e,t,r,a,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,h):t.prototype&&t.prototype.isPureReactComponent?!ea(r,a)||!ea(u,d):!0}function Th(e,t,r){var a=!1,u=Hr,d=t.contextType;return typeof d=="object"&&d!==null?d=Tn(d):(u=sn(t)?ci:Ht.current,a=t.contextTypes,d=(a=a!=null)?Ji(e,u):Hr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function Lf(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function Yu(e,t,r,a){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Gc(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=Tn(d):(d=sn(t)?ci:Ht.current,u.context=Ji(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Gu(e,t,d,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&nl.enqueueReplaceState(u,u.state,null),ko(e,r,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,t){try{var r="",a=t;do r+=o2(a),a=a.return;while(a);var u=r}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function iu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var km=typeof WeakMap=="function"?WeakMap:Map;function _h(e,t,r){r=lr(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){jo||(jo=!0,rc=a),Xu(e,t)},r}function Rh(e,t,r){r=lr(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;r.payload=function(){return a(u)},r.callback=function(){Xu(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Xu(e,t),typeof a!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function Pf(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new km;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(r)||(u.add(r),e=Qm.bind(null,e,t,r),t.then(e,e))}function Bf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ff(e,t,r,a,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=lr(-1,1),t.tag=2,Pr(r,t,1))),r.lanes|=1),e)}var Lm=hr.ReactCurrentOwner,nn=!1;function Gt(e,t,r,a){t.child=e===null?ih(t,null,r,a):es(t,e.child,r,a)}function jf(e,t,r,a,u){r=r.render;var d=t.ref;return Ki(t,u),a=Zc(e,t,r,a,d,u),r=qc(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,fr(e,t,u)):(tt&&r&&Fc(t),t.flags|=1,Gt(e,t,a,u),t.child)}function Uf(e,t,r,a,u){if(e===null){var d=r.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,bh(e,t,d,a,u)):(e=po(r.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&u)){var h=d.memoizedProps;if(r=r.compare,r=r!==null?r:ea,r(h,a)&&e.ref===t.ref)return fr(e,t,u)}return t.flags|=1,e=jr(d,a),e.ref=t.ref,e.return=t,t.child=e}function bh(e,t,r,a,u){if(e!==null){var d=e.memoizedProps;if(ea(d,a)&&e.ref===t.ref)if(nn=!1,t.pendingProps=a=d,(e.lanes&u)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,fr(e,t,u)}return Qu(e,t,r,a,u)}function Mh(e,t,r){var a=t.pendingProps,u=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Hi,fn),fn|=r;else{if(!(r&1073741824))return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(Hi,fn),fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:r,Ke(Hi,fn),fn|=a}else d!==null?(a=d.baseLanes|r,t.memoizedState=null):a=r,Ke(Hi,fn),fn|=a;return Gt(e,t,u,r),t.child}function Oh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qu(e,t,r,a,u){var d=sn(r)?ci:Ht.current;return d=Ji(t,d),Ki(t,u),r=Zc(e,t,r,a,d,u),a=qc(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,fr(e,t,u)):(tt&&a&&Fc(t),t.flags|=1,Gt(e,t,r,u),t.child)}function zf(e,t,r,a,u){if(sn(r)){var d=!0;Ro(t)}else d=!1;if(Ki(t,u),t.stateNode===null)fo(e,t),Th(t,r,a),Yu(t,r,a,u),a=!0;else if(e===null){var h=t.stateNode,w=t.memoizedProps;h.props=w;var x=h.context,p=r.contextType;typeof p=="object"&&p!==null?p=Tn(p):(p=sn(r)?ci:Ht.current,p=Ji(t,p));var y=r.getDerivedStateFromProps,C=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function";C||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==a||x!==p)&&Lf(t,h,a,p),Nr=!1;var T=t.memoizedState;h.state=T,ko(t,a,h,u),x=t.memoizedState,w!==a||T!==x||rn.current||Nr?(typeof y=="function"&&(Gu(t,r,y,a),x=t.memoizedState),(w=Nr||kf(t,r,w,a,T,x,p))?(C||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),h.props=a,h.state=x,h.context=p,a=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,ah(e,t),w=t.memoizedProps,p=t.type===t.elementType?w:Dn(t.type,w),h.props=p,C=t.pendingProps,T=h.context,x=r.contextType,typeof x=="object"&&x!==null?x=Tn(x):(x=sn(r)?ci:Ht.current,x=Ji(t,x));var L=r.getDerivedStateFromProps;(y=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==C||T!==x)&&Lf(t,h,a,x),Nr=!1,T=t.memoizedState,h.state=T,ko(t,a,h,u);var b=t.memoizedState;w!==C||T!==b||rn.current||Nr?(typeof L=="function"&&(Gu(t,r,L,a),b=t.memoizedState),(p=Nr||kf(t,r,p,a,T,b,x)||!1)?(y||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,b,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,b,x)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=b),h.props=a,h.state=b,h.context=x,a=p):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),a=!1)}return Ku(e,t,r,a,d,u)}function Ku(e,t,r,a,u,d){Oh(e,t);var h=(t.flags&128)!==0;if(!a&&!h)return u&&Nf(t,r,!1),fr(e,t,d);a=t.stateNode,Lm.current=t;var w=h&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&h?(t.child=es(t,e.child,null,d),t.child=es(t,null,w,d)):Gt(e,t,w,d),t.memoizedState=a.state,u&&Nf(t,r,!0),t.child}function Dh(e){var t=e.stateNode;t.pendingContext?If(e,t.pendingContext,t.pendingContext!==t.context):t.context&&If(e,t.context,!1),Yc(e,t.containerInfo)}function Hf(e,t,r,a,u){return $i(),Uc(u),t.flags|=256,Gt(e,t,r,a),t.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function kh(e,t,r){var a=t.pendingProps,u=it.current,d=!1,h=(t.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(u&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ke(it,u&1),e===null)return Vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=a.children,e=a.fallback,d?(a=t.mode,d=t.child,h={mode:"hidden",children:h},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=sl(h,a,0,null),e=li(e,a,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=qu(r),t.memoizedState=Zu,e):ed(t,h));if(u=e.memoizedState,u!==null&&(w=u.dehydrated,w!==null))return Pm(e,t,h,a,w,u,r);if(d){d=a.fallback,h=t.mode,u=e.child,w=u.sibling;var x={mode:"hidden",children:a.children};return!(h&1)&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=x,t.deletions=null):(a=jr(u,x),a.subtreeFlags=u.subtreeFlags&14680064),w!==null?d=jr(w,d):(d=li(d,h,r,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,h=e.child.memoizedState,h=h===null?qu(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~r,t.memoizedState=Zu,a}return d=e.child,e=d.sibling,a=jr(d,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function ed(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qa(e,t,r,a){return a!==null&&Uc(a),es(t,e.child,null,r),e=ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pm(e,t,r,a,u,d,h){if(r)return t.flags&256?(t.flags&=-257,a=iu(Error(ee(422))),qa(e,t,h,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,u=t.mode,a=sl({mode:"visible",children:a.children},u,0,null),d=li(d,u,h,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,t.mode&1&&es(t,e.child,null,h),t.child.memoizedState=qu(h),t.memoizedState=Zu,d);if(!(t.mode&1))return qa(e,t,h,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(ee(419)),a=iu(d,a,void 0),qa(e,t,h,a)}if(w=(h&e.childLanes)!==0,nn||w){if(a=_t,a!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(a.suspendedLanes|h)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,dr(e,u),Fn(a,e,u,-1))}return ad(),a=iu(Error(ee(421))),qa(e,t,h,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Km.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,gn=Lr(u.nextSibling),pn=t,tt=!0,Pn=null,e!==null&&(Sn[vn++]=sr,Sn[vn++]=ar,Sn[vn++]=di,sr=e.id,ar=e.overflow,di=t),t=ed(t,a.children),t.flags|=4096,t)}function Vf(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Wu(e.return,t,r)}function su(e,t,r,a,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=r,d.tailMode=u)}function Lh(e,t,r){var a=t.pendingProps,u=a.revealOrder,d=a.tail;if(Gt(e,t,a.children,r),a=it.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,r,t);else if(e.tag===19)Vf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ke(it,a),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Lo(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),su(t,!1,u,r,d);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Lo(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}su(t,!0,r,null,d);break;case"together":su(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bm(e,t,r){switch(t.tag){case 3:Dh(t),$i();break;case 5:oh(t);break;case 1:sn(t.type)&&Ro(t);break;case 4:Yc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;Ke(Oo,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ke(it,it.current&1),t.flags|=128,null):r&t.child.childLanes?kh(e,t,r):(Ke(it,it.current&1),e=fr(e,t,r),e!==null?e.sibling:null);Ke(it,it.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return Lh(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ke(it,it.current),a)break;return null;case 22:case 23:return t.lanes=0,Mh(e,t,r)}return fr(e,t,r)}var Ph,Ju,Bh,Fh;Ph=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ju=function(){};Bh=function(e,t,r,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,si(tr.current);var d=null;switch(r){case"input":u=Eu(e,u),a=Eu(e,a),d=[];break;case"select":u=at({},u,{value:void 0}),a=at({},a,{value:void 0}),d=[];break;case"textarea":u=Su(e,u),a=Su(e,a),d=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=To)}Iu(r,a);var h;r=null;for(p in u)if(!a.hasOwnProperty(p)&&u.hasOwnProperty(p)&&u[p]!=null)if(p==="style"){var w=u[p];for(h in w)w.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Xs.hasOwnProperty(p)?d||(d=[]):(d=d||[]).push(p,null));for(p in a){var x=a[p];if(w=u!=null?u[p]:void 0,a.hasOwnProperty(p)&&x!==w&&(x!=null||w!=null))if(p==="style")if(w){for(h in w)!w.hasOwnProperty(h)||x&&x.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in x)x.hasOwnProperty(h)&&w[h]!==x[h]&&(r||(r={}),r[h]=x[h])}else r||(d||(d=[]),d.push(p,r)),r=x;else p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,w=w?w.__html:void 0,x!=null&&w!==x&&(d=d||[]).push(p,x)):p==="children"?typeof x!="string"&&typeof x!="number"||(d=d||[]).push(p,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Xs.hasOwnProperty(p)?(x!=null&&p==="onScroll"&&qe("scroll",e),d||w===x||(d=[])):(d=d||[]).push(p,x))}r&&(d=d||[]).push("style",r);var p=d;(t.updateQueue=p)&&(t.flags|=4)}};Fh=function(e,t,r,a){r!==a&&(t.flags|=4)};function Ms(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Fm(e,t,r){var a=t.pendingProps;switch(jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return sn(t.type)&&_o(),jt(t),null;case 3:return a=t.stateNode,ts(),Je(rn),Je(Ht),Qc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(ac(Pn),Pn=null))),Ju(e,t),jt(t),null;case 5:Xc(t);var u=si(sa.current);if(r=t.type,e!==null&&t.stateNode!=null)Bh(e,t,r,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(ee(166));return jt(t),null}if(e=si(tr.current),Ka(t)){a=t.stateNode,r=t.type;var d=t.memoizedProps;switch(a[$n]=t,a[ra]=d,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(u=0;u<Bs.length;u++)qe(Bs[u],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qd(a,d),qe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},qe("invalid",a);break;case"textarea":$d(a,d),qe("invalid",a)}Iu(r,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var w=d[h];h==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&Qa(a.textContent,w,e),u=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Qa(a.textContent,w,e),u=["children",""+w]):Xs.hasOwnProperty(h)&&w!=null&&h==="onScroll"&&qe("scroll",a)}switch(r){case"input":Ua(a),Jd(a,d,!0);break;case"textarea":Ua(a),ef(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=To)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=f0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=h.createElement(r,{is:a.is}):(e=h.createElement(r),r==="select"&&(h=e,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):e=h.createElementNS(e,r),e[$n]=t,e[ra]=a,Ph(e,t,!1,!1),t.stateNode=e;e:{switch(h=Nu(r,a),r){case"dialog":qe("cancel",e),qe("close",e),u=a;break;case"iframe":case"object":case"embed":qe("load",e),u=a;break;case"video":case"audio":for(u=0;u<Bs.length;u++)qe(Bs[u],e);u=a;break;case"source":qe("error",e),u=a;break;case"img":case"image":case"link":qe("error",e),qe("load",e),u=a;break;case"details":qe("toggle",e),u=a;break;case"input":qd(e,a),u=Eu(e,a),qe("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=at({},a,{value:void 0}),qe("invalid",e);break;case"textarea":$d(e,a),u=Su(e,a),qe("invalid",e);break;default:u=a}Iu(r,u),w=u;for(d in w)if(w.hasOwnProperty(d)){var x=w[d];d==="style"?p0(e,x):d==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&h0(e,x)):d==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&Qs(e,x):typeof x=="number"&&Qs(e,""+x):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Xs.hasOwnProperty(d)?x!=null&&d==="onScroll"&&qe("scroll",e):x!=null&&vc(e,d,x,h))}switch(r){case"input":Ua(e),Jd(e,a,!1);break;case"textarea":Ua(e),ef(e);break;case"option":a.value!=null&&e.setAttribute("value",""+zr(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Gi(e,!!a.multiple,d,!1):a.defaultValue!=null&&Gi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=To)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)Fh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(ee(166));if(r=si(sa.current),si(tr.current),Ka(t)){if(a=t.stateNode,r=t.memoizedProps,a[$n]=t,(d=a.nodeValue!==r)&&(e=pn,e!==null))switch(e.tag){case 3:Qa(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qa(a.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[$n]=t,t.stateNode=a}return jt(t),null;case 13:if(Je(it),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&gn!==null&&t.mode&1&&!(t.flags&128))nh(),$i(),t.flags|=98560,d=!1;else if(d=Ka(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(ee(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(ee(317));d[$n]=t}else $i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),d=!1}else Pn!==null&&(ac(Pn),Pn=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?St===0&&(St=3):ad())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return ts(),Ju(e,t),e===null&&ta(t.stateNode.containerInfo),jt(t),null;case 10:return Vc(t.type._context),jt(t),null;case 17:return sn(t.type)&&_o(),jt(t),null;case 19:if(Je(it),d=t.memoizedState,d===null)return jt(t),null;if(a=(t.flags&128)!==0,h=d.rendering,h===null)if(a)Ms(d,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Lo(e),h!==null){for(t.flags|=128,Ms(d,!1),a=h.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)d=r,e=a,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(it,it.current&1|2),t.child}e=e.sibling}d.tail!==null&&gt()>rs&&(t.flags|=128,a=!0,Ms(d,!1),t.lanes=4194304)}else{if(!a)if(e=Lo(h),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ms(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!tt)return jt(t),null}else 2*gt()-d.renderingStartTime>rs&&r!==1073741824&&(t.flags|=128,a=!0,Ms(d,!1),t.lanes=4194304);d.isBackwards?(h.sibling=t.child,t.child=h):(r=d.last,r!==null?r.sibling=h:t.child=h,d.last=h)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=gt(),t.sibling=null,r=it.current,Ke(it,a?r&1|2:r&1),t):(jt(t),null);case 22:case 23:return sd(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?fn&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function jm(e,t){switch(jc(t),t.tag){case 1:return sn(t.type)&&_o(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(),Je(rn),Je(Ht),Qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xc(t),null;case 13:if(Je(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(it),null;case 4:return ts(),null;case 10:return Vc(t.type._context),null;case 22:case 23:return sd(),null;case 24:return null;default:return null}}var Ja=!1,Ut=!1,Um=typeof WeakSet=="function"?WeakSet:Set,ue=null;function zi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){ft(e,t,a)}else r.current=null}function $u(e,t,r){try{r()}catch(a){ft(e,t,a)}}var Wf=!1;function zm(e,t){if(Pu=vo,e=V0(),Bc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var u=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var h=0,w=-1,x=-1,p=0,y=0,C=e,T=null;t:for(;;){for(var L;C!==r||u!==0&&C.nodeType!==3||(w=h+u),C!==d||a!==0&&C.nodeType!==3||(x=h+a),C.nodeType===3&&(h+=C.nodeValue.length),(L=C.firstChild)!==null;)T=C,C=L;for(;;){if(C===e)break t;if(T===r&&++p===u&&(w=h),T===d&&++y===a&&(x=h),(L=C.nextSibling)!==null)break;C=T,T=C.parentNode}C=L}r=w===-1||x===-1?null:{start:w,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bu={focusedElem:e,selectionRange:r},vo=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var D=b.memoizedProps,O=b.memoizedState,M=t.stateNode,I=M.getSnapshotBeforeUpdate(t.elementType===t.type?D:Dn(t.type,D),O);M.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(B){ft(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return b=Wf,Wf=!1,b}function Ws(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&$u(t,r,d)}u=u.next}while(u!==a)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function ec(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jh(e){var t=e.alternate;t!==null&&(e.alternate=null,jh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[ra],delete t[Uu],delete t[Sm],delete t[vm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uh(e){return e.tag===5||e.tag===3||e.tag===4}function Gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tc(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=To));else if(a!==4&&(e=e.child,e!==null))for(tc(e,t,r),e=e.sibling;e!==null;)tc(e,t,r),e=e.sibling}function nc(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(nc(e,t,r),e=e.sibling;e!==null;)nc(e,t,r),e=e.sibling}var Dt=null,kn=!1;function Ar(e,t,r){for(r=r.child;r!==null;)zh(e,t,r),r=r.sibling}function zh(e,t,r){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Ko,r)}catch{}switch(r.tag){case 5:Ut||zi(r,t);case 6:var a=Dt,u=kn;Dt=null,Ar(e,t,r),Dt=a,kn=u,Dt!==null&&(kn?(e=Dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Dt.removeChild(r.stateNode));break;case 18:Dt!==null&&(kn?(e=Dt,r=r.stateNode,e.nodeType===8?Jl(e.parentNode,r):e.nodeType===1&&Jl(e,r),Js(e)):Jl(Dt,r.stateNode));break;case 4:a=Dt,u=kn,Dt=r.stateNode.containerInfo,kn=!0,Ar(e,t,r),Dt=a,kn=u;break;case 0:case 11:case 14:case 15:if(!Ut&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&$u(r,t,h),u=u.next}while(u!==a)}Ar(e,t,r);break;case 1:if(!Ut&&(zi(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(w){ft(r,t,w)}Ar(e,t,r);break;case 21:Ar(e,t,r);break;case 22:r.mode&1?(Ut=(a=Ut)||r.memoizedState!==null,Ar(e,t,r),Ut=a):Ar(e,t,r);break;default:Ar(e,t,r)}}function Yf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Um),t.forEach(function(a){var u=Zm.bind(null,e,a);r.has(a)||(r.add(a),a.then(u,u))})}}function On(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];try{var d=e,h=t,w=h;e:for(;w!==null;){switch(w.tag){case 5:Dt=w.stateNode,kn=!1;break e;case 3:Dt=w.stateNode.containerInfo,kn=!0;break e;case 4:Dt=w.stateNode.containerInfo,kn=!0;break e}w=w.return}if(Dt===null)throw Error(ee(160));zh(d,h,u),Dt=null,kn=!1;var x=u.alternate;x!==null&&(x.return=null),u.return=null}catch(p){ft(u,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hh(t,e),t=t.sibling}function Hh(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),Kn(e),a&4){try{Ws(3,e,e.return),rl(3,e)}catch(D){ft(e,e.return,D)}try{Ws(5,e,e.return)}catch(D){ft(e,e.return,D)}}break;case 1:On(t,e),Kn(e),a&512&&r!==null&&zi(r,r.return);break;case 5:if(On(t,e),Kn(e),a&512&&r!==null&&zi(r,r.return),e.flags&32){var u=e.stateNode;try{Qs(u,"")}catch(D){ft(e,e.return,D)}}if(a&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=r!==null?r.memoizedProps:d,w=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&c0(u,d),Nu(w,h);var p=Nu(w,d);for(h=0;h<x.length;h+=2){var y=x[h],C=x[h+1];y==="style"?p0(u,C):y==="dangerouslySetInnerHTML"?h0(u,C):y==="children"?Qs(u,C):vc(u,y,C,p)}switch(w){case"input":Cu(u,d);break;case"textarea":d0(u,d);break;case"select":var T=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var L=d.value;L!=null?Gi(u,!!d.multiple,L,!1):T!==!!d.multiple&&(d.defaultValue!=null?Gi(u,!!d.multiple,d.defaultValue,!0):Gi(u,!!d.multiple,d.multiple?[]:"",!1))}u[ra]=d}catch(D){ft(e,e.return,D)}}break;case 6:if(On(t,e),Kn(e),a&4){if(e.stateNode===null)throw Error(ee(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(D){ft(e,e.return,D)}}break;case 3:if(On(t,e),Kn(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(D){ft(e,e.return,D)}break;case 4:On(t,e),Kn(e);break;case 13:On(t,e),Kn(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(rd=gt())),a&4&&Yf(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(Ut=(p=Ut)||y,On(t,e),Ut=p):On(t,e),Kn(e),a&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(ue=e,y=e.child;y!==null;){for(C=ue=y;ue!==null;){switch(T=ue,L=T.child,T.tag){case 0:case 11:case 14:case 15:Ws(4,T,T.return);break;case 1:zi(T,T.return);var b=T.stateNode;if(typeof b.componentWillUnmount=="function"){a=T,r=T.return;try{t=a,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(D){ft(a,r,D)}}break;case 5:zi(T,T.return);break;case 22:if(T.memoizedState!==null){Qf(C);continue}}L!==null?(L.return=T,ue=L):Qf(C)}y=y.sibling}e:for(y=null,C=e;;){if(C.tag===5){if(y===null){y=C;try{u=C.stateNode,p?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=C.stateNode,x=C.memoizedProps.style,h=x!=null&&x.hasOwnProperty("display")?x.display:null,w.style.display=g0("display",h))}catch(D){ft(e,e.return,D)}}}else if(C.tag===6){if(y===null)try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(D){ft(e,e.return,D)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;y===C&&(y=null),C=C.return}y===C&&(y=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:On(t,e),Kn(e),a&4&&Yf(e);break;case 21:break;default:On(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Uh(r)){var a=r;break e}r=r.return}throw Error(ee(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(Qs(u,""),a.flags&=-33);var d=Gf(e);nc(e,d,u);break;case 3:case 4:var h=a.stateNode.containerInfo,w=Gf(e);tc(e,w,h);break;default:throw Error(ee(161))}}catch(x){ft(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hm(e,t,r){ue=e,Vh(e)}function Vh(e,t,r){for(var a=(e.mode&1)!==0;ue!==null;){var u=ue,d=u.child;if(u.tag===22&&a){var h=u.memoizedState!==null||Ja;if(!h){var w=u.alternate,x=w!==null&&w.memoizedState!==null||Ut;w=Ja;var p=Ut;if(Ja=h,(Ut=x)&&!p)for(ue=u;ue!==null;)h=ue,x=h.child,h.tag===22&&h.memoizedState!==null?Kf(u):x!==null?(x.return=h,ue=x):Kf(u);for(;d!==null;)ue=d,Vh(d),d=d.sibling;ue=u,Ja=w,Ut=p}Xf(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,ue=d):Xf(e)}}function Xf(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||rl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ut)if(r===null)a.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Dn(t.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Mf(t,d,a);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Mf(t,h,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var C=y.dehydrated;C!==null&&Js(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Ut||t.flags&512&&ec(t)}catch(T){ft(t,t.return,T)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Qf(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Kf(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(x){ft(t,r,x)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(x){ft(t,u,x)}}var d=t.return;try{ec(t)}catch(x){ft(t,d,x)}break;case 5:var h=t.return;try{ec(t)}catch(x){ft(t,h,x)}}}catch(x){ft(t,t.return,x)}if(t===e){ue=null;break}var w=t.sibling;if(w!==null){w.return=t.return,ue=w;break}ue=t.return}}var Vm=Math.ceil,Fo=hr.ReactCurrentDispatcher,td=hr.ReactCurrentOwner,Nn=hr.ReactCurrentBatchConfig,ke=0,_t=null,wt=null,kt=0,fn=0,Hi=Gr(0),St=0,ua=null,hi=0,il=0,nd=0,Gs=null,tn=null,rd=0,rs=1/0,rr=null,jo=!1,rc=null,Br=null,$a=!1,br=null,Uo=0,Ys=0,ic=null,ho=-1,go=0;function Yt(){return ke&6?gt():ho!==-1?ho:ho=gt()}function Fr(e){return e.mode&1?ke&2&&kt!==0?kt&-kt:Nm.transition!==null?(go===0&&(go=T0()),go):(e=ze,e!==0||(e=window.event,e=e===void 0?16:k0(e.type)),e):1}function Fn(e,t,r,a){if(50<Ys)throw Ys=0,ic=null,Error(ee(185));ga(e,r,a),(!(ke&2)||e!==_t)&&(e===_t&&(!(ke&2)&&(il|=r),St===4&&_r(e,kt)),an(e,a),r===1&&ke===0&&!(t.mode&1)&&(rs=gt()+500,el&&Yr()))}function an(e,t){var r=e.callbackNode;N2(e,t);var a=So(e,e===_t?kt:0);if(a===0)r!==null&&rf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&rf(r),t===1)e.tag===0?Im(Zf.bind(null,e)):$0(Zf.bind(null,e)),Cm(function(){!(ke&6)&&Yr()}),r=null;else{switch(_0(a)){case 1:r=Rc;break;case 4:r=I0;break;case 16:r=Ao;break;case 536870912:r=N0;break;default:r=Ao}r=qh(r,Wh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wh(e,t){if(ho=-1,go=0,ke&6)throw Error(ee(327));var r=e.callbackNode;if(Zi()&&e.callbackNode!==r)return null;var a=So(e,e===_t?kt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=zo(e,a);else{t=a;var u=ke;ke|=2;var d=Yh();(_t!==e||kt!==t)&&(rr=null,rs=gt()+500,oi(e,t));do try{Ym();break}catch(w){Gh(e,w)}while(!0);Hc(),Fo.current=d,ke=u,wt!==null?t=0:(_t=null,kt=0,t=St)}if(t!==0){if(t===2&&(u=Mu(e),u!==0&&(a=u,t=sc(e,u))),t===1)throw r=ua,oi(e,0),_r(e,a),an(e,gt()),r;if(t===6)_r(e,a);else{if(u=e.current.alternate,!(a&30)&&!Wm(u)&&(t=zo(e,a),t===2&&(d=Mu(e),d!==0&&(a=d,t=sc(e,d))),t===1))throw r=ua,oi(e,0),_r(e,a),an(e,gt()),r;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(ee(345));case 2:ni(e,tn,rr);break;case 3:if(_r(e,a),(a&130023424)===a&&(t=rd+500-gt(),10<t)){if(So(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Yt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=ju(ni.bind(null,e,tn,rr),t);break}ni(e,tn,rr);break;case 4:if(_r(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var h=31-Bn(a);d=1<<h,h=t[h],h>u&&(u=h),a&=~d}if(a=u,a=gt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Vm(a/1960))-a,10<a){e.timeoutHandle=ju(ni.bind(null,e,tn,rr),a);break}ni(e,tn,rr);break;case 5:ni(e,tn,rr);break;default:throw Error(ee(329))}}}return an(e,gt()),e.callbackNode===r?Wh.bind(null,e):null}function sc(e,t){var r=Gs;return e.current.memoizedState.isDehydrated&&(oi(e,t).flags|=256),e=zo(e,t),e!==2&&(t=tn,tn=r,t!==null&&ac(t)),e}function ac(e){tn===null?tn=e:tn.push.apply(tn,e)}function Wm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var u=r[a],d=u.getSnapshot;u=u.value;try{if(!jn(d(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~nd,t&=~il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Bn(t),a=1<<r;e[r]=-1,t&=~a}}function Zf(e){if(ke&6)throw Error(ee(327));Zi();var t=So(e,0);if(!(t&1))return an(e,gt()),null;var r=zo(e,t);if(e.tag!==0&&r===2){var a=Mu(e);a!==0&&(t=a,r=sc(e,a))}if(r===1)throw r=ua,oi(e,0),_r(e,t),an(e,gt()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ni(e,tn,rr),an(e,gt()),null}function id(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(rs=gt()+500,el&&Yr())}}function gi(e){br!==null&&br.tag===0&&!(ke&6)&&Zi();var t=ke;ke|=1;var r=Nn.transition,a=ze;try{if(Nn.transition=null,ze=1,e)return e()}finally{ze=a,Nn.transition=r,ke=t,!(ke&6)&&Yr()}}function sd(){fn=Hi.current,Je(Hi)}function oi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Em(r)),wt!==null)for(r=wt.return;r!==null;){var a=r;switch(jc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&_o();break;case 3:ts(),Je(rn),Je(Ht),Qc();break;case 5:Xc(a);break;case 4:ts();break;case 13:Je(it);break;case 19:Je(it);break;case 10:Vc(a.type._context);break;case 22:case 23:sd()}r=r.return}if(_t=e,wt=e=jr(e.current,null),kt=fn=t,St=0,ua=null,nd=il=hi=0,tn=Gs=null,ii!==null){for(t=0;t<ii.length;t++)if(r=ii[t],a=r.interleaved,a!==null){r.interleaved=null;var u=a.next,d=r.pending;if(d!==null){var h=d.next;d.next=u,a.next=h}r.pending=a}ii=null}return e}function Gh(e,t){do{var r=wt;try{if(Hc(),uo.current=Bo,Po){for(var a=st.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Po=!1}if(fi=0,Tt=At=st=null,Vs=!1,aa=0,td.current=null,r===null||r.return===null){St=1,ua=t,wt=null;break}e:{var d=e,h=r.return,w=r,x=t;if(t=kt,w.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var p=x,y=w,C=y.tag;if(!(y.mode&1)&&(C===0||C===11||C===15)){var T=y.alternate;T?(y.updateQueue=T.updateQueue,y.memoizedState=T.memoizedState,y.lanes=T.lanes):(y.updateQueue=null,y.memoizedState=null)}var L=Bf(h);if(L!==null){L.flags&=-257,Ff(L,h,w,d,t),L.mode&1&&Pf(d,p,t),t=L,x=p;var b=t.updateQueue;if(b===null){var D=new Set;D.add(x),t.updateQueue=D}else b.add(x);break e}else{if(!(t&1)){Pf(d,p,t),ad();break e}x=Error(ee(426))}}else if(tt&&w.mode&1){var O=Bf(h);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Ff(O,h,w,d,t),Uc(ns(x,w));break e}}d=x=ns(x,w),St!==4&&(St=2),Gs===null?Gs=[d]:Gs.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var M=_h(d,x,t);bf(d,M);break e;case 1:w=x;var I=d.type,_=d.stateNode;if(!(d.flags&128)&&(typeof I.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Br===null||!Br.has(_)))){d.flags|=65536,t&=-t,d.lanes|=t;var B=Rh(d,w,t);bf(d,B);break e}}d=d.return}while(d!==null)}Qh(r)}catch(Q){t=Q,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(!0)}function Yh(){var e=Fo.current;return Fo.current=Bo,e===null?Bo:e}function ad(){(St===0||St===3||St===2)&&(St=4),_t===null||!(hi&268435455)&&!(il&268435455)||_r(_t,kt)}function zo(e,t){var r=ke;ke|=2;var a=Yh();(_t!==e||kt!==t)&&(rr=null,oi(e,t));do try{Gm();break}catch(u){Gh(e,u)}while(!0);if(Hc(),ke=r,Fo.current=a,wt!==null)throw Error(ee(261));return _t=null,kt=0,St}function Gm(){for(;wt!==null;)Xh(wt)}function Ym(){for(;wt!==null&&!x2();)Xh(wt)}function Xh(e){var t=Zh(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?Qh(e):wt=t,td.current=null}function Qh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jm(r,t),r!==null){r.flags&=32767,wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,wt=null;return}}else if(r=Fm(r,t,fn),r!==null){wt=r;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);St===0&&(St=5)}function ni(e,t,r){var a=ze,u=Nn.transition;try{Nn.transition=null,ze=1,Xm(e,t,r,a)}finally{Nn.transition=u,ze=a}return null}function Xm(e,t,r,a){do Zi();while(br!==null);if(ke&6)throw Error(ee(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(T2(e,d),e===_t&&(wt=_t=null,kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$a||($a=!0,qh(Ao,function(){return Zi(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=Nn.transition,Nn.transition=null;var h=ze;ze=1;var w=ke;ke|=4,td.current=null,zm(e,r),Hh(r,e),hm(Bu),vo=!!Pu,Bu=Pu=null,e.current=r,Hm(r),w2(),ke=w,ze=h,Nn.transition=d}else e.current=r;if($a&&($a=!1,br=e,Uo=u),d=e.pendingLanes,d===0&&(Br=null),C2(r.stateNode),an(e,gt()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],a(u.value,{componentStack:u.stack,digest:u.digest});if(jo)throw jo=!1,e=rc,rc=null,e;return Uo&1&&e.tag!==0&&Zi(),d=e.pendingLanes,d&1?e===ic?Ys++:(Ys=0,ic=e):Ys=0,Yr(),null}function Zi(){if(br!==null){var e=_0(Uo),t=Nn.transition,r=ze;try{if(Nn.transition=null,ze=16>e?16:e,br===null)var a=!1;else{if(e=br,br=null,Uo=0,ke&6)throw Error(ee(331));var u=ke;for(ke|=4,ue=e.current;ue!==null;){var d=ue,h=d.child;if(ue.flags&16){var w=d.deletions;if(w!==null){for(var x=0;x<w.length;x++){var p=w[x];for(ue=p;ue!==null;){var y=ue;switch(y.tag){case 0:case 11:case 15:Ws(8,y,d)}var C=y.child;if(C!==null)C.return=y,ue=C;else for(;ue!==null;){y=ue;var T=y.sibling,L=y.return;if(jh(y),y===p){ue=null;break}if(T!==null){T.return=L,ue=T;break}ue=L}}}var b=d.alternate;if(b!==null){var D=b.child;if(D!==null){b.child=null;do{var O=D.sibling;D.sibling=null,D=O}while(D!==null)}}ue=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,ue=h;else e:for(;ue!==null;){if(d=ue,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ws(9,d,d.return)}var M=d.sibling;if(M!==null){M.return=d.return,ue=M;break e}ue=d.return}}var I=e.current;for(ue=I;ue!==null;){h=ue;var _=h.child;if(h.subtreeFlags&2064&&_!==null)_.return=h,ue=_;else e:for(h=I;ue!==null;){if(w=ue,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:rl(9,w)}}catch(Q){ft(w,w.return,Q)}if(w===h){ue=null;break e}var B=w.sibling;if(B!==null){B.return=w.return,ue=B;break e}ue=w.return}}if(ke=u,Yr(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Ko,e)}catch{}a=!0}return a}finally{ze=r,Nn.transition=t}}return!1}function qf(e,t,r){t=ns(r,t),t=_h(e,t,1),e=Pr(e,t,1),t=Yt(),e!==null&&(ga(e,1,t),an(e,t))}function ft(e,t,r){if(e.tag===3)qf(e,e,r);else for(;t!==null;){if(t.tag===3){qf(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Br===null||!Br.has(a))){e=ns(r,e),e=Rh(t,e,1),t=Pr(t,e,1),e=Yt(),t!==null&&(ga(t,1,e),an(t,e));break}}t=t.return}}function Qm(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(kt&r)===r&&(St===4||St===3&&(kt&130023424)===kt&&500>gt()-rd?oi(e,0):nd|=r),an(e,t)}function Kh(e,t){t===0&&(e.mode&1?(t=Va,Va<<=1,!(Va&130023424)&&(Va=4194304)):t=1);var r=Yt();e=dr(e,t),e!==null&&(ga(e,t,r),an(e,r))}function Km(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kh(e,r)}function Zm(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ee(314))}a!==null&&a.delete(t),Kh(e,r)}var Zh;Zh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)nn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nn=!1,Bm(e,t,r);nn=!!(e.flags&131072)}else nn=!1,tt&&t.flags&1048576&&eh(t,Mo,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;fo(e,t),e=t.pendingProps;var u=Ji(t,Ht.current);Ki(t,r),u=Zc(null,t,a,e,u,r);var d=qc();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sn(a)?(d=!0,Ro(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Gc(t),u.updater=nl,t.stateNode=u,u._reactInternals=t,Yu(t,a,e,r),t=Ku(null,t,a,!0,d,r)):(t.tag=0,tt&&d&&Fc(t),Gt(null,t,u,r),t=t.child),t;case 16:a=t.elementType;e:{switch(fo(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=Jm(a),e=Dn(a,e),u){case 0:t=Qu(null,t,a,e,r);break e;case 1:t=zf(null,t,a,e,r);break e;case 11:t=jf(null,t,a,e,r);break e;case 14:t=Uf(null,t,a,Dn(a.type,e),r);break e}throw Error(ee(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Dn(a,u),Qu(e,t,a,u,r);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Dn(a,u),zf(e,t,a,u,r);case 3:e:{if(Dh(t),e===null)throw Error(ee(387));a=t.pendingProps,d=t.memoizedState,u=d.element,ah(e,t),ko(t,a,null,r);var h=t.memoizedState;if(a=h.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=ns(Error(ee(423)),t),t=Hf(e,t,a,r,u);break e}else if(a!==u){u=ns(Error(ee(424)),t),t=Hf(e,t,a,r,u);break e}else for(gn=Lr(t.stateNode.containerInfo.firstChild),pn=t,tt=!0,Pn=null,r=ih(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($i(),a===u){t=fr(e,t,r);break e}Gt(e,t,a,r)}t=t.child}return t;case 5:return oh(t),e===null&&Vu(t),a=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Fu(a,u)?h=null:d!==null&&Fu(a,d)&&(t.flags|=32),Oh(e,t),Gt(e,t,h,r),t.child;case 6:return e===null&&Vu(t),null;case 13:return kh(e,t,r);case 4:return Yc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=es(t,null,a,r):Gt(e,t,a,r),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Dn(a,u),jf(e,t,a,u,r);case 7:return Gt(e,t,t.pendingProps,r),t.child;case 8:return Gt(e,t,t.pendingProps.children,r),t.child;case 12:return Gt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,d=t.memoizedProps,h=u.value,Ke(Oo,a._currentValue),a._currentValue=h,d!==null)if(jn(d.value,h)){if(d.children===u.children&&!rn.current){t=fr(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){h=d.child;for(var x=w.firstContext;x!==null;){if(x.context===a){if(d.tag===1){x=lr(-1,r&-r),x.tag=2;var p=d.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?x.next=x:(x.next=y.next,y.next=x),p.pending=x}}d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),Wu(d.return,r,t),w.lanes|=r;break}x=x.next}}else if(d.tag===10)h=d.type===t.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(ee(341));h.lanes|=r,w=h.alternate,w!==null&&(w.lanes|=r),Wu(h,r,t),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===t){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Gt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,Ki(t,r),u=Tn(u),a=a(u),t.flags|=1,Gt(e,t,a,r),t.child;case 14:return a=t.type,u=Dn(a,t.pendingProps),u=Dn(a.type,u),Uf(e,t,a,u,r);case 15:return bh(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Dn(a,u),fo(e,t),t.tag=1,sn(a)?(e=!0,Ro(t)):e=!1,Ki(t,r),Th(t,a,u),Yu(t,a,u,r),Ku(null,t,a,!0,e,r);case 19:return Lh(e,t,r);case 22:return Mh(e,t,r)}throw Error(ee(156,t.tag))};function qh(e,t){return v0(e,t)}function qm(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,r,a){return new qm(e,t,r,a)}function od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nc)return 11;if(e===Tc)return 14}return 2}function jr(e,t){var r=e.alternate;return r===null?(r=In(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function po(e,t,r,a,u,d){var h=2;if(a=e,typeof e=="function")od(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Oi:return li(r.children,u,d,t);case Ic:h=8,u|=8;break;case mu:return e=In(12,r,t,u|2),e.elementType=mu,e.lanes=d,e;case xu:return e=In(13,r,t,u),e.elementType=xu,e.lanes=d,e;case wu:return e=In(19,r,t,u),e.elementType=wu,e.lanes=d,e;case o0:return sl(r,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s0:h=10;break e;case a0:h=9;break e;case Nc:h=11;break e;case Tc:h=14;break e;case Ir:h=16,a=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=In(h,r,t,u),t.elementType=e,t.type=a,t.lanes=d,t}function li(e,t,r,a){return e=In(7,e,a,t),e.lanes=r,e}function sl(e,t,r,a){return e=In(22,e,a,t),e.elementType=o0,e.lanes=r,e.stateNode={isHidden:!1},e}function au(e,t,r){return e=In(6,e,null,t),e.lanes=r,e}function ou(e,t,r){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $m(e,t,r,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ld(e,t,r,a,u,d,h,w,x){return e=new $m(e,t,r,w,x),t===1?(t=1,d===!0&&(t|=8)):t=0,d=In(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(d),e}function ex(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Jh(e){if(!e)return Hr;e=e._reactInternals;e:{if(wi(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(sn(r))return J0(e,r,t)}return t}function $h(e,t,r,a,u,d,h,w,x){return e=ld(r,a,!0,e,u,d,h,w,x),e.context=Jh(null),r=e.current,a=Yt(),u=Fr(r),d=lr(a,u),d.callback=t??null,Pr(r,d,u),e.current.lanes=u,ga(e,u,a),an(e,a),e}function al(e,t,r,a){var u=t.current,d=Yt(),h=Fr(u);return r=Jh(r),t.context===null?t.context=r:t.pendingContext=r,t=lr(d,h),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Pr(u,t,h),e!==null&&(Fn(e,u,h,d),lo(e,u,h)),h}function Ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ud(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function tx(){return null}var eg=typeof reportError=="function"?reportError:function(e){console.error(e)};function cd(e){this._internalRoot=e}ol.prototype.render=cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));al(e,t,null,null)};ol.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){al(null,e,null,null)}),t[cr]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=M0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tr.length&&t!==0&&t<Tr[r].priority;r++);Tr.splice(r,0,e),r===0&&D0(e)}};function dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $f(){}function nx(e,t,r,a,u){if(u){if(typeof a=="function"){var d=a;a=function(){var p=Ho(h);d.call(p)}}var h=$h(t,a,e,0,null,!1,!1,"",$f);return e._reactRootContainer=h,e[cr]=h.current,ta(e.nodeType===8?e.parentNode:e),gi(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var w=a;a=function(){var p=Ho(x);w.call(p)}}var x=ld(e,0,!1,null,null,!1,!1,"",$f);return e._reactRootContainer=x,e[cr]=x.current,ta(e.nodeType===8?e.parentNode:e),gi(function(){al(t,x,r,a)}),x}function ul(e,t,r,a,u){var d=r._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var w=u;u=function(){var x=Ho(h);w.call(x)}}al(t,h,e,u)}else h=nx(r,t,e,u,a);return Ho(h)}R0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ps(t.pendingLanes);r!==0&&(bc(t,r|1),an(t,gt()),!(ke&6)&&(rs=gt()+500,Yr()))}break;case 13:gi(function(){var a=dr(e,1);if(a!==null){var u=Yt();Fn(a,e,1,u)}}),ud(e,1)}};Mc=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var r=Yt();Fn(t,e,134217728,r)}ud(e,134217728)}};b0=function(e){if(e.tag===13){var t=Fr(e),r=dr(e,t);if(r!==null){var a=Yt();Fn(r,e,t,a)}ud(e,t)}};M0=function(){return ze};O0=function(e,t){var r=ze;try{return ze=e,t()}finally{ze=r}};_u=function(e,t,r){switch(t){case"input":if(Cu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var u=$o(a);if(!u)throw Error(ee(90));u0(a),Cu(a,u)}}}break;case"textarea":d0(e,r);break;case"select":t=r.value,t!=null&&Gi(e,!!r.multiple,t,!1)}};w0=id;y0=gi;var rx={usingClientEntryPoint:!1,Events:[ma,Pi,$o,m0,x0,id]},Os={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ix={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=A0(e),e===null?null:e.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Ko=eo.inject(ix),er=eo}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;xn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(t))throw Error(ee(200));return ex(e,t,null,r)};xn.createRoot=function(e,t){if(!dd(e))throw Error(ee(299));var r=!1,a="",u=eg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=ld(e,1,!1,null,null,r,!1,a,u),e[cr]=t.current,ta(e.nodeType===8?e.parentNode:e),new cd(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=A0(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return gi(e)};xn.hydrate=function(e,t,r){if(!ll(t))throw Error(ee(200));return ul(null,e,t,!0,r)};xn.hydrateRoot=function(e,t,r){if(!dd(e))throw Error(ee(405));var a=r!=null&&r.hydratedSources||null,u=!1,d="",h=eg;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=$h(t,null,e,1,r??null,u,!1,d,h),e[cr]=t.current,ta(e),a)for(e=0;e<a.length;e++)r=a[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new ol(t)};xn.render=function(e,t,r){if(!ll(t))throw Error(ee(200));return ul(null,e,t,!1,r)};xn.unmountComponentAtNode=function(e){if(!ll(e))throw Error(ee(40));return e._reactRootContainer?(gi(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1};xn.unstable_batchedUpdates=id;xn.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!ll(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return ul(e,t,r,!1,a)};xn.version="18.3.1-next-f1338f8080-20240426";function tg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tg)}catch(e){console.error(e)}}tg(),t0.exports=xn;var sx=t0.exports,e1=sx;gu.createRoot=e1.createRoot,gu.hydrateRoot=e1.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ca.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const t1="popstate";function ax(e){e===void 0&&(e={});function t(a,u){let{pathname:d,search:h,hash:w}=a.location;return oc("",{pathname:d,search:h,hash:w},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(a,u){return typeof u=="string"?u:Vo(u)}return lx(t,r,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ox(){return Math.random().toString(36).substr(2,8)}function n1(e,t){return{usr:e.state,key:e.key,idx:t}}function oc(e,t,r,a){return r===void 0&&(r=null),ca({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?us(t):t,{state:r,key:t&&t.key||a||ox()})}function Vo(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function us(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function lx(e,t,r,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:d=!1}=a,h=u.history,w=Mr.Pop,x=null,p=y();p==null&&(p=0,h.replaceState(ca({},h.state,{idx:p}),""));function y(){return(h.state||{idx:null}).idx}function C(){w=Mr.Pop;let O=y(),M=O==null?null:O-p;p=O,x&&x({action:w,location:D.location,delta:M})}function T(O,M){w=Mr.Push;let I=oc(D.location,O,M);p=y()+1;let _=n1(I,p),B=D.createHref(I);try{h.pushState(_,"",B)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;u.location.assign(B)}d&&x&&x({action:w,location:D.location,delta:1})}function L(O,M){w=Mr.Replace;let I=oc(D.location,O,M);p=y();let _=n1(I,p),B=D.createHref(I);h.replaceState(_,"",B),d&&x&&x({action:w,location:D.location,delta:0})}function b(O){let M=u.location.origin!=="null"?u.location.origin:u.location.href,I=typeof O=="string"?O:Vo(O);return I=I.replace(/ $/,"%20"),pt(M,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,M)}let D={get action(){return w},get location(){return e(u,h)},listen(O){if(x)throw new Error("A history only accepts one active listener");return u.addEventListener(t1,C),x=O,()=>{u.removeEventListener(t1,C),x=null}},createHref(O){return t(u,O)},createURL:b,encodeLocation(O){let M=b(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:T,replace:L,go(O){return h.go(O)}};return D}var r1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r1||(r1={}));function ux(e,t,r){return r===void 0&&(r="/"),cx(e,t,r)}function cx(e,t,r,a){let u=typeof t=="string"?us(t):t,d=hd(u.pathname||"/",r);if(d==null)return null;let h=ng(e);dx(h);let w=null;for(let x=0;w==null&&x<h.length;++x){let p=Sx(d);w=Ex(h[x],p)}return w}function ng(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let u=(d,h,w)=>{let x={relativePath:w===void 0?d.path||"":w,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};x.relativePath.startsWith("/")&&(pt(x.relativePath.startsWith(a),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(a.length));let p=Ur([a,x.relativePath]),y=r.concat(x);d.children&&d.children.length>0&&(pt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),ng(d.children,t,y,p)),!(d.path==null&&!d.index)&&t.push({path:p,score:wx(p,d.index),routesMeta:y})};return e.forEach((d,h)=>{var w;if(d.path===""||!((w=d.path)!=null&&w.includes("?")))u(d,h);else for(let x of rg(d.path))u(d,h,x)}),t}function rg(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,u=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return u?[d,""]:[d];let h=rg(a.join("/")),w=[];return w.push(...h.map(x=>x===""?d:[d,x].join("/"))),u&&w.push(...h),w.map(x=>e.startsWith("/")&&x===""?"/":x)}function dx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yx(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const fx=/^:[\w-]+$/,hx=3,gx=2,px=1,mx=10,xx=-2,i1=e=>e==="*";function wx(e,t){let r=e.split("/"),a=r.length;return r.some(i1)&&(a+=xx),t&&(a+=gx),r.filter(u=>!i1(u)).reduce((u,d)=>u+(fx.test(d)?hx:d===""?px:mx),a)}function yx(e,t){return e.length===t.length&&e.slice(0,-1).every((a,u)=>a===t[u])?e[e.length-1]-t[t.length-1]:0}function Ex(e,t,r){let{routesMeta:a}=e,u={},d="/",h=[];for(let w=0;w<a.length;++w){let x=a[w],p=w===a.length-1,y=d==="/"?t:t.slice(d.length)||"/",C=Cx({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},y),T=x.route;if(!C)return null;Object.assign(u,C.params),h.push({params:u,pathname:Ur([d,C.pathname]),pathnameBase:_x(Ur([d,C.pathnameBase])),route:T}),C.pathnameBase!=="/"&&(d=Ur([d,C.pathnameBase]))}return h}function Cx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Ax(e.path,e.caseSensitive,e.end),u=t.match(r);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),w=u.slice(1);return{params:a.reduce((p,y,C)=>{let{paramName:T,isOptional:L}=y;if(T==="*"){let D=w[C]||"";h=d.slice(0,d.length-D.length).replace(/(.)\/+$/,"$1")}const b=w[C];return L&&!b?p[T]=void 0:p[T]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:h,pattern:e}}function Ax(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,w,x)=>(a.push({paramName:w,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),a]}function Sx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ix=e=>vx.test(e);function Nx(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:u=""}=typeof e=="string"?us(e):e,d;if(r)if(Ix(r))d=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),fd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+r))}r.startsWith("/")?d=s1(r.substring(1),"/"):d=s1(r,t)}else d=t;return{pathname:d,search:Rx(a),hash:bx(u)}}function s1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function lu(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gd(e,t){let r=Tx(e);return t?r.map((a,u)=>u===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function pd(e,t,r,a){a===void 0&&(a=!1);let u;typeof e=="string"?u=us(e):(u=ca({},e),pt(!u.pathname||!u.pathname.includes("?"),lu("?","pathname","search",u)),pt(!u.pathname||!u.pathname.includes("#"),lu("#","pathname","hash",u)),pt(!u.search||!u.search.includes("#"),lu("#","search","hash",u)));let d=e===""||u.pathname==="",h=d?"/":u.pathname,w;if(h==null)w=r;else{let C=t.length-1;if(!a&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),C-=1;u.pathname=T.join("/")}w=C>=0?t[C]:"/"}let x=Nx(u,w),p=h&&h!=="/"&&h.endsWith("/"),y=(d||h===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||y)&&(x.pathname+="/"),x}const Ur=e=>e.join("/").replace(/\/\/+/g,"/"),_x=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ig=["post","put","patch","delete"];new Set(ig);const Ox=["get",...ig];new Set(Ox);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},da.apply(this,arguments)}const md=V.createContext(null),Dx=V.createContext(null),Xr=V.createContext(null),cl=V.createContext(null),Qr=V.createContext({outlet:null,matches:[],isDataRoute:!1}),sg=V.createContext(null);function kx(e,t){let{relative:r}=t===void 0?{}:t;cs()||pt(!1);let{basename:a,navigator:u}=V.useContext(Xr),{hash:d,pathname:h,search:w}=lg(e,{relative:r}),x=h;return a!=="/"&&(x=h==="/"?a:Ur([a,h])),u.createHref({pathname:x,search:w,hash:d})}function cs(){return V.useContext(cl)!=null}function wa(){return cs()||pt(!1),V.useContext(cl).location}function ag(e){V.useContext(Xr).static||V.useLayoutEffect(e)}function og(){let{isDataRoute:e}=V.useContext(Qr);return e?Xx():Lx()}function Lx(){cs()||pt(!1);let e=V.useContext(md),{basename:t,future:r,navigator:a}=V.useContext(Xr),{matches:u}=V.useContext(Qr),{pathname:d}=wa(),h=JSON.stringify(gd(u,r.v7_relativeSplatPath)),w=V.useRef(!1);return ag(()=>{w.current=!0}),V.useCallback(function(p,y){if(y===void 0&&(y={}),!w.current)return;if(typeof p=="number"){a.go(p);return}let C=pd(p,JSON.parse(h),d,y.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Ur([t,C.pathname])),(y.replace?a.replace:a.push)(C,y.state,y)},[t,a,h,d,e])}function lg(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=V.useContext(Xr),{matches:u}=V.useContext(Qr),{pathname:d}=wa(),h=JSON.stringify(gd(u,a.v7_relativeSplatPath));return V.useMemo(()=>pd(e,JSON.parse(h),d,r==="path"),[e,h,d,r])}function Px(e,t){return Bx(e,t)}function Bx(e,t,r,a){cs()||pt(!1);let{navigator:u}=V.useContext(Xr),{matches:d}=V.useContext(Qr),h=d[d.length-1],w=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let p=wa(),y;if(t){var C;let O=typeof t=="string"?us(t):t;x==="/"||(C=O.pathname)!=null&&C.startsWith(x)||pt(!1),y=O}else y=p;let T=y.pathname||"/",L=T;if(x!=="/"){let O=x.replace(/^\//,"").split("/");L="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=ux(e,{pathname:L}),D=Hx(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},w,O.params),pathname:Ur([x,u.encodeLocation?u.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?x:Ur([x,u.encodeLocation?u.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),d,r,a);return t&&D?V.createElement(cl.Provider,{value:{location:da({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Mr.Pop}},D):D}function Fx(){let e=Yx(),t=Mx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:u},r):null,null)}const jx=V.createElement(Fx,null);class Ux extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?V.createElement(Qr.Provider,{value:this.props.routeContext},V.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zx(e){let{routeContext:t,match:r,children:a}=e,u=V.useContext(md);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement(Qr.Provider,{value:t},a)}function Hx(e,t,r,a){var u;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let h=e,w=(u=r)==null?void 0:u.errors;if(w!=null){let y=h.findIndex(C=>C.route.id&&(w==null?void 0:w[C.route.id])!==void 0);y>=0||pt(!1),h=h.slice(0,Math.min(h.length,y+1))}let x=!1,p=-1;if(r&&a&&a.v7_partialHydration)for(let y=0;y<h.length;y++){let C=h[y];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(p=y),C.route.id){let{loaderData:T,errors:L}=r,b=C.route.loader&&T[C.route.id]===void 0&&(!L||L[C.route.id]===void 0);if(C.route.lazy||b){x=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((y,C,T)=>{let L,b=!1,D=null,O=null;r&&(L=w&&C.route.id?w[C.route.id]:void 0,D=C.route.errorElement||jx,x&&(p<0&&T===0?(Qx("route-fallback"),b=!0,O=null):p===T&&(b=!0,O=C.route.hydrateFallbackElement||null)));let M=t.concat(h.slice(0,T+1)),I=()=>{let _;return L?_=D:b?_=O:C.route.Component?_=V.createElement(C.route.Component,null):C.route.element?_=C.route.element:_=y,V.createElement(zx,{match:C,routeContext:{outlet:y,matches:M,isDataRoute:r!=null},children:_})};return r&&(C.route.ErrorBoundary||C.route.errorElement||T===0)?V.createElement(Ux,{location:r.location,revalidation:r.revalidation,component:D,error:L,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}var ug=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ug||{}),cg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cg||{});function Vx(e){let t=V.useContext(md);return t||pt(!1),t}function Wx(e){let t=V.useContext(Dx);return t||pt(!1),t}function Gx(e){let t=V.useContext(Qr);return t||pt(!1),t}function dg(e){let t=Gx(),r=t.matches[t.matches.length-1];return r.route.id||pt(!1),r.route.id}function Yx(){var e;let t=V.useContext(sg),r=Wx(),a=dg();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function Xx(){let{router:e}=Vx(ug.UseNavigateStable),t=dg(cg.UseNavigateStable),r=V.useRef(!1);return ag(()=>{r.current=!0}),V.useCallback(function(u,d){d===void 0&&(d={}),r.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,da({fromRouteId:t},d)))},[e,t])}const a1={};function Qx(e,t,r){a1[e]||(a1[e]=!0)}function Kx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lc(e){let{to:t,replace:r,state:a,relative:u}=e;cs()||pt(!1);let{future:d,static:h}=V.useContext(Xr),{matches:w}=V.useContext(Qr),{pathname:x}=wa(),p=og(),y=pd(t,gd(w,d.v7_relativeSplatPath),x,u==="path"),C=JSON.stringify(y);return V.useEffect(()=>p(JSON.parse(C),{replace:r,state:a,relative:u}),[p,C,u,r,a]),null}function bi(e){pt(!1)}function Zx(e){let{basename:t="/",children:r=null,location:a,navigationType:u=Mr.Pop,navigator:d,static:h=!1,future:w}=e;cs()&&pt(!1);let x=t.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:x,navigator:d,static:h,future:da({v7_relativeSplatPath:!1},w)}),[x,w,d,h]);typeof a=="string"&&(a=us(a));let{pathname:y="/",search:C="",hash:T="",state:L=null,key:b="default"}=a,D=V.useMemo(()=>{let O=hd(y,x);return O==null?null:{location:{pathname:O,search:C,hash:T,state:L,key:b},navigationType:u}},[x,y,C,T,L,b,u]);return D==null?null:V.createElement(Xr.Provider,{value:p},V.createElement(cl.Provider,{children:r,value:D}))}function qx(e){let{children:t,location:r}=e;return Px(uc(t),r)}new Promise(()=>{});function uc(e,t){t===void 0&&(t=[]);let r=[];return V.Children.forEach(e,(a,u)=>{if(!V.isValidElement(a))return;let d=[...t,u];if(a.type===V.Fragment){r.push.apply(r,uc(a.props.children,d));return}a.type!==bi&&pt(!1),!a.props.index||!a.props.children||pt(!1);let h={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=uc(a.props.children,d)),r.push(h)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cc.apply(this,arguments)}function Jx(e,t){if(e==null)return{};var r={},a=Object.keys(e),u,d;for(d=0;d<a.length;d++)u=a[d],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function $x(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ew(e,t){return e.button===0&&(!t||t==="_self")&&!$x(e)}const tw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nw="6";try{window.__reactRouterVersion=nw}catch{}const rw="startTransition",o1=Qp[rw];function iw(e){let{basename:t,children:r,future:a,window:u}=e,d=V.useRef();d.current==null&&(d.current=ax({window:u,v5Compat:!0}));let h=d.current,[w,x]=V.useState({action:h.action,location:h.location}),{v7_startTransition:p}=a||{},y=V.useCallback(C=>{p&&o1?o1(()=>x(C)):x(C)},[x,p]);return V.useLayoutEffect(()=>h.listen(y),[h,y]),V.useEffect(()=>Kx(a),[a]),V.createElement(Zx,{basename:t,children:r,location:w.location,navigationType:w.action,navigator:h,future:a})}const sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,to=V.forwardRef(function(t,r){let{onClick:a,relative:u,reloadDocument:d,replace:h,state:w,target:x,to:p,preventScrollReset:y,viewTransition:C}=t,T=Jx(t,tw),{basename:L}=V.useContext(Xr),b,D=!1;if(typeof p=="string"&&aw.test(p)&&(b=p,sw))try{let _=new URL(window.location.href),B=p.startsWith("//")?new URL(_.protocol+p):new URL(p),Q=hd(B.pathname,L);B.origin===_.origin&&Q!=null?p=Q+B.search+B.hash:D=!0}catch{}let O=kx(p,{relative:u}),M=ow(p,{replace:h,state:w,target:x,preventScrollReset:y,relative:u,viewTransition:C});function I(_){a&&a(_),_.defaultPrevented||M(_)}return V.createElement("a",cc({},T,{href:b||O,onClick:D||d?a:I,ref:r,target:x}))});var l1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(l1||(l1={}));var u1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(u1||(u1={}));function ow(e,t){let{target:r,replace:a,state:u,preventScrollReset:d,relative:h,viewTransition:w}=t===void 0?{}:t,x=og(),p=wa(),y=lg(e,{relative:h});return V.useCallback(C=>{if(ew(C,r)){C.preventDefault();let T=a!==void 0?a:Vo(p)===Vo(y);x(e,{replace:T,state:u,preventScrollReset:d,relative:h,viewTransition:w})}},[p,x,y,a,u,r,e,d,h,w])}function fg(e,t){return function(){return e.apply(t,arguments)}}const{toString:lw}=Object.prototype,{getPrototypeOf:xd}=Object,{iterator:dl,toStringTag:hg}=Symbol,fl=(e=>t=>{const r=lw.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Un=e=>(e=e.toLowerCase(),t=>fl(t)===e),hl=e=>t=>typeof t===e,{isArray:ds}=Array,is=hl("undefined");function ya(e){return e!==null&&!is(e)&&e.constructor!==null&&!is(e.constructor)&&on(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gg=Un("ArrayBuffer");function uw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gg(e.buffer),t}const cw=hl("string"),on=hl("function"),pg=hl("number"),Ea=e=>e!==null&&typeof e=="object",dw=e=>e===!0||e===!1,mo=e=>{if(fl(e)!=="object")return!1;const t=xd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hg in e)&&!(dl in e)},fw=e=>{if(!Ea(e)||ya(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hw=Un("Date"),gw=Un("File"),pw=Un("Blob"),mw=Un("FileList"),xw=e=>Ea(e)&&on(e.pipe),ww=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||on(e.append)&&((t=fl(e))==="formdata"||t==="object"&&on(e.toString)&&e.toString()==="[object FormData]"))},yw=Un("URLSearchParams"),[Ew,Cw,Aw,Sw]=["ReadableStream","Request","Response","Headers"].map(Un),vw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ca(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,u;if(typeof e!="object"&&(e=[e]),ds(e))for(a=0,u=e.length;a<u;a++)t.call(null,e[a],a,e);else{if(ya(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),h=d.length;let w;for(a=0;a<h;a++)w=d[a],t.call(null,e[w],w,e)}}function mg(e,t){if(ya(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,u;for(;a-- >0;)if(u=r[a],t===u.toLowerCase())return u;return null}const ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xg=e=>!is(e)&&e!==ai;function dc(){const{caseless:e,skipUndefined:t}=xg(this)&&this||{},r={},a=(u,d)=>{const h=e&&mg(r,d)||d;mo(r[h])&&mo(u)?r[h]=dc(r[h],u):mo(u)?r[h]=dc({},u):ds(u)?r[h]=u.slice():(!t||!is(u))&&(r[h]=u)};for(let u=0,d=arguments.length;u<d;u++)arguments[u]&&Ca(arguments[u],a);return r}const Iw=(e,t,r,{allOwnKeys:a}={})=>(Ca(t,(u,d)=>{r&&on(u)?Object.defineProperty(e,d,{value:fg(u,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,d,{value:u,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e),Nw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tw=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},_w=(e,t,r,a)=>{let u,d,h;const w={};if(t=t||{},e==null)return t;do{for(u=Object.getOwnPropertyNames(e),d=u.length;d-- >0;)h=u[d],(!a||a(h,e,t))&&!w[h]&&(t[h]=e[h],w[h]=!0);e=r!==!1&&xd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Rw=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},bw=e=>{if(!e)return null;if(ds(e))return e;let t=e.length;if(!pg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Mw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xd(Uint8Array)),Ow=(e,t)=>{const a=(e&&e[dl]).call(e);let u;for(;(u=a.next())&&!u.done;){const d=u.value;t.call(e,d[0],d[1])}},Dw=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},kw=Un("HTMLFormElement"),Lw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,u){return a.toUpperCase()+u}),c1=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Pw=Un("RegExp"),wg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Ca(r,(u,d)=>{let h;(h=t(u,d,e))!==!1&&(a[d]=h||u)}),Object.defineProperties(e,a)},Bw=e=>{wg(e,(t,r)=>{if(on(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(on(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Fw=(e,t)=>{const r={},a=u=>{u.forEach(d=>{r[d]=!0})};return ds(e)?a(e):a(String(e).split(t)),r},jw=()=>{},Uw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zw(e){return!!(e&&on(e.append)&&e[hg]==="FormData"&&e[dl])}const Hw=e=>{const t=new Array(10),r=(a,u)=>{if(Ea(a)){if(t.indexOf(a)>=0)return;if(ya(a))return a;if(!("toJSON"in a)){t[u]=a;const d=ds(a)?[]:{};return Ca(a,(h,w)=>{const x=r(h,u+1);!is(x)&&(d[w]=x)}),t[u]=void 0,d}}return a};return r(e,0)},Vw=Un("AsyncFunction"),Ww=e=>e&&(Ea(e)||on(e))&&on(e.then)&&on(e.catch),yg=((e,t)=>e?setImmediate:t?((r,a)=>(ai.addEventListener("message",({source:u,data:d})=>{u===ai&&d===r&&a.length&&a.shift()()},!1),u=>{a.push(u),ai.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",on(ai.postMessage)),Gw=typeof queueMicrotask<"u"?queueMicrotask.bind(ai):typeof process<"u"&&process.nextTick||yg,Yw=e=>e!=null&&on(e[dl]),Y={isArray:ds,isArrayBuffer:gg,isBuffer:ya,isFormData:ww,isArrayBufferView:uw,isString:cw,isNumber:pg,isBoolean:dw,isObject:Ea,isPlainObject:mo,isEmptyObject:fw,isReadableStream:Ew,isRequest:Cw,isResponse:Aw,isHeaders:Sw,isUndefined:is,isDate:hw,isFile:gw,isBlob:pw,isRegExp:Pw,isFunction:on,isStream:xw,isURLSearchParams:yw,isTypedArray:Mw,isFileList:mw,forEach:Ca,merge:dc,extend:Iw,trim:vw,stripBOM:Nw,inherits:Tw,toFlatObject:_w,kindOf:fl,kindOfTest:Un,endsWith:Rw,toArray:bw,forEachEntry:Ow,matchAll:Dw,isHTMLForm:kw,hasOwnProperty:c1,hasOwnProp:c1,reduceDescriptors:wg,freezeMethods:Bw,toObjectSet:Fw,toCamelCase:Lw,noop:jw,toFiniteNumber:Uw,findKey:mg,global:ai,isContextDefined:xg,isSpecCompliantForm:zw,toJSONObject:Hw,isAsyncFn:Vw,isThenable:Ww,setImmediate:yg,asap:Gw,isIterable:Yw};let ye=class Eg extends Error{static from(t,r,a,u,d,h){const w=new Eg(t.message,r||t.code,a,u,d);return w.cause=t,w.name=t.name,h&&Object.assign(w,h),w}constructor(t,r,a,u,d){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),a&&(this.config=a),u&&(this.request=u),d&&(this.response=d,this.status=d.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}};ye.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ye.ERR_BAD_OPTION="ERR_BAD_OPTION";ye.ECONNABORTED="ECONNABORTED";ye.ETIMEDOUT="ETIMEDOUT";ye.ERR_NETWORK="ERR_NETWORK";ye.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ye.ERR_DEPRECATED="ERR_DEPRECATED";ye.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ye.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ye.ERR_CANCELED="ERR_CANCELED";ye.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ye.ERR_INVALID_URL="ERR_INVALID_URL";const Xw=null;function fc(e){return Y.isPlainObject(e)||Y.isArray(e)}function Cg(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function d1(e,t,r){return e?e.concat(t).map(function(u,d){return u=Cg(u),!r&&d?"["+u+"]":u}).join(r?".":""):t}function Qw(e){return Y.isArray(e)&&!e.some(fc)}const Kw=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function gl(e,t,r){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,O){return!Y.isUndefined(O[D])});const a=r.metaTokens,u=r.visitor||y,d=r.dots,h=r.indexes,x=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(u))throw new TypeError("visitor must be a function");function p(b){if(b===null)return"";if(Y.isDate(b))return b.toISOString();if(Y.isBoolean(b))return b.toString();if(!x&&Y.isBlob(b))throw new ye("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(b)||Y.isTypedArray(b)?x&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function y(b,D,O){let M=b;if(b&&!O&&typeof b=="object"){if(Y.endsWith(D,"{}"))D=a?D:D.slice(0,-2),b=JSON.stringify(b);else if(Y.isArray(b)&&Qw(b)||(Y.isFileList(b)||Y.endsWith(D,"[]"))&&(M=Y.toArray(b)))return D=Cg(D),M.forEach(function(_,B){!(Y.isUndefined(_)||_===null)&&t.append(h===!0?d1([D],B,d):h===null?D:D+"[]",p(_))}),!1}return fc(b)?!0:(t.append(d1(O,D,d),p(b)),!1)}const C=[],T=Object.assign(Kw,{defaultVisitor:y,convertValue:p,isVisitable:fc});function L(b,D){if(!Y.isUndefined(b)){if(C.indexOf(b)!==-1)throw Error("Circular reference detected in "+D.join("."));C.push(b),Y.forEach(b,function(M,I){(!(Y.isUndefined(M)||M===null)&&u.call(t,M,Y.isString(I)?I.trim():I,D,T))===!0&&L(M,D?D.concat(I):[I])}),C.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return L(e),t}function f1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function wd(e,t){this._pairs=[],e&&gl(e,this,t)}const Ag=wd.prototype;Ag.append=function(t,r){this._pairs.push([t,r])};Ag.toString=function(t){const r=t?function(a){return t.call(this,a,f1)}:f1;return this._pairs.map(function(u){return r(u[0])+"="+r(u[1])},"").join("&")};function Zw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sg(e,t,r){if(!t)return e;const a=r&&r.encode||Zw,u=Y.isFunction(r)?{serialize:r}:r,d=u&&u.serialize;let h;if(d?h=d(t,u):h=Y.isURLSearchParams(t)?t.toString():new wd(t,u).toString(a),h){const w=e.indexOf("#");w!==-1&&(e=e.slice(0,w)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class h1{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(a){a!==null&&t(a)})}}const vg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qw=typeof URLSearchParams<"u"?URLSearchParams:wd,Jw=typeof FormData<"u"?FormData:null,$w=typeof Blob<"u"?Blob:null,ey={isBrowser:!0,classes:{URLSearchParams:qw,FormData:Jw,Blob:$w},protocols:["http","https","file","blob","url","data"]},yd=typeof window<"u"&&typeof document<"u",hc=typeof navigator=="object"&&navigator||void 0,ty=yd&&(!hc||["ReactNative","NativeScript","NS"].indexOf(hc.product)<0),ny=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ry=yd&&window.location.href||"http://localhost",iy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yd,hasStandardBrowserEnv:ty,hasStandardBrowserWebWorkerEnv:ny,navigator:hc,origin:ry},Symbol.toStringTag,{value:"Module"})),zt={...iy,...ey};function sy(e,t){return gl(e,new zt.classes.URLSearchParams,{visitor:function(r,a,u,d){return zt.isNode&&Y.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function ay(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oy(e){const t={},r=Object.keys(e);let a;const u=r.length;let d;for(a=0;a<u;a++)d=r[a],t[d]=e[d];return t}function Ig(e){function t(r,a,u,d){let h=r[d++];if(h==="__proto__")return!0;const w=Number.isFinite(+h),x=d>=r.length;return h=!h&&Y.isArray(u)?u.length:h,x?(Y.hasOwnProp(u,h)?u[h]=[u[h],a]:u[h]=a,!w):((!u[h]||!Y.isObject(u[h]))&&(u[h]=[]),t(r,a,u[h],d)&&Y.isArray(u[h])&&(u[h]=oy(u[h])),!w)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const r={};return Y.forEachEntry(e,(a,u)=>{t(ay(a),u,r,0)}),r}return null}function ly(e,t,r){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Aa={transitional:vg,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",u=a.indexOf("application/json")>-1,d=Y.isObject(t);if(d&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return u?JSON.stringify(Ig(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let w;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return sy(t,this.formSerializer).toString();if((w=Y.isFileList(t))||a.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return gl(w?{"files[]":t}:t,x&&new x,this.formSerializer)}}return d||u?(r.setContentType("application/json",!1),ly(t)):t}],transformResponse:[function(t){const r=this.transitional||Aa.transitional,a=r&&r.forcedJSONParsing,u=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(a&&!this.responseType||u)){const h=!(r&&r.silentJSONParsing)&&u;try{return JSON.parse(t,this.parseReviver)}catch(w){if(h)throw w.name==="SyntaxError"?ye.from(w,ye.ERR_BAD_RESPONSE,this,null,this.response):w}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Aa.headers[e]={}});const uy=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cy=e=>{const t={};let r,a,u;return e&&e.split(`
`).forEach(function(h){u=h.indexOf(":"),r=h.substring(0,u).trim().toLowerCase(),a=h.substring(u+1).trim(),!(!r||t[r]&&uy[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},g1=Symbol("internals");function Ds(e){return e&&String(e).trim().toLowerCase()}function xo(e){return e===!1||e==null?e:Y.isArray(e)?e.map(xo):String(e)}function dy(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const fy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uu(e,t,r,a,u){if(Y.isFunction(a))return a.call(this,t,r);if(u&&(t=r),!!Y.isString(t)){if(Y.isString(a))return t.indexOf(a)!==-1;if(Y.isRegExp(a))return a.test(t)}}function hy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function gy(e,t){const r=Y.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(u,d,h){return this[a].call(this,t,u,d,h)},configurable:!0})})}let ln=class{constructor(t){t&&this.set(t)}set(t,r,a){const u=this;function d(w,x,p){const y=Ds(x);if(!y)throw new Error("header name must be a non-empty string");const C=Y.findKey(u,y);(!C||u[C]===void 0||p===!0||p===void 0&&u[C]!==!1)&&(u[C||x]=xo(w))}const h=(w,x)=>Y.forEach(w,(p,y)=>d(p,y,x));if(Y.isPlainObject(t)||t instanceof this.constructor)h(t,r);else if(Y.isString(t)&&(t=t.trim())&&!fy(t))h(cy(t),r);else if(Y.isObject(t)&&Y.isIterable(t)){let w={},x,p;for(const y of t){if(!Y.isArray(y))throw TypeError("Object iterator must return a key-value pair");w[p=y[0]]=(x=w[p])?Y.isArray(x)?[...x,y[1]]:[x,y[1]]:y[1]}h(w,r)}else t!=null&&d(r,t,a);return this}get(t,r){if(t=Ds(t),t){const a=Y.findKey(this,t);if(a){const u=this[a];if(!r)return u;if(r===!0)return dy(u);if(Y.isFunction(r))return r.call(this,u,a);if(Y.isRegExp(r))return r.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ds(t),t){const a=Y.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||uu(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let u=!1;function d(h){if(h=Ds(h),h){const w=Y.findKey(a,h);w&&(!r||uu(a,a[w],w,r))&&(delete a[w],u=!0)}}return Y.isArray(t)?t.forEach(d):d(t),u}clear(t){const r=Object.keys(this);let a=r.length,u=!1;for(;a--;){const d=r[a];(!t||uu(this,this[d],d,t,!0))&&(delete this[d],u=!0)}return u}normalize(t){const r=this,a={};return Y.forEach(this,(u,d)=>{const h=Y.findKey(a,d);if(h){r[h]=xo(u),delete r[d];return}const w=t?hy(d):String(d).trim();w!==d&&delete r[d],r[w]=xo(u),a[w]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Y.forEach(this,(a,u)=>{a!=null&&a!==!1&&(r[u]=t&&Y.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(u=>a.set(u)),a}static accessor(t){const a=(this[g1]=this[g1]={accessors:{}}).accessors,u=this.prototype;function d(h){const w=Ds(h);a[w]||(gy(u,h),a[w]=!0)}return Y.isArray(t)?t.forEach(d):d(t),this}};ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(ln.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});Y.freezeMethods(ln);function cu(e,t){const r=this||Aa,a=t||r,u=ln.from(a.headers);let d=a.data;return Y.forEach(e,function(w){d=w.call(r,d,u.normalize(),t?t.status:void 0)}),u.normalize(),d}function Ng(e){return!!(e&&e.__CANCEL__)}let Sa=class extends ye{constructor(t,r,a){super(t??"canceled",ye.ERR_CANCELED,r,a),this.name="CanceledError",this.__CANCEL__=!0}};function Tg(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function py(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function my(e,t){e=e||10;const r=new Array(e),a=new Array(e);let u=0,d=0,h;return t=t!==void 0?t:1e3,function(x){const p=Date.now(),y=a[d];h||(h=p),r[u]=x,a[u]=p;let C=d,T=0;for(;C!==u;)T+=r[C++],C=C%e;if(u=(u+1)%e,u===d&&(d=(d+1)%e),p-h<t)return;const L=y&&p-y;return L?Math.round(T*1e3/L):void 0}}function xy(e,t){let r=0,a=1e3/t,u,d;const h=(p,y=Date.now())=>{r=y,u=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const y=Date.now(),C=y-r;C>=a?h(p,y):(u=p,d||(d=setTimeout(()=>{d=null,h(u)},a-C)))},()=>u&&h(u)]}const Wo=(e,t,r=3)=>{let a=0;const u=my(50,250);return xy(d=>{const h=d.loaded,w=d.lengthComputable?d.total:void 0,x=h-a,p=u(x),y=h<=w;a=h;const C={loaded:h,total:w,progress:w?h/w:void 0,bytes:x,rate:p||void 0,estimated:p&&w&&y?(w-h)/p:void 0,event:d,lengthComputable:w!=null,[t?"download":"upload"]:!0};e(C)},r)},p1=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},m1=e=>(...t)=>Y.asap(()=>e(...t)),wy=zt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,zt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,yy=zt.hasStandardBrowserEnv?{write(e,t,r,a,u,d,h){if(typeof document>"u")return;const w=[`${e}=${encodeURIComponent(t)}`];Y.isNumber(r)&&w.push(`expires=${new Date(r).toUTCString()}`),Y.isString(a)&&w.push(`path=${a}`),Y.isString(u)&&w.push(`domain=${u}`),d===!0&&w.push("secure"),Y.isString(h)&&w.push(`SameSite=${h}`),document.cookie=w.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ey(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cy(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _g(e,t,r){let a=!Ey(t);return e&&(a||r==!1)?Cy(e,t):t}const x1=e=>e instanceof ln?{...e}:e;function pi(e,t){t=t||{};const r={};function a(p,y,C,T){return Y.isPlainObject(p)&&Y.isPlainObject(y)?Y.merge.call({caseless:T},p,y):Y.isPlainObject(y)?Y.merge({},y):Y.isArray(y)?y.slice():y}function u(p,y,C,T){if(Y.isUndefined(y)){if(!Y.isUndefined(p))return a(void 0,p,C,T)}else return a(p,y,C,T)}function d(p,y){if(!Y.isUndefined(y))return a(void 0,y)}function h(p,y){if(Y.isUndefined(y)){if(!Y.isUndefined(p))return a(void 0,p)}else return a(void 0,y)}function w(p,y,C){if(C in t)return a(p,y);if(C in e)return a(void 0,p)}const x={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:w,headers:(p,y,C)=>u(x1(p),x1(y),C,!0)};return Y.forEach(Object.keys({...e,...t}),function(y){const C=x[y]||u,T=C(e[y],t[y],y);Y.isUndefined(T)&&C!==w||(r[y]=T)}),r}const Rg=e=>{const t=pi({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:d,headers:h,auth:w}=t;if(t.headers=h=ln.from(h),t.url=Sg(_g(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),w&&h.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):""))),Y.isFormData(r)){if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(Y.isFunction(r.getHeaders)){const x=r.getHeaders(),p=["content-type","content-length"];Object.entries(x).forEach(([y,C])=>{p.includes(y.toLowerCase())&&h.set(y,C)})}}if(zt.hasStandardBrowserEnv&&(a&&Y.isFunction(a)&&(a=a(t)),a||a!==!1&&wy(t.url))){const x=u&&d&&yy.read(d);x&&h.set(u,x)}return t},Ay=typeof XMLHttpRequest<"u",Sy=Ay&&function(e){return new Promise(function(r,a){const u=Rg(e);let d=u.data;const h=ln.from(u.headers).normalize();let{responseType:w,onUploadProgress:x,onDownloadProgress:p}=u,y,C,T,L,b;function D(){L&&L(),b&&b(),u.cancelToken&&u.cancelToken.unsubscribe(y),u.signal&&u.signal.removeEventListener("abort",y)}let O=new XMLHttpRequest;O.open(u.method.toUpperCase(),u.url,!0),O.timeout=u.timeout;function M(){if(!O)return;const _=ln.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),Q={data:!w||w==="text"||w==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:_,config:e,request:O};Tg(function(U){r(U),D()},function(U){a(U),D()},Q),O=null}"onloadend"in O?O.onloadend=M:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(M)},O.onabort=function(){O&&(a(new ye("Request aborted",ye.ECONNABORTED,e,O)),O=null)},O.onerror=function(B){const Q=B&&B.message?B.message:"Network Error",j=new ye(Q,ye.ERR_NETWORK,e,O);j.event=B||null,a(j),O=null},O.ontimeout=function(){let B=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const Q=u.transitional||vg;u.timeoutErrorMessage&&(B=u.timeoutErrorMessage),a(new ye(B,Q.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,O)),O=null},d===void 0&&h.setContentType(null),"setRequestHeader"in O&&Y.forEach(h.toJSON(),function(B,Q){O.setRequestHeader(Q,B)}),Y.isUndefined(u.withCredentials)||(O.withCredentials=!!u.withCredentials),w&&w!=="json"&&(O.responseType=u.responseType),p&&([T,b]=Wo(p,!0),O.addEventListener("progress",T)),x&&O.upload&&([C,L]=Wo(x),O.upload.addEventListener("progress",C),O.upload.addEventListener("loadend",L)),(u.cancelToken||u.signal)&&(y=_=>{O&&(a(!_||_.type?new Sa(null,e,O):_),O.abort(),O=null)},u.cancelToken&&u.cancelToken.subscribe(y),u.signal&&(u.signal.aborted?y():u.signal.addEventListener("abort",y)));const I=py(u.url);if(I&&zt.protocols.indexOf(I)===-1){a(new ye("Unsupported protocol "+I+":",ye.ERR_BAD_REQUEST,e));return}O.send(d||null)})},vy=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,u;const d=function(p){if(!u){u=!0,w();const y=p instanceof Error?p:this.reason;a.abort(y instanceof ye?y:new Sa(y instanceof Error?y.message:y))}};let h=t&&setTimeout(()=>{h=null,d(new ye(`timeout of ${t}ms exceeded`,ye.ETIMEDOUT))},t);const w=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:x}=a;return x.unsubscribe=()=>Y.asap(w),x}},Iy=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,u;for(;a<r;)u=a+t,yield e.slice(a,u),a=u},Ny=async function*(e,t){for await(const r of Ty(e))yield*Iy(r,t)},Ty=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},w1=(e,t,r,a)=>{const u=Ny(e,t);let d=0,h,w=x=>{h||(h=!0,a&&a(x))};return new ReadableStream({async pull(x){try{const{done:p,value:y}=await u.next();if(p){w(),x.close();return}let C=y.byteLength;if(r){let T=d+=C;r(T)}x.enqueue(new Uint8Array(y))}catch(p){throw w(p),p}},cancel(x){return w(x),u.return()}},{highWaterMark:2})},y1=64*1024,{isFunction:no}=Y,_y=(({Request:e,Response:t})=>({Request:e,Response:t}))(Y.global),{ReadableStream:E1,TextEncoder:C1}=Y.global,A1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ry=e=>{e=Y.merge.call({skipUndefined:!0},_y,e);const{fetch:t,Request:r,Response:a}=e,u=t?no(t):typeof fetch=="function",d=no(r),h=no(a);if(!u)return!1;const w=u&&no(E1),x=u&&(typeof C1=="function"?(b=>D=>b.encode(D))(new C1):async b=>new Uint8Array(await new r(b).arrayBuffer())),p=d&&w&&A1(()=>{let b=!1;const D=new r(zt.origin,{body:new E1,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!D}),y=h&&w&&A1(()=>Y.isReadableStream(new a("").body)),C={stream:y&&(b=>b.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!C[b]&&(C[b]=(D,O)=>{let M=D&&D[b];if(M)return M.call(D);throw new ye(`Response type '${b}' is not supported`,ye.ERR_NOT_SUPPORT,O)})});const T=async b=>{if(b==null)return 0;if(Y.isBlob(b))return b.size;if(Y.isSpecCompliantForm(b))return(await new r(zt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(b)||Y.isArrayBuffer(b))return b.byteLength;if(Y.isURLSearchParams(b)&&(b=b+""),Y.isString(b))return(await x(b)).byteLength},L=async(b,D)=>{const O=Y.toFiniteNumber(b.getContentLength());return O??T(D)};return async b=>{let{url:D,method:O,data:M,signal:I,cancelToken:_,timeout:B,onDownloadProgress:Q,onUploadProgress:j,responseType:U,headers:Z,withCredentials:K="same-origin",fetchOptions:pe}=Rg(b),Ne=t||fetch;U=U?(U+"").toLowerCase():"text";let ce=vy([I,_&&_.toAbortSignal()],B),Ee=null;const _e=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let X;try{if(j&&p&&O!=="get"&&O!=="head"&&(X=await L(Z,M))!==0){let Re=new r(D,{method:"POST",body:M,duplex:"half"}),Ce;if(Y.isFormData(M)&&(Ce=Re.headers.get("content-type"))&&Z.setContentType(Ce),Re.body){const[ot,He]=p1(X,Wo(m1(j)));M=w1(Re.body,y1,ot,He)}}Y.isString(K)||(K=K?"include":"omit");const se=d&&"credentials"in r.prototype,ae={...pe,signal:ce,method:O.toUpperCase(),headers:Z.normalize().toJSON(),body:M,duplex:"half",credentials:se?K:void 0};Ee=d&&new r(D,ae);let $=await(d?Ne(Ee,pe):Ne(D,ae));const ie=y&&(U==="stream"||U==="response");if(y&&(Q||ie&&_e)){const Re={};["status","statusText","headers"].forEach(zn=>{Re[zn]=$[zn]});const Ce=Y.toFiniteNumber($.headers.get("content-length")),[ot,He]=Q&&p1(Ce,Wo(m1(Q),!0))||[];$=new a(w1($.body,y1,ot,()=>{He&&He(),_e&&_e()}),Re)}U=U||"text";let he=await C[Y.findKey(C,U)||"text"]($,b);return!ie&&_e&&_e(),await new Promise((Re,Ce)=>{Tg(Re,Ce,{data:he,headers:ln.from($.headers),status:$.status,statusText:$.statusText,config:b,request:Ee})})}catch(se){throw _e&&_e(),se&&se.name==="TypeError"&&/Load failed|fetch/i.test(se.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,b,Ee),{cause:se.cause||se}):ye.from(se,se&&se.code,b,Ee)}}},by=new Map,bg=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:u}=t,d=[a,u,r];let h=d.length,w=h,x,p,y=by;for(;w--;)x=d[w],p=y.get(x),p===void 0&&y.set(x,p=w?new Map:Ry(t)),y=p;return p};bg();const Ed={http:Xw,xhr:Sy,fetch:{get:bg}};Y.forEach(Ed,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const S1=e=>`- ${e}`,My=e=>Y.isFunction(e)||e===null||e===!1;function Oy(e,t){e=Y.isArray(e)?e:[e];const{length:r}=e;let a,u;const d={};for(let h=0;h<r;h++){a=e[h];let w;if(u=a,!My(a)&&(u=Ed[(w=String(a)).toLowerCase()],u===void 0))throw new ye(`Unknown adapter '${w}'`);if(u&&(Y.isFunction(u)||(u=u.get(t))))break;d[w||"#"+h]=u}if(!u){const h=Object.entries(d).map(([x,p])=>`adapter ${x} `+(p===!1?"is not supported by the environment":"is not available in the build"));let w=r?h.length>1?`since :
`+h.map(S1).join(`
`):" "+S1(h[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return u}const Mg={getAdapter:Oy,adapters:Ed};function du(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sa(null,e)}function v1(e){return du(e),e.headers=ln.from(e.headers),e.data=cu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Mg.getAdapter(e.adapter||Aa.adapter,e)(e).then(function(a){return du(e),a.data=cu.call(e,e.transformResponse,a),a.headers=ln.from(a.headers),a},function(a){return Ng(a)||(du(e),a&&a.response&&(a.response.data=cu.call(e,e.transformResponse,a.response),a.response.headers=ln.from(a.response.headers))),Promise.reject(a)})}const Og="1.13.4",pl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pl[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const I1={};pl.transitional=function(t,r,a){function u(d,h){return"[Axios v"+Og+"] Transitional option '"+d+"'"+h+(a?". "+a:"")}return(d,h,w)=>{if(t===!1)throw new ye(u(h," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!I1[h]&&(I1[h]=!0,console.warn(u(h," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,h,w):!0}};pl.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Dy(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let u=a.length;for(;u-- >0;){const d=a[u],h=t[d];if(h){const w=e[d],x=w===void 0||h(w,d,e);if(x!==!0)throw new ye("option "+d+" must be "+x,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+d,ye.ERR_BAD_OPTION)}}const wo={assertOptions:Dy,validators:pl},Zn=wo.validators;let ui=class{constructor(t){this.defaults=t||{},this.interceptors={request:new h1,response:new h1}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const d=u.stack?u.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=pi(this.defaults,r);const{transitional:a,paramsSerializer:u,headers:d}=r;a!==void 0&&wo.assertOptions(a,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),u!=null&&(Y.isFunction(u)?r.paramsSerializer={serialize:u}:wo.assertOptions(u,{encode:Zn.function,serialize:Zn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),wo.assertOptions(r,{baseUrl:Zn.spelling("baseURL"),withXsrfToken:Zn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h=d&&Y.merge(d.common,d[r.method]);d&&Y.forEach(["delete","get","head","post","put","patch","common"],b=>{delete d[b]}),r.headers=ln.concat(h,d);const w=[];let x=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(r)===!1||(x=x&&D.synchronous,w.unshift(D.fulfilled,D.rejected))});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let y,C=0,T;if(!x){const b=[v1.bind(this),void 0];for(b.unshift(...w),b.push(...p),T=b.length,y=Promise.resolve(r);C<T;)y=y.then(b[C++],b[C++]);return y}T=w.length;let L=r;for(;C<T;){const b=w[C++],D=w[C++];try{L=b(L)}catch(O){D.call(this,O);break}}try{y=v1.call(this,L)}catch(b){return Promise.reject(b)}for(C=0,T=p.length;C<T;)y=y.then(p[C++],p[C++]);return y}getUri(t){t=pi(this.defaults,t);const r=_g(t.baseURL,t.url,t.allowAbsoluteUrls);return Sg(r,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){ui.prototype[t]=function(r,a){return this.request(pi(a||{},{method:t,url:r,data:(a||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function r(a){return function(d,h,w){return this.request(pi(w||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}ui.prototype[t]=r(),ui.prototype[t+"Form"]=r(!0)});let ky=class Dg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(u=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](u);a._listeners=null}),this.promise.then=u=>{let d;const h=new Promise(w=>{a.subscribe(w),d=w}).then(u);return h.cancel=function(){a.unsubscribe(d)},h},t(function(d,h,w){a.reason||(a.reason=new Sa(d,h,w),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Dg(function(u){t=u}),cancel:t}}};function Ly(e){return function(r){return e.apply(null,r)}}function Py(e){return Y.isObject(e)&&e.isAxiosError===!0}const gc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gc).forEach(([e,t])=>{gc[t]=e});function kg(e){const t=new ui(e),r=fg(ui.prototype.request,t);return Y.extend(r,ui.prototype,t,{allOwnKeys:!0}),Y.extend(r,t,null,{allOwnKeys:!0}),r.create=function(u){return kg(pi(e,u))},r}const mt=kg(Aa);mt.Axios=ui;mt.CanceledError=Sa;mt.CancelToken=ky;mt.isCancel=Ng;mt.VERSION=Og;mt.toFormData=gl;mt.AxiosError=ye;mt.Cancel=mt.CanceledError;mt.all=function(t){return Promise.all(t)};mt.spread=Ly;mt.isAxiosError=Py;mt.mergeConfig=pi;mt.AxiosHeaders=ln;mt.formToJSON=e=>Ig(Y.isHTMLForm(e)?new FormData(e):e);mt.getAdapter=Mg.getAdapter;mt.HttpStatusCode=gc;mt.default=mt;const{Axios:Y3,AxiosError:X3,CanceledError:Q3,isCancel:K3,CancelToken:Z3,VERSION:q3,all:J3,Cancel:$3,isAxiosError:eE,spread:tE,toFormData:nE,AxiosHeaders:rE,HttpStatusCode:iE,formToJSON:sE,getAdapter:aE,mergeConfig:oE}=mt,By="/api",Ie=mt.create({baseURL:By,headers:{"Content-Type":"application/json"}});Ie.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const pc={login:(e,t,r)=>Ie.post("/otentikasi/masuk",{username:e,password:t,peran:r}),register:(e,t,r,a)=>Ie.post("/otentikasi/daftar",{username:e,password:t,email:r,role:a}),getRoles:()=>Ie.get("/otentikasi/peran")},N1={getProfile:()=>Ie.get("/dosen/profil"),getCourses:()=>Ie.get("/dosen/matakuliah"),getSessions:e=>Ie.get(`/dosen/matakuliah/${e}/sesi`),getTodaySession:e=>Ie.get(`/dosen/matakuliah/${e}/sesi-hari-ini`)},fu={getProfile:()=>Ie.get("/mahasiswa/profil"),getCourses:()=>Ie.get("/mahasiswa/matakuliah"),getAttendance:e=>Ie.get(`/mahasiswa/matakuliah/${e}/kehadiran`)},Sr={startSession:e=>Ie.post("/kehadiran/sesi/mulai",{courseId:e}),endSession:e=>Ie.post("/kehadiran/sesi/akhiri",{sessionId:e}),scanQR:(e,t)=>Ie.post("/kehadiran/pindai-qr",{sessionId:e,npm:t}),getSessionAttendance:e=>Ie.get(`/kehadiran/sesi/${e}`),getMahasiswaKontrak:e=>Ie.get(`/kehadiran/mahasiswa/${e}`),getSessionSummary:e=>Ie.get(`/kehadiran/matakuliah/${e}/ringkasan`)},je={getUsers:()=>Ie.get("/admin/pengguna"),createUser:e=>Ie.post("/admin/pengguna",e),updateUser:(e,t)=>Ie.put(`/admin/pengguna/${e}`,t),deleteUser:e=>Ie.delete(`/admin/pengguna/${e}`),getLecturers:()=>Ie.get("/admin/dosen"),createLecturer:e=>Ie.post("/admin/dosen",e),updateLecturer:(e,t)=>Ie.put(`/admin/dosen/${e}`,t),deleteLecturer:e=>Ie.delete(`/admin/dosen/${e}`),getStudents:()=>Ie.get("/admin/mahasiswa"),createStudent:e=>Ie.post("/admin/mahasiswa",e),updateStudent:(e,t)=>Ie.put(`/admin/mahasiswa/${e}`,t),deleteStudent:e=>Ie.delete(`/admin/mahasiswa/${e}`),getCourses:()=>Ie.get("/admin/matakuliah"),createCourse:e=>Ie.post("/admin/matakuliah",e),updateCourse:(e,t)=>Ie.put(`/admin/matakuliah/${e}`,t),deleteCourse:e=>Ie.delete(`/admin/matakuliah/${e}`),getKontraks:()=>Ie.get("/kontrak"),createKontrak:e=>Ie.post("/kontrak",e),updateKontrak:(e,t)=>Ie.put(`/kontrak/${e}`,t),deleteKontrak:e=>Ie.delete(`/kontrak/${e}`),getKontrakByMahasiswa:e=>Ie.get(`/kontrak/mahasiswa/${e}`),getKontrakByDosen:e=>Ie.get(`/kontrak/dosen/${e}`)},Lg=V.createContext(),Fy=({children:e})=>{const[t,r]=V.useState(null),[a,u]=V.useState(!0);V.useEffect(()=>{const x=localStorage.getItem("token"),p=localStorage.getItem("user");x&&p&&r(JSON.parse(p)),u(!1)},[]);const d=async(x,p,y)=>{var C,T;try{const L=await pc.login(x,p,y),{token:b,user:D}=L.data;return localStorage.setItem("token",b),localStorage.setItem("user",JSON.stringify(D)),r(D),D}catch(L){throw((T=(C=L.response)==null?void 0:C.data)==null?void 0:T.error)||"Gagal masuk"}},h=async(x,p,y,C)=>{var T,L;try{await pc.register(x,p,y,C)}catch(b){throw((L=(T=b.response)==null?void 0:T.data)==null?void 0:L.error)||"Gagal mendaftar"}},w=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return E.jsx(Lg.Provider,{value:{user:t,login:d,register:h,logout:w,loading:a},children:e})},va=()=>{const e=V.useContext(Lg);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},jy=()=>{const{user:e,logout:t}=va(),[r,a]=V.useState(!1),[u,d]=V.useState(!1),[h,w]=V.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[x,p]=V.useState(""),y=V.useRef(null),C=()=>{t(),window.location.href="/"},T=()=>(e==null?void 0:e.peran)==="dosen"?"/lecturer":(e==null?void 0:e.peran)==="admin"?"/admin":"/student";V.useEffect(()=>{const O=M=>{y.current&&!y.current.contains(M.target)&&a(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const L=async O=>{if(O.preventDefault(),h.newPassword!==h.confirmPassword){p("Password baru tidak cocok");return}if(h.newPassword.length<6){p("Password minimal 6 karakter");return}p("Fitur ganti password akan diimplementasikan"),setTimeout(()=>{d(!1),w({oldPassword:"",newPassword:"",confirmPassword:""}),p("")},2e3)},b=()=>{var O;return((O=e==null?void 0:e.nama_pengguna)==null?void 0:O.charAt(0).toUpperCase())||"U"},D=()=>({dosen:"Dosen",mahasiswa:"Mahasiswa",admin:"Admin"})[e==null?void 0:e.peran]||(e==null?void 0:e.peran);return E.jsxs("nav",{className:"navbar",children:[E.jsx("div",{className:"navbar-brand",children:E.jsx(to,{to:T(),children:E.jsx("h1",{children:" Presensi App"})})}),e&&E.jsxs("div",{className:"navbar-menu",children:[E.jsxs("div",{className:"nav-links",children:[e.peran==="dosen"&&E.jsx(to,{to:"/lecturer",className:"nav-link",children:"Dashboard Dosen"}),e.peran==="mahasiswa"&&E.jsx(to,{to:"/student",className:"nav-link",children:"Dashboard Mahasiswa"}),e.peran==="admin"&&E.jsx(to,{to:"/admin",className:"nav-link",children:"Panel Admin"})]}),E.jsx("div",{className:"user-section",ref:y,children:E.jsxs("div",{className:"user-profile",children:[E.jsx("button",{className:"user-button",onClick:()=>a(!r),title:e.nama_pengguna,children:E.jsx("span",{className:"user-initial",children:b()})}),r&&E.jsxs("div",{className:"user-dropdown-menu",children:[E.jsxs("div",{className:"user-dropdown-header",children:[E.jsx("div",{className:"user-avatar-large",children:b()}),E.jsxs("div",{className:"user-dropdown-info",children:[E.jsx("p",{className:"user-name",children:e.nama_pengguna}),E.jsx("p",{className:"user-role",children:D()})]})]}),E.jsx("div",{className:"user-dropdown-divider"}),E.jsx("button",{className:"dropdown-item change-password",onClick:()=>{d(!0),a(!1)},children:" Ganti Kata Sandi"}),E.jsx("div",{className:"user-dropdown-divider"}),E.jsx("button",{className:"dropdown-item logout",onClick:C,children:" Keluar"})]})]})})]}),u&&E.jsx("div",{className:"password-modal-overlay",onClick:()=>d(!1),children:E.jsxs("div",{className:"password-modal",onClick:O=>O.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h2",{children:" Ganti Kata Sandi"}),E.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),E.jsxs("form",{onSubmit:L,className:"password-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Kata Sandi Lama"}),E.jsx("input",{type:"password",value:h.oldPassword,onChange:O=>w({...h,oldPassword:O.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Kata Sandi Baru"}),E.jsx("input",{type:"password",value:h.newPassword,onChange:O=>w({...h,newPassword:O.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Konfirmasi Kata Sandi"}),E.jsx("input",{type:"password",value:h.confirmPassword,onChange:O=>w({...h,confirmPassword:O.target.value}),required:!0})]}),x&&E.jsx("div",{className:"password-message",children:x}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>d(!1),children:"Batal"}),E.jsx("button",{type:"submit",className:"btn-submit",children:"Ganti Kata Sandi"})]})]})]})})]})},ss=({type:e="info",message:t,onClose:r})=>(V.useEffect(()=>{if(e==="success"&&r){const a=setTimeout(()=>{r()},5e3);return()=>clearTimeout(a)}},[e,r]),E.jsx("div",{className:`alert alert-${e}`,children:E.jsxs("div",{className:"alert-content",children:[E.jsx("span",{children:t}),r&&E.jsx("button",{className:"alert-close",onClick:r,children:""})]})})),Uy="/assets/unla-bg-CaOxkHSv.jpg",zy=()=>{const[e,t]=V.useState(""),[r,a]=V.useState(""),[u,d]=V.useState("dosen"),[h,w]=V.useState([]),[x,p]=V.useState(""),[y,C]=V.useState(!1),{login:T}=va();V.useEffect(()=>{L()},[]);const L=async()=>{try{const D=await pc.getRoles();w(D.data.data||[]),D.data.data&&D.data.data.length>0&&d(D.data.data[0].value)}catch(D){console.error("Failed to load roles:",D),w([{value:"dosen",label:"Dosen"},{value:"mahasiswa",label:"Mahasiswa"}])}},b=async D=>{D.preventDefault(),C(!0),p("");try{await T(e,r,u),window.location.href=u==="dosen"?"/lecturer":"/student"}catch(O){p(O)}finally{C(!1)}};return E.jsxs("div",{className:"login-container",style:{backgroundImage:`url(${Uy})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[E.jsx("div",{className:"login-background"}),E.jsx("div",{className:"login-card",children:E.jsxs("div",{className:"login-card-content",children:[E.jsx("h2",{children:"Sistem Presensi Mahasiswa"}),E.jsx("p",{className:"subtitle",children:"Sistem Presensi Berbasis Kode QR"}),x&&E.jsx(ss,{type:"error",message:x,onClose:()=>p("")}),E.jsxs("form",{onSubmit:b,className:"login-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"role",children:"Role"}),E.jsx("select",{id:"role",value:u,onChange:D=>d(D.target.value),className:"form-control",children:h.map(D=>E.jsx("option",{value:D.value,children:D.label},D.value))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"username",children:"Nama Pengguna"}),E.jsx("input",{type:"text",id:"username",value:e,onChange:D=>t(D.target.value),placeholder:"Masukkan nama pengguna Anda",className:"form-control",required:!0,disabled:y})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Sandi"}),E.jsx("input",{type:"password",id:"password",value:r,onChange:D=>a(D.target.value),placeholder:"Masukkan sandi Anda",className:"form-control",required:!0,disabled:y})]}),E.jsx("button",{type:"submit",className:"btn btn-primary btn-login",disabled:y,children:y?"Memuat...":"Masuk"})]}),E.jsxs("div",{className:"demo-credentials",children:[E.jsx("p",{children:E.jsx("strong",{children:"Akun Demo:"})}),E.jsxs("p",{children:[" Dosen: nama pengguna: ",E.jsx("code",{children:"dosen1"})," | sandi:"," ",E.jsx("code",{children:"dosen123"})]}),E.jsxs("p",{children:[" Mahasiswa: nama pengguna: ",E.jsx("code",{children:"2023001"})," | sandi:"," ",E.jsx("code",{children:"mahasiswa123"})]})]})]})})]})};var le;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(le||(le={}));var T1=new Map([[le.QR_CODE,"QR_CODE"],[le.AZTEC,"AZTEC"],[le.CODABAR,"CODABAR"],[le.CODE_39,"CODE_39"],[le.CODE_93,"CODE_93"],[le.CODE_128,"CODE_128"],[le.DATA_MATRIX,"DATA_MATRIX"],[le.MAXICODE,"MAXICODE"],[le.ITF,"ITF"],[le.EAN_13,"EAN_13"],[le.EAN_8,"EAN_8"],[le.PDF_417,"PDF_417"],[le.RSS_14,"RSS_14"],[le.RSS_EXPANDED,"RSS_EXPANDED"],[le.UPC_A,"UPC_A"],[le.UPC_E,"UPC_E"],[le.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),_1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(_1||(_1={}));function Hy(e){return Object.values(le).includes(e)}var Vr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vr||(Vr={}));var Ln=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Vr.SCAN_TYPE_CAMERA,Vr.SCAN_TYPE_FILE],e}(),Pg=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!T1.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,T1.get(t))},e}(),R1=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),mc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(mc||(mc={}));var Bg=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:mc.UNKWOWN_ERROR}},e}(),Fg=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Jn(e){return typeof e>"u"||e===null}function Vy(e,t,r){return e>r?r:e<t?t:e}var Vi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ue=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),b1=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),jg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var a=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(u),h=Object.keys(t),w=0,x=h;w<x.length;w++){var p=x[w];if(d.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),xc={exports:{}};(function(e,t){(function(r,a){a(t)})(vs,function(r){function a(S){return S==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,n){S.__proto__=n}||function(S,n){for(var i in n)n.hasOwnProperty(i)&&(S[i]=n[i])};function d(S,n){u(S,n);function i(){this.constructor=S}S.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function h(S,n){var i=Object.setPrototypeOf;i?i(S,n):S.__proto__=n}function w(S,n){n===void 0&&(n=S.constructor);var i=Error.captureStackTrace;i&&i(S,n)}var x=function(S){d(n,S);function n(i){var s=this.constructor,o=S.call(this,i)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),h(o,s.prototype),w(o),o}return n}(Error);class p extends x{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class C extends p{}C.kind="IllegalArgumentException";class T{constructor(n){if(this.binarizer=n,n===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,s,o){const l=this.binarizer.getLuminanceSource().crop(n,i,s,o);return new T(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends p{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class b{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(n,i,s,o,l){for(;l--;)s[o++]=n[i++]}static currentTimeMillis(){return Date.now()}}class O extends p{}O.kind="IndexOutOfBoundsException";class M extends O{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}M.kind="ArrayIndexOutOfBoundsException";class I{static fill(n,i){for(let s=0,o=n.length;s<o;s++)n[s]=i}static fillWithin(n,i,s,o){I.rangeCheck(n.length,i,s);for(let l=i;l<s;l++)n[l]=o}static rangeCheck(n,i,s){if(i>s)throw new C("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new M(i);if(s>n)throw new M(s)}static asList(...n){return n}static create(n,i,s){return Array.from({length:n}).map(l=>Array.from({length:i}).fill(s))}static createInt32Array(n,i,s){return Array.from({length:n}).map(l=>Int32Array.from({length:i}).fill(s))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let s=0,o=n.length;s<o;s++)if(n[s]!==i[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const s of n)i=31*i+s;return i}static fillUint8Array(n,i){for(let s=0;s!==n.length;s++)n[s]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const s=new Uint8Array(i);return s.set(n),s}return n.slice(0,i)}static copyOfRange(n,i,s){const o=s-i,l=new Int32Array(o);return D.arraycopy(n,i,l,0,o),l}static binarySearch(n,i,s){s===void 0&&(s=I.numberComparator);let o=0,l=n.length-1;for(;o<=l;){const c=l+o>>1,f=s(i,n[c]);if(f>0)o=c+1;else if(f<0)l=c-1;else return c}return-o-1}static numberComparator(n,i){return n-i}}class _{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let s=31;return i=n<<16,i!==0&&(s-=16,n=i),i=n<<8,i!==0&&(s-=8,n=i),i=n<<4,i!==0&&(s-=4,n=i),i=n<<2,i!==0&&(s-=2,n=i),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=B.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=B.makeArray(n);D.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const s=this.bits;let o=Math.floor(n/32),l=s[o];l&=~((1<<(n&31))-1);const c=s.length;for(;l===0;){if(++o===c)return i;l=s[o]}const f=o*32+_.numberOfTrailingZeros(l);return f>i?i:f}getNextUnset(n){const i=this.size;if(n>=i)return i;const s=this.bits;let o=Math.floor(n/32),l=~s[o];l&=~((1<<(n&31))-1);const c=s.length;for(;l===0;){if(++o===c)return i;l=~s[o]}const f=o*32+_.numberOfTrailingZeros(l);return f>i?i:f}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new C;if(i===n)return;i--;const s=Math.floor(n/32),o=Math.floor(i/32),l=this.bits;for(let c=s;c<=o;c++){const f=c>s?0:n&31,m=(2<<(c<o?31:i&31))-(1<<f);l[c]|=m}}clear(){const n=this.bits.length,i=this.bits;for(let s=0;s<n;s++)i[s]=0}isRange(n,i,s){if(i<n||n<0||i>this.size)throw new C;if(i===n)return!0;i--;const o=Math.floor(n/32),l=Math.floor(i/32),c=this.bits;for(let f=o;f<=l;f++){const g=f>o?0:n&31,A=(2<<(f<l?31:i&31))-(1<<g)&4294967295;if((c[f]&A)!==(s?A:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new C("Sizes don't match");const i=this.bits;for(let s=0,o=i.length;s<o;s++)i[s]^=n.bits[s]}toBytes(n,i,s,o){for(let l=0;l<o;l++){let c=0;for(let f=0;f<8;f++)this.get(n)&&(c|=1<<7-f),n++;i[s+l]=c}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,o=this.bits;for(let l=0;l<s;l++){let c=o[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,n[i-l]=c}if(this.size!==s*32){const l=s*32-this.size;let c=n[0]>>>l;for(let f=1;f<s;f++){const g=n[f];c|=g<<32-l,n[f-1]=c,c=g>>>l}n[s-1]=c}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof B))return!1;const i=n;return this.size===i.size&&I.equals(this.bits,i.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let n="";for(let i=0,s=this.size;i<s;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new B(this.size,this.bits.slice())}}var Q;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var j=Q;class U extends p{static getFormatInstance(){return new U}}U.kind="FormatException";var Z;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class K{constructor(n,i,s,...o){this.valueIdentifier=n,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=o,K.VALUE_IDENTIFIER_TO_ECI.set(n,this),K.NAME_TO_ECI.set(s,this);const l=this.values;for(let c=0,f=l.length;c!==f;c++){const g=l[c];K.VALUES_TO_ECI.set(g,this)}for(const c of o)K.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new U("incorect value");const i=K.VALUES_TO_ECI.get(n);if(i===void 0)throw new U("incorect value");return i}static getCharacterSetECIByName(n){const i=K.NAME_TO_ECI.get(n);if(i===void 0)throw new U("incorect value");return i}equals(n){if(!(n instanceof K))return!1;const i=n;return this.getName()===i.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(Z.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(Z.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(Z.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(Z.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(Z.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(Z.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(Z.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(Z.Big5,28,"Big5"),K.GB18030=new K(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(Z.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends p{}pe.kind="UnsupportedOperationException";class Ne{static decode(n,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!Ne.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof K?n:K.getCharacterSetECIByName(n)}static decodeFallback(n,i){const s=this.encodingCharacterSet(i);if(Ne.isDecodeFallbackSupported(s)){let o="";for(let l=0,c=n.length;l<c;l++){let f=n[l].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(s.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new pe(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(K.UTF8)||n.equals(K.ISO8859_1)||n.equals(K.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class ce{static castAsNonUtf8Char(n,i=null){const s=i?i.getName():this.ISO88591;return Ne.decode(new Uint8Array([n]),s)}static guessEncoding(n,i){if(i!=null&&i.get(j.CHARACTER_SET)!==void 0)return i.get(j.CHARACTER_SET).toString();const s=n.length;let o=!0,l=!0,c=!0,f=0,g=0,m=0,A=0,v=0,N=0,k=0,P=0,F=0,z=0,G=0;const te=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let ne=0;ne<s&&(o||l||c);ne++){const J=n[ne]&255;c&&(f>0?J&128?f--:c=!1:J&128&&(J&64?(f++,J&32?(f++,J&16?(f++,J&8?c=!1:A++):m++):g++):c=!1)),o&&(J>127&&J<160?o=!1:J>159&&(J<192||J===215||J===247)&&G++),l&&(v>0?J<64||J===127||J>252?l=!1:v--:J===128||J===160||J>239?l=!1:J>160&&J<224?(N++,P=0,k++,k>F&&(F=k)):J>127?(v++,k=0,P++,P>z&&(z=P)):(k=0,P=0))}return c&&f>0&&(c=!1),l&&v>0&&(l=!1),c&&(te||g+m+A>0)?ce.UTF8:l&&(ce.ASSUME_SHIFT_JIS||F>=3||z>=3)?ce.SHIFT_JIS:o&&l?F===2&&N===2||G*10>=s?ce.SHIFT_JIS:ce.ISO88591:o?ce.ISO88591:l?ce.SHIFT_JIS:c?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let s=-1;function o(c,f,g,m,A,v){if(c==="%%")return"%";if(i[++s]===void 0)return;c=m?parseInt(m.substr(1)):void 0;let N=A?parseInt(A.substr(1)):void 0,k;switch(v){case"s":k=i[s];break;case"c":k=i[s][0];break;case"f":k=parseFloat(i[s]).toFixed(c);break;case"p":k=parseFloat(i[s]).toPrecision(c);break;case"e":k=parseFloat(i[s]).toExponential(c);break;case"x":k=parseInt(i[s]).toString(N||16);break;case"d":k=parseFloat(parseInt(i[s],N||10).toPrecision(c)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(N);let P=parseInt(g),F=g&&g[0]+""=="0"?"0":" ";for(;k.length<P;)k=f!==void 0?k+F:F+k;return k}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,o)}static getBytes(n,i){return Ne.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}ce.SHIFT_JIS=K.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=K.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=K.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class Ee{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,s){for(let o=i;i<i+s;o++)this.append(n[o]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class _e{constructor(n,i,s,o){if(this.width=n,this.height=i,this.rowSize=s,this.bits=o,i==null&&(i=n),this.height=i,n<1||i<1)throw new C("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,s=n[0].length,o=new _e(s,i);for(let l=0;l<i;l++){const c=n[l];for(let f=0;f<s;f++)c[f]&&o.set(f,l)}return o}static parseFromString(n,i,s){if(n===null)throw new C("stringRepresentation cannot be null");const o=new Array(n.length);let l=0,c=0,f=-1,g=0,m=0;for(;m<n.length;)if(n.charAt(m)===`
`||n.charAt(m)==="\r"){if(l>c){if(f===-1)f=l-c;else if(l-c!==f)throw new C("row lengths do not match");c=l,g++}m++}else if(n.substring(m,m+i.length)===i)m+=i.length,o[l]=!0,l++;else if(n.substring(m,m+s.length)===s)m+=s.length,o[l]=!1,l++;else throw new C("illegal character encountered: "+n.substring(m));if(l>c){if(f===-1)f=l-c;else if(l-c!==f)throw new C("row lengths do not match");g++}const A=new _e(f,g);for(let v=0;v<l;v++)o[v]&&A.set(Math.floor(v%f),Math.floor(v/f));return A}get(n,i){const s=i*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new C("input matrix dimensions do not match");const i=new B(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,c=this.height;l<c;l++){const f=l*s,g=n.getRow(l,i).getBitArray();for(let m=0;m<s;m++)o[f+m]^=g[m]}}clear(){const n=this.bits,i=n.length;for(let s=0;s<i;s++)n[s]=0}setRegion(n,i,s,o){if(i<0||n<0)throw new C("Left and top must be nonnegative");if(o<1||s<1)throw new C("Height and width must be at least 1");const l=n+s,c=i+o;if(c>this.height||l>this.width)throw new C("The region must fit inside the matrix");const f=this.rowSize,g=this.bits;for(let m=i;m<c;m++){const A=m*f;for(let v=n;v<l;v++)g[A+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new B(this.width):i.clear();const s=this.rowSize,o=this.bits,l=n*s;for(let c=0;c<s;c++)i.setBulk(c*32,o[l+c]);return i}setRow(n,i){D.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let s=new B(n),o=new B(n);for(let l=0,c=Math.floor((i+1)/2);l<c;l++)s=this.getRow(l,s),o=this.getRow(i-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(i-1-l,s)}getEnclosingRectangle(){const n=this.width,i=this.height,s=this.rowSize,o=this.bits;let l=n,c=i,f=-1,g=-1;for(let m=0;m<i;m++)for(let A=0;A<s;A++){const v=o[m*s+A];if(v!==0){if(m<c&&(c=m),m>g&&(g=m),A*32<l){let N=0;for(;!(v<<31-N&4294967295);)N++;A*32+N<l&&(l=A*32+N)}if(A*32+31>f){let N=31;for(;!(v>>>N);)N--;A*32+N>f&&(f=A*32+N)}}}return f<l||g<c?null:Int32Array.from([l,c,f-l+1,g-c+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const o=s/n;let l=s%n*32;const c=i[s];let f=0;for(;!(c<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,o])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/n);let l=Math.floor(s%n)*32;const c=i[s];let f=31;for(;!(c>>>f);)f--;return l+=f,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof _e))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&I.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+I.hashCode(this.bits),n}toString(n="X ",i="  ",s=`
`){return this.buildToString(n,i,s)}buildToString(n,i,s){let o=new Ee;for(let l=0,c=this.height;l<c;l++){for(let f=0,g=this.width;f<g;f++)o.append(this.get(f,l)?n:i);o.append(s)}return o.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends p{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class se extends b{constructor(n){super(n),this.luminances=se.EMPTY,this.buckets=new Int32Array(se.LUMINANCE_BUCKETS)}getBlackRow(n,i){const s=this.getLuminanceSource(),o=s.getWidth();i==null||i.getSize()<o?i=new B(o):i.clear(),this.initArrays(o);const l=s.getRow(n,this.luminances),c=this.buckets;for(let g=0;g<o;g++)c[(l[g]&255)>>se.LUMINANCE_SHIFT]++;const f=se.estimateBlackPoint(c);if(o<3)for(let g=0;g<o;g++)(l[g]&255)<f&&i.set(g);else{let g=l[0]&255,m=l[1]&255;for(let A=1;A<o-1;A++){const v=l[A+1]&255;(m*4-g-v)/2<f&&i.set(A),g=m,m=v}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight(),o=new _e(i,s);this.initArrays(i);const l=this.buckets;for(let g=1;g<5;g++){const m=Math.floor(s*g/5),A=n.getRow(m,this.luminances),v=Math.floor(i*4/5);for(let N=Math.floor(i/5);N<v;N++){const k=A[N]&255;l[k>>se.LUMINANCE_SHIFT]++}}const c=se.estimateBlackPoint(l),f=n.getMatrix();for(let g=0;g<s;g++){const m=g*i;for(let A=0;A<i;A++)(f[m+A]&255)<c&&o.set(A,g)}return o}createBinarizer(n){return new se(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let s=0;s<se.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(n){const i=n.length;let s=0,o=0,l=0;for(let A=0;A<i;A++)n[A]>l&&(o=A,l=n[A]),n[A]>s&&(s=n[A]);let c=0,f=0;for(let A=0;A<i;A++){const v=A-o,N=n[A]*v*v;N>f&&(c=A,f=N)}if(o>c){const A=o;o=c,c=A}if(c-o<=i/16)throw new X;let g=c-1,m=-1;for(let A=c-1;A>o;A--){const v=A-o,N=v*v*(c-A)*(s-n[A]);N>m&&(g=A,m=N)}return g<<se.LUMINANCE_SHIFT}}se.LUMINANCE_BITS=5,se.LUMINANCE_SHIFT=8-se.LUMINANCE_BITS,se.LUMINANCE_BUCKETS=1<<se.LUMINANCE_BITS,se.EMPTY=Uint8ClampedArray.from([0]);class ae extends se{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight();if(i>=ae.MINIMUM_DIMENSION&&s>=ae.MINIMUM_DIMENSION){const o=n.getMatrix();let l=i>>ae.BLOCK_SIZE_POWER;i&ae.BLOCK_SIZE_MASK&&l++;let c=s>>ae.BLOCK_SIZE_POWER;s&ae.BLOCK_SIZE_MASK&&c++;const f=ae.calculateBlackPoints(o,l,c,i,s),g=new _e(i,s);ae.calculateThresholdForBlock(o,l,c,i,s,f,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ae(n)}static calculateThresholdForBlock(n,i,s,o,l,c,f){const g=l-ae.BLOCK_SIZE,m=o-ae.BLOCK_SIZE;for(let A=0;A<s;A++){let v=A<<ae.BLOCK_SIZE_POWER;v>g&&(v=g);const N=ae.cap(A,2,s-3);for(let k=0;k<i;k++){let P=k<<ae.BLOCK_SIZE_POWER;P>m&&(P=m);const F=ae.cap(k,2,i-3);let z=0;for(let te=-2;te<=2;te++){const ne=c[N+te];z+=ne[F-2]+ne[F-1]+ne[F]+ne[F+1]+ne[F+2]}const G=z/25;ae.thresholdBlock(n,P,v,G,o,f)}}}static cap(n,i,s){return n<i?i:n>s?s:n}static thresholdBlock(n,i,s,o,l,c){for(let f=0,g=s*l+i;f<ae.BLOCK_SIZE;f++,g+=l)for(let m=0;m<ae.BLOCK_SIZE;m++)(n[g+m]&255)<=o&&c.set(i+m,s+f)}static calculateBlackPoints(n,i,s,o,l){const c=l-ae.BLOCK_SIZE,f=o-ae.BLOCK_SIZE,g=new Array(s);for(let m=0;m<s;m++){g[m]=new Int32Array(i);let A=m<<ae.BLOCK_SIZE_POWER;A>c&&(A=c);for(let v=0;v<i;v++){let N=v<<ae.BLOCK_SIZE_POWER;N>f&&(N=f);let k=0,P=255,F=0;for(let G=0,te=A*o+N;G<ae.BLOCK_SIZE;G++,te+=o){for(let ne=0;ne<ae.BLOCK_SIZE;ne++){const J=n[te+ne]&255;k+=J,J<P&&(P=J),J>F&&(F=J)}if(F-P>ae.MIN_DYNAMIC_RANGE)for(G++,te+=o;G<ae.BLOCK_SIZE;G++,te+=o)for(let ne=0;ne<ae.BLOCK_SIZE;ne++)k+=n[te+ne]&255}let z=k>>ae.BLOCK_SIZE_POWER*2;if(F-P<=ae.MIN_DYNAMIC_RANGE&&(z=P/2,m>0&&v>0)){const G=(g[m-1][v]+2*g[m][v-1]+g[m-1][v-1])/4;P<G&&(z=G)}g[m][v]=z}}return g}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class ${constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,s,o){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new Ee;for(let s=0;s<this.height;s++){const o=this.getRow(s,n);for(let l=0;l<this.width;l++){const c=o[l]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class ie extends ${constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const s=this.delegate.getRow(n,i),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let o=0;o<i;o++)s[o]=255-(n[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,s,o){return new ie(this.delegate.crop(n,i,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ie(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ie(this.delegate.rotateCounterClockwise45())}}class he extends ${constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return he.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,s){const o=new Uint8ClampedArray(i*s);for(let l=0,c=0,f=n.length;l<f;l+=4,c++){let g;if(n[l+3]===0)g=255;else{const A=n[l],v=n[l+1],N=n[l+2];g=306*A+601*v+117*N+512>>10}o[c]=g}return o}getRow(n,i){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const s=this.getWidth(),o=n*s;return i===null?i=this.buffer.slice(o,o+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(o,o+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,s,o){return super.crop(n,i,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),s=i.getContext("2d"),o=n*he.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),g=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return i.width=f,i.height=g,s.translate(f/2,g/2),s.rotate(o),s.drawImage(this.canvas,l/-2,c/-2),this.buffer=he.makeBufferFromCanvasImageData(i),this}invert(){return new ie(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class Re{constructor(n,i,s){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ce=(globalThis||vs||self||window||void 0)&&(globalThis||vs||self||window||void 0).__awaiter||function(S,n,i,s){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function f(A){try{m(s.next(A))}catch(v){c(v)}}function g(A){try{m(s.throw(A))}catch(v){c(v)}}function m(A){A.done?l(A.value):o(A.value).then(f,g)}m((s=s.apply(S,n||[])).next())})};class ot{constructor(n,i=500,s){this.reader=n,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Ce(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of n){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,c=s.label||`Video device ${i.length+1}`,f=s.groupId,g={deviceId:l,label:c,kind:o,groupId:f};i.push(g)}return i})}getVideoInputDevices(){return Ce(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Re(i.deviceId,i.label))})}findDeviceById(n){return Ce(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Ce(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Ce(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,i)})}decodeOnceFromConstraints(n,i){return Ce(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(n,i){return Ce(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,i,s){return Ce(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,s)})}decodeFromVideoDevice(n,i,s){return Ce(this,void 0,void 0,function*(){let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,i,s)})}decodeFromConstraints(n,i,s){return Ce(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(o,i,s)})}decodeFromStream(n,i,s){return Ce(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Ce(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((i,s)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Ce(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const s=document.getElementById(n);if(!s)throw new y(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new y(`element with id '${n}' must be an ${i} element`);return s}decodeFromImage(n,i){if(!n&&!i)throw new y("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new y("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,s){if(n===void 0&&i===void 0)throw new y("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new y("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(n){if(!n)throw new y("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new y("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=n,s}decodeFromVideoUrl(n){if(!n)throw new y("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=n,s}decodeFromVideoUrlContinuously(n,i){if(!n)throw new y("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,i);return s.src=n,o}_decodeOnLoadImage(n){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Ce(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Ce(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,c)=>{if(this._stopAsyncDecode){c(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(n);l(f)}catch(f){const g=i&&f instanceof X,A=(f instanceof L||f instanceof U)&&s;if(g||A)return setTimeout(o,this._timeBetweenDecodingAttempts,l,c);c(f)}};return new Promise((l,c)=>o(l,c))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(n);i(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){i(null,o);const l=o instanceof L||o instanceof U,c=o instanceof X;(l||c)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,s){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),s=new he(i),o=new ae(s);return new T(o)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,o;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,o=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,o=n.naturalHeight||n.height)),i.style.width=s+"px",i.style.height=o+"px",i.width=s,i.height=o,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class He{constructor(n,i,s=i==null?0:8*i.length,o,l,c=D.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=c,this.text=n,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,c==null?this.timestamp=D.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(i.length+n.length);D.arraycopy(i,0,s,0,i.length),D.arraycopy(n,0,s,i.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var zn;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(zn||(zn={}));var fe=zn,gr;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(gr||(gr={}));var vt=gr;class fs{constructor(n,i,s,o,l=-1,c=-1){this.rawBytes=n,this.text=i,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class hs{exp(n){return this.expTable[n]}log(n){if(n===0)throw new C;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Kt{constructor(n,i){if(i.length===0)throw new C;this.field=n;const s=i.length;if(s>1&&i[0]===0){let o=1;for(;o<s&&i[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),D.arraycopy(i,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(n===1){s=0;for(let c=0,f=i.length;c!==f;c++){const g=i[c];s=hs.addOrSubtract(s,g)}return s}s=i[0];const o=i.length,l=this.field;for(let c=1;c<o;c++)s=hs.addOrSubtract(l.multiply(n,s),i[c]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){const c=i;i=s,s=c}let o=new Int32Array(s.length);const l=s.length-i.length;D.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=hs.addOrSubtract(i[c-l],s[c]);return new Kt(this.field,o)}multiply(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,o=n.coefficients,l=o.length,c=new Int32Array(s+l-1),f=this.field;for(let g=0;g<s;g++){const m=i[g];for(let A=0;A<l;A++)c[g+A]=hs.addOrSubtract(c[g+A],f.multiply(m,o[A]))}return new Kt(f,c)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,s=this.field,o=new Int32Array(i),l=this.coefficients;for(let c=0;c<i;c++)o[c]=s.multiply(l[c],n);return new Kt(s,o)}multiplyByMonomial(n,i){if(n<0)throw new C;if(i===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+n),c=this.field;for(let f=0;f<o;f++)l[f]=c.multiply(s[f],i);return new Kt(c,l)}divide(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new C("Divide by 0");const i=this.field;let s=i.getZero(),o=this;const l=n.getCoefficient(n.getDegree()),c=i.inverse(l);for(;o.getDegree()>=n.getDegree()&&!o.isZero();){const f=o.getDegree()-n.getDegree(),g=i.multiply(o.getCoefficient(o.getDegree()),c),m=n.multiplyByMonomial(f,g),A=i.buildMonomial(f,g);s=s.addOrSubtract(A),o=o.addOrSubtract(m)}return[s,o]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),i===0||s!==1){const o=this.field.log(s);o===0?n+="1":o===1?n+="a":(n+="a^",n+=o)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Ia extends p{}Ia.kind="ArithmeticException";class Le extends hs{constructor(n,i,s){super(),this.primitive=n,this.size=i,this.generatorBase=s;const o=new Int32Array(i);let l=1;for(let f=0;f<i;f++)o[f]=l,l*=2,l>=i&&(l^=n,l&=i-1);this.expTable=o;const c=new Int32Array(i);for(let f=0;f<i-1;f++)c[o[f]]=f;this.logTable=c,this.zero=new Kt(this,Int32Array.from([0])),this.one=new Kt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new C;if(i===0)return this.zero;const s=new Int32Array(n+1);return s[0]=i,new Kt(this,s)}inverse(n){if(n===0)throw new Ia;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class yi extends p{}yi.kind="ReedSolomonException";class Hn extends p{}Hn.kind="IllegalStateException";class gs{constructor(n){this.field=n}decode(n,i){const s=this.field,o=new Kt(s,n),l=new Int32Array(i);let c=!0;for(let k=0;k<i;k++){const P=o.evaluateAt(s.exp(k+s.getGeneratorBase()));l[l.length-1-k]=P,P!==0&&(c=!1)}if(c)return;const f=new Kt(s,l),g=this.runEuclideanAlgorithm(s.buildMonomial(i,1),f,i),m=g[0],A=g[1],v=this.findErrorLocations(m),N=this.findErrorMagnitudes(A,v);for(let k=0;k<v.length;k++){const P=n.length-1-s.log(v[k]);if(P<0)throw new yi("Bad error location");n[P]=Le.addOrSubtract(n[P],N[k])}}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){const k=n;n=i,i=k}const o=this.field;let l=n,c=i,f=o.getZero(),g=o.getOne();for(;c.getDegree()>=(s/2|0);){let k=l,P=f;if(l=c,f=g,l.isZero())throw new yi("r_{i-1} was zero");c=k;let F=o.getZero();const z=l.getCoefficient(l.getDegree()),G=o.inverse(z);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const te=c.getDegree()-l.getDegree(),ne=o.multiply(c.getCoefficient(c.getDegree()),G);F=F.addOrSubtract(o.buildMonomial(te,ne)),c=c.addOrSubtract(l.multiplyByMonomial(te,ne))}if(g=F.multiply(f).addOrSubtract(P),c.getDegree()>=l.getDegree())throw new Hn("Division algorithm failed to reduce polynomial?")}const m=g.getCoefficient(0);if(m===0)throw new yi("sigmaTilde(0) was zero");const A=o.inverse(m),v=g.multiplyScalar(A),N=c.multiplyScalar(A);return[v,N]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(i);let o=0;const l=this.field;for(let c=1;c<l.getSize()&&o<i;c++)n.evaluateAt(c)===0&&(s[o]=l.inverse(c),o++);if(o!==i)throw new yi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,i){const s=i.length,o=new Int32Array(s),l=this.field;for(let c=0;c<s;c++){const f=l.inverse(i[c]);let g=1;for(let m=0;m<s;m++)if(c!==m){const A=l.multiply(i[m],f),v=A&1?A&-2:A|1;g=l.multiply(g,v)}o[c]=l.multiply(n.evaluateAt(f),l.inverse(g)),l.getGeneratorBase()!==0&&(o[c]=l.multiply(o[c],f))}return o}}var Rt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Rt||(Rt={}));class Xe{decode(n){this.ddata=n;let i=n.getBits(),s=this.extractBits(i),o=this.correctBits(s),l=Xe.convertBoolArrayToByteArray(o),c=Xe.getEncodedData(o),f=new fs(l,c,null,null);return f.setNumBits(o.length),f}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,s=Rt.UPPER,o=Rt.UPPER,l="",c=0;for(;c<i;)if(o===Rt.BINARY){if(i-c<5)break;let f=Xe.readCode(n,c,5);if(c+=5,f===0){if(i-c<11)break;f=Xe.readCode(n,c,11)+31,c+=11}for(let g=0;g<f;g++){if(i-c<8){c=i;break}const m=Xe.readCode(n,c,8);l+=ce.castAsNonUtf8Char(m),c+=8}o=s}else{let f=o===Rt.DIGIT?4:5;if(i-c<f)break;let g=Xe.readCode(n,c,f);c+=f;let m=Xe.getCharacter(o,g);m.startsWith("CTRL_")?(s=o,o=Xe.getTable(m.charAt(5)),m.charAt(6)==="L"&&(s=o)):(l+=m,o=s)}return l}static getTable(n){switch(n){case"L":return Rt.LOWER;case"P":return Rt.PUNCT;case"M":return Rt.MIXED;case"D":return Rt.DIGIT;case"B":return Rt.BINARY;case"U":default:return Rt.UPPER}}static getCharacter(n,i){switch(n){case Rt.UPPER:return Xe.UPPER_TABLE[i];case Rt.LOWER:return Xe.LOWER_TABLE[i];case Rt.MIXED:return Xe.MIXED_TABLE[i];case Rt.PUNCT:return Xe.PUNCT_TABLE[i];case Rt.DIGIT:return Xe.DIGIT_TABLE[i];default:throw new Hn("Bad table")}}correctBits(n){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=Le.AZTEC_DATA_10):(s=12,i=Le.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=n.length/s;if(l<o)throw new U;let c=n.length%s,f=new Int32Array(l);for(let N=0;N<l;N++,c+=s)f[N]=Xe.readCode(n,c,s);try{new gs(i).decode(f,l-o)}catch(N){throw new U(N)}let g=(1<<s)-1,m=0;for(let N=0;N<o;N++){let k=f[N];if(k===0||k===g)throw new U;(k===1||k===g-1)&&m++}let A=new Array(o*s-m),v=0;for(let N=0;N<o;N++){let k=f[N];if(k===1||k===g-1)A.fill(k>1,v,v+s-1),v+=s-1;else for(let P=s-1;P>=0;--P)A[v++]=(k&1<<P)!==0}return A}extractBits(n){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(i?11:14)+s*4,l=new Int32Array(o),c=new Array(this.totalBitsInLayer(s,i));if(i)for(let f=0;f<l.length;f++)l[f]=f;else{let f=o+1+2*_.truncDivision(_.truncDivision(o,2)-1,15),g=o/2,m=_.truncDivision(f,2);for(let A=0;A<g;A++){let v=A+_.truncDivision(A,15);l[g-A-1]=m-v-1,l[g+A]=m+v+1}}for(let f=0,g=0;f<s;f++){let m=(s-f)*4+(i?9:12),A=f*2,v=o-1-A;for(let N=0;N<m;N++){let k=N*2;for(let P=0;P<2;P++)c[g+k+P]=n.get(l[A+P],l[A+N]),c[g+2*m+k+P]=n.get(l[A+N],l[v-P]),c[g+4*m+k+P]=n.get(l[v-P],l[v-N]),c[g+6*m+k+P]=n.get(l[v-N],l[A+P])}g+=m*8}return c}static readCode(n,i,s){let o=0;for(let l=i;l<i+s;l++)o<<=1,n[l]&&(o|=1);return o}static readByte(n,i){let s=n.length-i;return s>=8?Xe.readCode(n,i,8):Xe.readCode(n,i,s)<<8-s}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let s=0;s<i.length;s++)i[s]=Xe.readByte(n,8*s);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Xe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Xe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Xe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Oe{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,s,o){const l=n-s,c=i-o;return Math.sqrt(l*l+c*c)}static sum(n){let i=0;for(let s=0,o=n.length;s!==o;s++){const l=n[s];i+=l}return i}}class Na{static floatToIntBits(n){return n}}Na.MAX_VALUE=Number.MAX_SAFE_INTEGER;class de{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof de){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Na.floatToIntBits(this.x)+Na.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),o=this.distance(n[0],n[2]);let l,c,f;if(s>=i&&s>=o?(c=n[0],l=n[1],f=n[2]):o>=s&&o>=i?(c=n[1],l=n[0],f=n[2]):(c=n[2],l=n[0],f=n[1]),this.crossProductZ(l,c,f)<0){const g=l;l=f,f=g}n[0]=l,n[1]=c,n[2]=f}static distance(n,i){return Oe.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,s){const o=i.x,l=i.y;return(s.x-o)*(n.y-l)-(s.y-l)*(n.x-o)}}class Ta{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Id extends Ta{constructor(n,i,s,o,l){super(n,i),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class nr{constructor(n,i,s,o){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=nr.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),o==null&&(o=n.getHeight()/2|0);const l=i/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let n=this.leftInit,i=this.rightInit,s=this.upInit,o=this.downInit,l=!1,c=!0,f=!1,g=!1,m=!1,A=!1,v=!1;const N=this.width,k=this.height;for(;c;){c=!1;let P=!0;for(;(P||!g)&&i<N;)P=this.containsBlackPoint(s,o,i,!1),P?(i++,c=!0,g=!0):g||i++;if(i>=N){l=!0;break}let F=!0;for(;(F||!m)&&o<k;)F=this.containsBlackPoint(n,i,o,!0),F?(o++,c=!0,m=!0):m||o++;if(o>=k){l=!0;break}let z=!0;for(;(z||!A)&&n>=0;)z=this.containsBlackPoint(s,o,n,!1),z?(n--,c=!0,A=!0):A||n--;if(n<0){l=!0;break}let G=!0;for(;(G||!v)&&s>=0;)G=this.containsBlackPoint(n,i,s,!0),G?(s--,c=!0,v=!0):v||s--;if(s<0){l=!0;break}c&&(f=!0)}if(!l&&f){const P=i-n;let F=null;for(let ne=1;F===null&&ne<P;ne++)F=this.getBlackPointOnSegment(n,o-ne,n+ne,o);if(F==null)throw new X;let z=null;for(let ne=1;z===null&&ne<P;ne++)z=this.getBlackPointOnSegment(n,s+ne,n+ne,s);if(z==null)throw new X;let G=null;for(let ne=1;G===null&&ne<P;ne++)G=this.getBlackPointOnSegment(i,s+ne,i-ne,s);if(G==null)throw new X;let te=null;for(let ne=1;te===null&&ne<P;ne++)te=this.getBlackPointOnSegment(i,o-ne,i-ne,o);if(te==null)throw new X;return this.centerEdges(te,F,G,z)}else throw new X}getBlackPointOnSegment(n,i,s,o){const l=Oe.round(Oe.distance(n,i,s,o)),c=(s-n)/l,f=(o-i)/l,g=this.image;for(let m=0;m<l;m++){const A=Oe.round(n+m*c),v=Oe.round(i+m*f);if(g.get(A,v))return new de(A,v)}return null}centerEdges(n,i,s,o){const l=n.getX(),c=n.getY(),f=i.getX(),g=i.getY(),m=s.getX(),A=s.getY(),v=o.getX(),N=o.getY(),k=nr.CORR;return l<this.width/2?[new de(v-k,N+k),new de(f+k,g+k),new de(m-k,A-k),new de(l+k,c-k)]:[new de(v+k,N+k),new de(f+k,g-k),new de(m-k,A+k),new de(l-k,c-k)]}containsBlackPoint(n,i,s,o){const l=this.image;if(o){for(let c=n;c<=i;c++)if(l.get(c,s))return!0}else for(let c=n;c<=i;c++)if(l.get(s,c))return!0;return!1}}nr.INIT_SIZE=10,nr.CORR=1;class ml{static checkAndNudgePoints(n,i){const s=n.getWidth(),o=n.getHeight();let l=!0;for(let c=0;c<i.length&&l;c+=2){const f=Math.floor(i[c]),g=Math.floor(i[c+1]);if(f<-1||f>s||g<-1||g>o)throw new X;l=!1,f===-1?(i[c]=0,l=!0):f===s&&(i[c]=s-1,l=!0),g===-1?(i[c+1]=0,l=!0):g===o&&(i[c+1]=o-1,l=!0)}l=!0;for(let c=i.length-2;c>=0&&l;c-=2){const f=Math.floor(i[c]),g=Math.floor(i[c+1]);if(f<-1||f>s||g<-1||g>o)throw new X;l=!1,f===-1?(i[c]=0,l=!0):f===s&&(i[c]=s-1,l=!0),g===-1?(i[c+1]=0,l=!0):g===o&&(i[c+1]=o-1,l=!0)}}}class Rn{constructor(n,i,s,o,l,c,f,g,m){this.a11=n,this.a21=i,this.a31=s,this.a12=o,this.a22=l,this.a32=c,this.a13=f,this.a23=g,this.a33=m}static quadrilateralToQuadrilateral(n,i,s,o,l,c,f,g,m,A,v,N,k,P,F,z){const G=Rn.quadrilateralToSquare(n,i,s,o,l,c,f,g);return Rn.squareToQuadrilateral(m,A,v,N,k,P,F,z).times(G)}transformPoints(n){const i=n.length,s=this.a11,o=this.a12,l=this.a13,c=this.a21,f=this.a22,g=this.a23,m=this.a31,A=this.a32,v=this.a33;for(let N=0;N<i;N+=2){const k=n[N],P=n[N+1],F=l*k+g*P+v;n[N]=(s*k+c*P+m)/F,n[N+1]=(o*k+f*P+A)/F}}transformPointsWithValues(n,i){const s=this.a11,o=this.a12,l=this.a13,c=this.a21,f=this.a22,g=this.a23,m=this.a31,A=this.a32,v=this.a33,N=n.length;for(let k=0;k<N;k++){const P=n[k],F=i[k],z=l*P+g*F+v;n[k]=(s*P+c*F+m)/z,i[k]=(o*P+f*F+A)/z}}static squareToQuadrilateral(n,i,s,o,l,c,f,g){const m=n-s+l-f,A=i-o+c-g;if(m===0&&A===0)return new Rn(s-n,l-s,n,o-i,c-o,i,0,0,1);{const v=s-l,N=f-l,k=o-c,P=g-c,F=v*P-N*k,z=(m*P-N*A)/F,G=(v*A-m*k)/F;return new Rn(s-n+z*s,f-n+G*f,n,o-i+z*o,g-i+G*g,i,z,G,1)}}static quadrilateralToSquare(n,i,s,o,l,c,f,g){return Rn.squareToQuadrilateral(n,i,s,o,l,c,f,g).buildAdjoint()}buildAdjoint(){return new Rn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Rn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Nd extends ml{sampleGrid(n,i,s,o,l,c,f,g,m,A,v,N,k,P,F,z,G,te,ne){const J=Rn.quadrilateralToQuadrilateral(o,l,c,f,g,m,A,v,N,k,P,F,z,G,te,ne);return this.sampleGridWithTransform(n,i,s,J)}sampleGridWithTransform(n,i,s,o){if(i<=0||s<=0)throw new X;const l=new _e(i,s),c=new Float32Array(2*i);for(let f=0;f<s;f++){const g=c.length,m=f+.5;for(let A=0;A<g;A+=2)c[A]=A/2+.5,c[A+1]=m;o.transformPoints(c),ml.checkAndNudgePoints(n,c);try{for(let A=0;A<g;A+=2)n.get(Math.floor(c[A]),Math.floor(c[A+1]))&&l.set(A/2,f)}catch{throw new X}}return l}}class pr{static setGridSampler(n){pr.gridSampler=n}static getInstance(){return pr.gridSampler}}pr.gridSampler=new Nd;class Vt{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new de(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Td{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(n){let c=s[0];s[0]=s[2],s[2]=c}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new Id(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new X;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(s,i);let o=0;for(let c=0;c<4;c++){let f=s[(this.shift+c)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,i){let s=0;n.forEach((o,l,c)=>{let f=(o>>i-2<<1)+(o&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(_.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new X}getCorrectedParameterData(n,i){let s,o;i?(s=7,o=2):(s=10,o=4);let l=s-o,c=new Int32Array(s);for(let g=s-1;g>=0;--g)c[g]=n&15,n>>=4;try{new gs(Le.AZTEC_PARAM).decode(c,l)}catch{throw new X}let f=0;for(let g=0;g<o;g++)f=(f<<4)+c[g];return f}getBullsEyeCorners(n){let i=n,s=n,o=n,l=n,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(i,c,1,-1),N=this.getFirstDifferent(s,c,1,1),k=this.getFirstDifferent(o,c,-1,1),P=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(P,v)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(v,N,k,P))break}i=v,s=N,o=k,l=P,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let f=new de(i.getX()+.5,i.getY()-.5),g=new de(s.getX()+.5,s.getY()+.5),m=new de(o.getX()-.5,o.getY()+.5),A=new de(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,g,m,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,s,o;try{let f=new nr(this.image).detect();n=f[0],i=f[1],s=f[2],o=f[3]}catch{let g=this.image.getWidth()/2,m=this.image.getHeight()/2;n=this.getFirstDifferent(new Vt(g+7,m-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Vt(g+7,m+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Vt(g-7,m+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Vt(g-7,m-7),!1,-1,-1).toResultPoint()}let l=Oe.round((n.getX()+o.getX()+i.getX()+s.getX())/4),c=Oe.round((n.getY()+o.getY()+i.getY()+s.getY())/4);try{let f=new nr(this.image,15,l,c).detect();n=f[0],i=f[1],s=f[2],o=f[3]}catch{n=this.getFirstDifferent(new Vt(l+7,c-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Vt(l+7,c+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Vt(l-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Vt(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Oe.round((n.getX()+o.getX()+i.getX()+s.getX())/4),c=Oe.round((n.getY()+o.getY()+i.getY()+s.getY())/4),new Vt(l,c)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,s,o,l){let c=pr.getInstance(),f=this.getDimension(),g=f/2-this.nbCenterLayers,m=f/2+this.nbCenterLayers;return c.sampleGrid(n,f,f,g,g,m,g,m,m,g,m,i.getX(),i.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(n,i,s){let o=0,l=this.distanceResultPoint(n,i),c=l/s,f=n.getX(),g=n.getY(),m=c*(i.getX()-n.getX())/l,A=c*(i.getY()-n.getY())/l;for(let v=0;v<s;v++)this.image.get(Oe.round(f+v*m),Oe.round(g+v*A))&&(o|=1<<s-v-1);return o}isWhiteOrBlackRectangle(n,i,s,o){let l=3;n=new Vt(n.getX()-l,n.getY()+l),i=new Vt(i.getX()-l,i.getY()-l),s=new Vt(s.getX()+l,s.getY()-l),o=new Vt(o.getX()+l,o.getY()+l);let c=this.getColor(o,n);if(c===0)return!1;let f=this.getColor(n,i);return f!==c||(f=this.getColor(i,s),f!==c)?!1:(f=this.getColor(s,o),f===c)}getColor(n,i){let s=this.distancePoint(n,i),o=(i.getX()-n.getX())/s,l=(i.getY()-n.getY())/s,c=0,f=n.getX(),g=n.getY(),m=this.image.get(n.getX(),n.getY()),A=Math.ceil(s);for(let N=0;N<A;N++)f+=o,g+=l,this.image.get(Oe.round(f),Oe.round(g))!==m&&c++;let v=c/s;return v>.1&&v<.9?0:v<=.1===m?1:-1}getFirstDifferent(n,i,s,o){let l=n.getX()+s,c=n.getY()+o;for(;this.isValid(l,c)&&this.image.get(l,c)===i;)l+=s,c+=o;for(l-=s,c-=o;this.isValid(l,c)&&this.image.get(l,c)===i;)l+=s;for(l-=s;this.isValid(l,c)&&this.image.get(l,c)===i;)c+=o;return c-=o,new Vt(l,c)}expandSquare(n,i,s){let o=s/(2*i),l=n[0].getX()-n[2].getX(),c=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,g=(n[0].getY()+n[2].getY())/2,m=new de(f+o*l,g+o*c),A=new de(f-o*l,g-o*c);l=n[1].getX()-n[3].getX(),c=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,g=(n[1].getY()+n[3].getY())/2;let v=new de(f+o*l,g+o*c),N=new de(f-o*l,g-o*c);return[m,v,A,N]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Oe.round(n.getX()),s=Oe.round(n.getY());return this.isValid(i,s)}distancePoint(n,i){return Oe.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Oe.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class _a{decode(n,i=null){let s=null,o=new Td(n.getBlackMatrix()),l=null,c=null;try{let A=o.detectMirror(!1);l=A.getPoints(),this.reportFoundResultPoints(i,l),c=new Xe().decode(A)}catch(A){s=A}if(c==null)try{let A=o.detectMirror(!0);l=A.getPoints(),this.reportFoundResultPoints(i,l),c=new Xe().decode(A)}catch(A){throw s??A}let f=new He(c.getText(),c.getRawBytes(),c.getNumBits(),l,fe.AZTEC,D.currentTimeMillis()),g=c.getByteSegments();g!=null&&f.putMetadata(vt.BYTE_SEGMENTS,g);let m=c.getECLevel();return m!=null&&f.putMetadata(vt.ERROR_CORRECTION_LEVEL,m),f}reportFoundResultPoints(n,i){if(n!=null){let s=n.get(j.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((o,l,c)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class ep extends ot{constructor(n=500){super(new _a,n)}}class xt{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(j.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),c=this.doDecode(l,i),f=c.getResultMetadata();let g=270;f!==null&&f.get(vt.ORIENTATION)===!0&&(g=g+f.get(vt.ORIENTATION)%360),c.putMetadata(vt.ORIENTATION,g);const m=c.getResultPoints();if(m!==null){const A=l.getHeight();for(let v=0;v<m.length;v++)m[v]=new de(A-m[v].getY()-1,m[v].getX())}return c}else throw new X}}reset(){}doDecode(n,i){const s=n.getWidth(),o=n.getHeight();let l=new B(s);const c=i&&i.get(j.TRY_HARDER)===!0,f=Math.max(1,o>>(c?8:5));let g;c?g=o:g=15;const m=Math.trunc(o/2);for(let A=0;A<g;A++){const v=Math.trunc((A+1)/2),N=(A&1)===0,k=m+f*(N?v:-v);if(k<0||k>=o)break;try{l=n.getBlackRow(k,l)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(l.reverse(),i&&i.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((z,G)=>F.set(G,z)),F.delete(j.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(k,l,i);if(P===1){F.putMetadata(vt.ORIENTATION,180);const z=F.getResultPoints();z!==null&&(z[0]=new de(s-z[0].getX()-1,z[0].getY()),z[1]=new de(s-z[1].getX()-1,z[1].getY()))}return F}catch{}}}throw new X}static recordPattern(n,i,s){const o=s.length;for(let m=0;m<o;m++)s[m]=0;const l=n.getSize();if(i>=l)throw new X;let c=!n.get(i),f=0,g=i;for(;g<l;){if(n.get(g)!==c)s[f]++;else{if(++f===o)break;s[f]=1,c=!c}g++}if(!(f===o||f===o-1&&g===l))throw new X}static recordPatternInReverse(n,i,s){let o=s.length,l=n.get(i);for(;i>0&&o>=0;)n.get(--i)!==l&&(o--,l=!l);if(o>=0)throw new X;xt.recordPattern(n,i+1,s)}static patternMatchVariance(n,i,s){const o=n.length;let l=0,c=0;for(let m=0;m<o;m++)l+=n[m],c+=i[m];if(l<c)return Number.POSITIVE_INFINITY;const f=l/c;s*=f;let g=0;for(let m=0;m<o;m++){const A=n[m],v=i[m]*f,N=A>v?A-v:v-A;if(N>s)return Number.POSITIVE_INFINITY;g+=N}return g/l}}class re extends xt{static findStartPattern(n){const i=n.getSize(),s=n.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),c=s,f=!1;const g=6;for(let m=s;m<i;m++)if(n.get(m)!==f)l[o]++;else{if(o===g-1){let A=re.MAX_AVG_VARIANCE,v=-1;for(let N=re.CODE_START_A;N<=re.CODE_START_C;N++){const k=xt.patternMatchVariance(l,re.CODE_PATTERNS[N],re.MAX_INDIVIDUAL_VARIANCE);k<A&&(A=k,v=N)}if(v>=0&&n.isRange(Math.max(0,c-(m-c)/2),c,!1))return Int32Array.from([c,m,v]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new X}static decodeCode(n,i,s){xt.recordPattern(n,s,i);let o=re.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<re.CODE_PATTERNS.length;c++){const f=re.CODE_PATTERNS[c],g=this.patternMatchVariance(i,f,re.MAX_INDIVIDUAL_VARIANCE);g<o&&(o=g,l=c)}if(l>=0)return l;throw new X}decodeRow(n,i,s){const o=s&&s.get(j.ASSUME_GS1)===!0,l=re.findStartPattern(i),c=l[2];let f=0;const g=new Uint8Array(20);g[f++]=c;let m;switch(c){case re.CODE_START_A:m=re.CODE_CODE_A;break;case re.CODE_START_B:m=re.CODE_CODE_B;break;case re.CODE_START_C:m=re.CODE_CODE_C;break;default:throw new U}let A=!1,v=!1,N="",k=l[0],P=l[1];const F=Int32Array.from([0,0,0,0,0,0]);let z=0,G=0,te=c,ne=0,J=!0,be=!1,Ae=!1;for(;!A;){const _i=v;switch(v=!1,z=G,G=re.decodeCode(i,F,P),g[f++]=G,G!==re.CODE_STOP&&(J=!0),G!==re.CODE_STOP&&(ne++,te+=ne*G),k=P,P+=F.reduce((Rp,bp)=>Rp+bp,0),G){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new U}switch(m){case re.CODE_CODE_A:if(G<64)Ae===be?N+=String.fromCharCode(32+G):N+=String.fromCharCode(32+G+128),Ae=!1;else if(G<96)Ae===be?N+=String.fromCharCode(G-64):N+=String.fromCharCode(G+64),Ae=!1;else switch(G!==re.CODE_STOP&&(J=!1),G){case re.CODE_FNC_1:o&&(N.length===0?N+="]C1":N+="");break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!be&&Ae?(be=!0,Ae=!1):be&&Ae?(be=!1,Ae=!1):Ae=!0;break;case re.CODE_SHIFT:v=!0,m=re.CODE_CODE_B;break;case re.CODE_CODE_B:m=re.CODE_CODE_B;break;case re.CODE_CODE_C:m=re.CODE_CODE_C;break;case re.CODE_STOP:A=!0;break}break;case re.CODE_CODE_B:if(G<96)Ae===be?N+=String.fromCharCode(32+G):N+=String.fromCharCode(32+G+128),Ae=!1;else switch(G!==re.CODE_STOP&&(J=!1),G){case re.CODE_FNC_1:o&&(N.length===0?N+="]C1":N+="");break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!be&&Ae?(be=!0,Ae=!1):be&&Ae?(be=!1,Ae=!1):Ae=!0;break;case re.CODE_SHIFT:v=!0,m=re.CODE_CODE_A;break;case re.CODE_CODE_A:m=re.CODE_CODE_A;break;case re.CODE_CODE_C:m=re.CODE_CODE_C;break;case re.CODE_STOP:A=!0;break}break;case re.CODE_CODE_C:if(G<100)G<10&&(N+="0"),N+=G;else switch(G!==re.CODE_STOP&&(J=!1),G){case re.CODE_FNC_1:o&&(N.length===0?N+="]C1":N+="");break;case re.CODE_CODE_A:m=re.CODE_CODE_A;break;case re.CODE_CODE_B:m=re.CODE_CODE_B;break;case re.CODE_STOP:A=!0;break}break}_i&&(m=m===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const $t=P-k;if(P=i.getNextUnset(P),!i.isRange(P,Math.min(i.getSize(),P+(P-k)/2),!1))throw new X;if(te-=ne*z,te%103!==z)throw new L;const Mn=N.length;if(Mn===0)throw new X;Mn>0&&J&&(m===re.CODE_CODE_C?N=N.substring(0,Mn-2):N=N.substring(0,Mn-1));const en=(l[1]+l[0])/2,Ye=k+$t/2,Ot=g.length,un=new Uint8Array(Ot);for(let _i=0;_i<Ot;_i++)un[_i]=g[_i];const Ti=[new de(en,n),new de(Ye,n)];return new He(N,un,0,Ti,fe.CODE_128,new Date().getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;class yt extends xt{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=yt.findAsteriskPattern(i,o),c=i.getNextSet(l[1]),f=i.getSize(),g,m;do{yt.recordPattern(i,c,o);let F=yt.toNarrowWidePattern(o);if(F<0)throw new X;g=yt.patternToChar(F),this.decodeRowResult+=g,m=c;for(let z of o)c+=z;c=i.getNextSet(c)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let F of o)A+=F;let v=c-m-A;if(c!==f&&v*2<A)throw new X;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,z=0;for(let G=0;G<F;G++)z+=yt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(F)!==yt.ALPHABET_STRING.charAt(z%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new X;let N;this.extendedMode?N=yt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let k=(l[1]+l[0])/2,P=m+A/2;return new He(N,null,0,[new de(k,n),new de(P,n)],fe.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let s=n.getSize(),o=n.getNextSet(0),l=0,c=o,f=!1,g=i.length;for(let m=o;m<s;m++)if(n.get(m)!==f)i[l]++;else{if(l===g-1){if(this.toNarrowWidePattern(i)===yt.ASTERISK_ENCODING&&n.isRange(Math.max(0,c-Math.floor((m-c)/2)),c,!1))return[c,m];c+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,f=!f}throw new X}static toNarrowWidePattern(n){let i=n.length,s=0,o;do{let l=2147483647;for(let g of n)g<l&&g>s&&(l=g);s=l,o=0;let c=0,f=0;for(let g=0;g<i;g++){let m=n[g];m>s&&(f|=1<<i-1-g,o++,c+=m)}if(o===3){for(let g=0;g<i&&o>0;g++){let m=n[g];if(m>s&&(o--,m*2>=c))return-1}return f}}while(o>3);return-1}static patternToChar(n){for(let i=0;i<yt.CHARACTER_ENCODINGS.length;i++)if(yt.CHARACTER_ENCODINGS[i]===n)return yt.ALPHABET_STRING.charAt(i);if(n===yt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(n){let i=n.length,s="";for(let o=0;o<i;o++){let l=n.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=n.charAt(o+1),f="\0";switch(l){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new U;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new U;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new U;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new U;break}s+=f,o++}else s+=l}return s}}yt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yt.ASTERISK_ENCODING=148;class We extends xt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,s){let o=this.decodeStart(i),l=this.decodeEnd(i),c=new Ee;We.decodeMiddle(i,o[1],l[0],c);let f=c.toString(),g=null;s!=null&&(g=s.get(j.ALLOWED_LENGTHS)),g==null&&(g=We.DEFAULT_ALLOWED_LENGTHS);let m=f.length,A=!1,v=0;for(let P of g){if(m===P){A=!0;break}P>v&&(v=P)}if(!A&&m>v&&(A=!0),!A)throw new U;const N=[new de(o[1],n),new de(l[0],n)];return new He(f,null,0,N,fe.ITF,new Date().getTime())}static decodeMiddle(n,i,s,o){let l=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),c.fill(0),f.fill(0);i<s;){xt.recordPattern(n,i,l);for(let m=0;m<5;m++){let A=2*m;c[m]=l[A],f[m]=l[A+1]}let g=We.decodeDigit(c);o.append(g.toString()),g=this.decodeDigit(f),o.append(g.toString()),l.forEach(function(m){i+=m})}}decodeStart(n){let i=We.skipWhiteSpace(n),s=We.findGuardPattern(n,i,We.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let o=i-1;s>0&&o>=0&&!n.get(o);o--)s--;if(s!==0)throw new X}static skipWhiteSpace(n){const i=n.getSize(),s=n.getNextSet(0);if(s===i)throw new X;return s}decodeEnd(n){n.reverse();try{let i=We.skipWhiteSpace(n),s;try{s=We.findGuardPattern(n,i,We.END_PATTERN_REVERSED[0])}catch(l){l instanceof X&&(s=We.findGuardPattern(n,i,We.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let o=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-o,s}finally{n.reverse()}}static findGuardPattern(n,i,s){let o=s.length,l=new Int32Array(o),c=n.getSize(),f=!1,g=0,m=i;l.fill(0);for(let A=i;A<c;A++)if(n.get(A)!==f)l[g]++;else{if(g===o-1){if(xt.patternMatchVariance(l,s,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return[m,A];m+=l[0]+l[1],D.arraycopy(l,2,l,0,g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,f=!f}throw new X}static decodeDigit(n){let i=We.MAX_AVG_VARIANCE,s=-1,o=We.PATTERNS.length;for(let l=0;l<o;l++){let c=We.PATTERNS[l],f=xt.patternMatchVariance(n,c,We.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,s=l):f===i&&(s=-1)}if(s>=0)return s%10;throw new X}}We.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],We.MAX_AVG_VARIANCE=.38,We.MAX_INDIVIDUAL_VARIANCE=.5,We.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],We.START_PATTERN=Int32Array.from([1,1,1,1]),We.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class lt extends xt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),s=lt.findGuardPattern(n,o,!1,this.START_END_PATTERN,l);let c=s[0];o=s[1];let f=c-(o-c);f>=0&&(i=n.isRange(f,c,!1))}return s}static checkChecksum(n){return lt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return lt.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let o=i-1;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}s*=3;for(let o=i-2;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}return(1e3-s)%10}static decodeEnd(n,i){return lt.findGuardPattern(n,i,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,s,o){return this.findGuardPattern(n,i,s,o,new Int32Array(o.length))}static findGuardPattern(n,i,s,o,l){let c=n.getSize();i=s?n.getNextUnset(i):n.getNextSet(i);let f=0,g=i,m=o.length,A=s;for(let v=i;v<c;v++)if(n.get(v)!==A)l[f]++;else{if(f===m-1){if(xt.patternMatchVariance(l,o,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return Int32Array.from([g,v]);g+=l[0]+l[1];let N=l.slice(2,l.length-1);for(let k=0;k<f-1;k++)l[k]=N[k];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,A=!A}throw new X}static decodeDigit(n,i,s,o){this.recordPattern(n,s,i);let l=this.MAX_AVG_VARIANCE,c=-1,f=o.length;for(let g=0;g<f;g++){let m=o[g],A=xt.patternMatchVariance(i,m,lt.MAX_INDIVIDUAL_VARIANCE);A<l&&(l=A,c=g)}if(c>=0)return c;throw new X}}lt.MAX_AVG_VARIANCE=.48,lt.MAX_INDIVIDUAL_VARIANCE=.7,lt.START_END_PATTERN=Int32Array.from([1,1,1]),lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ps{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,o),c=o.toString(),f=ps.parseExtensionString(c),g=[new de((s[0]+s[1])/2,n),new de(l,n)],m=new He(c,null,0,g,fe.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(n,i,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=i[1],f=0;for(let m=0;m<5&&c<l;m++){let A=lt.decodeDigit(n,o,c,lt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+A%10);for(let v of o)c+=v;A>=10&&(f|=1<<4-m),m!==4&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(s.length!==5)throw new X;let g=this.determineCheckDigit(f);if(ps.extensionChecksum(s.toString())!==g)throw new X;return c}static extensionChecksum(n){let i=n.length,s=0;for(let o=i-2;o>=0;o-=2)s+=n.charAt(o).charCodeAt(0)-48;s*=3;for(let o=i-1;o>=0;o-=2)s+=n.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new X}static parseExtensionString(n){if(n.length!==5)return null;let i=ps.parseExtension5String(n);return i==null?null:new Map([[vt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(n.substring(1)),o=(s/100).toString(),l=s%100,c=l<10?"0"+l:l.toString();return i+o+"."+c}}class xl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,o),c=o.toString(),f=xl.parseExtensionString(c),g=[new de((s[0]+s[1])/2,n),new de(l,n)],m=new He(c,null,0,g,fe.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(n,i,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=i[1],f=0;for(let g=0;g<2&&c<l;g++){let m=lt.decodeDigit(n,o,c,lt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+m%10);for(let A of o)c+=A;m>=10&&(f|=1<<1-g),g!==1&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(s.length!==2)throw new X;if(parseInt(s.toString())%4!==f)throw new X;return c}static parseExtensionString(n){return n.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(n)]])}}class _d{static decodeRow(n,i,s){let o=lt.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ps().decodeRow(n,i,o)}catch{return new xl().decodeRow(n,i,o)}}}_d.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Pe extends lt{constructor(){super(),this.decodeRowStringBuffer="",Pe.L_AND_G_PATTERNS=Pe.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Pe.L_PATTERNS[n-10],s=new Int32Array(i.length);for(let o=0;o<i.length;o++)s[o]=i[i.length-o-1];Pe.L_AND_G_PATTERNS[n]=s}}decodeRow(n,i,s){let o=Pe.findStartGuardPattern(i),l=s==null?null:s.get(j.NEED_RESULT_POINT_CALLBACK);if(l!=null){const J=new de((o[0]+o[1])/2,n);l.foundPossibleResultPoint(J)}let c=this.decodeMiddle(i,o,this.decodeRowStringBuffer),f=c.rowOffset,g=c.resultString;if(l!=null){const J=new de(f,n);l.foundPossibleResultPoint(J)}let m=this.decodeEnd(i,f);if(l!=null){const J=new de((m[0]+m[1])/2,n);l.foundPossibleResultPoint(J)}let A=m[1],v=A+(A-m[0]);if(v>=i.getSize()||!i.isRange(A,v,!1))throw new X;let N=g.toString();if(N.length<8)throw new U;if(!Pe.checkChecksum(N))throw new L;let k=(o[1]+o[0])/2,P=(m[1]+m[0])/2,F=this.getBarcodeFormat(),z=[new de(k,n),new de(P,n)],G=new He(N,null,0,z,F,new Date().getTime()),te=0;try{let J=_d.decodeRow(n,i,m[1]);G.putMetadata(vt.UPC_EAN_EXTENSION,J.getText()),G.putAllMetadata(J.getResultMetadata()),G.addResultPoints(J.getResultPoints()),te=J.getText().length}catch{}let ne=s==null?null:s.get(j.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let J=!1;for(let be in ne)if(te.toString()===be){J=!0;break}if(!J)throw new X}return G}decodeEnd(n,i){return Pe.findGuardPattern(n,i,!1,Pe.START_END_PATTERN,new Int32Array(Pe.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Pe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return Pe.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let o=i-1;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}s*=3;for(let o=i-2;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}return(1e3-s)%10}}class Kr extends Pe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=i[1],f=0;for(let m=0;m<6&&c<l;m++){let A=Pe.decodeDigit(n,o,c,Pe.L_AND_G_PATTERNS);s+=String.fromCharCode(48+A%10);for(let v of o)c+=v;A>=10&&(f|=1<<5-m)}s=Kr.determineFirstDigit(s,f),c=Pe.findGuardPattern(n,c,!0,Pe.MIDDLE_PATTERN,new Int32Array(Pe.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&c<l;m++){let A=Pe.decodeDigit(n,o,c,Pe.L_PATTERNS);s+=String.fromCharCode(48+A);for(let v of o)c+=v}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(n,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode(48+s)+n,n;throw new X}}Kr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Rd extends Pe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=i[1];for(let g=0;g<4&&c<l;g++){let m=Pe.decodeDigit(n,o,c,Pe.L_PATTERNS);s+=String.fromCharCode(48+m);for(let A of o)c+=A}c=Pe.findGuardPattern(n,c,!0,Pe.MIDDLE_PATTERN,new Int32Array(Pe.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&c<l;g++){let m=Pe.decodeDigit(n,o,c,Pe.L_PATTERNS);s+=String.fromCharCode(48+m);for(let A of o)c+=A}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return fe.EAN_8}}class bd extends Pe{constructor(){super(...arguments),this.ean13Reader=new Kr}getBarcodeFormat(){return fe.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,s))}decodeMiddle(n,i,s){return this.ean13Reader.decodeMiddle(n,i,s)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let s=new He(i.substring(1),null,null,n.getResultPoints(),fe.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new X}reset(){this.ean13Reader.reset()}}class bn extends Pe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,s){const o=this.decodeMiddleCounters.map(m=>m);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=n.getSize();let c=i[1],f=0;for(let m=0;m<6&&c<l;m++){const A=bn.decodeDigit(n,o,c,bn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+A%10);for(let v of o)c+=v;A>=10&&(f|=1<<5-m)}let g=bn.determineNumSysAndCheckDigit(s,f);return{rowOffset:c,resultString:g}}decodeEnd(n,i){return bn.findGuardPatternWithoutCounters(n,i,!0,bn.MIDDLE_END_PATTERN)}checkChecksum(n){return Pe.checkChecksum(bn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode(48+s),c=String.fromCharCode(48+o);return l+n+c}throw X.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Ee;s.append(n.charAt(0));let o=i[5];switch(o){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(o),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(o);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class wl extends xt{constructor(n){super();let i=n==null?null:n.get(j.POSSIBLE_FORMATS),s=[];a(i)?(s.push(new Kr),s.push(new bd),s.push(new Rd),s.push(new bn)):(i.indexOf(fe.EAN_13)>-1&&s.push(new Kr),i.indexOf(fe.UPC_A)>-1&&s.push(new bd),i.indexOf(fe.EAN_8)>-1&&s.push(new Rd),i.indexOf(fe.UPC_E)>-1&&s.push(new bn)),this.readers=s}decodeRow(n,i,s){for(let o of this.readers)try{const l=o.decodeRow(n,i,s),c=l.getBarcodeFormat()===fe.EAN_13&&l.getText().charAt(0)==="0",f=s==null?null:s.get(j.POSSIBLE_FORMATS),g=f==null||f.includes(fe.UPC_A);if(c&&g){const m=l.getRawBytes(),A=new He(l.getText().substring(1),m,m?m.length:null,l.getResultPoints(),fe.UPC_A);return A.putAllMetadata(l.getResultMetadata()),A}return l}catch{}throw new X}reset(){for(let n of this.readers)n.reset()}}class Pt extends xt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let s=0;s<i.length;s++)if(xt.patternMatchVariance(n,i[s],Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return s;throw new X}static count(n){return Oe.sum(new Int32Array(n))}static increment(n,i){let s=0,o=i[0];for(let l=1;l<n.length;l++)i[l]>o&&(o=i[l],s=l);n[s]++}static decrement(n,i){let s=0,o=i[0];for(let l=1;l<n.length;l++)i[l]<o&&(o=i[l],s=l);n[s]--}static isFinderPattern(n){let i=n[0]+n[1],s=i+n[2]+n[3],o=i/s;if(o>=Pt.MIN_FINDER_PATTERN_RATIO&&o<=Pt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of n)f>c&&(c=f),f<l&&(l=f);return c<10*l}return!1}}Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ei))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ra{constructor(n,i,s,o,l){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new de(s,l)),this.resultPoints.push(new de(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Ra))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class Vn{constructor(){}static getRSSvalue(n,i,s){let o=0;for(let g of n)o+=g;let l=0,c=0,f=n.length;for(let g=0;g<f-1;g++){let m;for(m=1,c|=1<<g;m<n[g];m++,c&=~(1<<g)){let A=Vn.combins(o-m-1,f-g-2);if(s&&c===0&&o-m-(f-g-1)>=f-g-1&&(A-=Vn.combins(o-m-(f-g),f-g-2)),f-g-1>1){let v=0;for(let N=o-m-(f-g-2);N>i;N--)v+=Vn.combins(o-m-N-1,f-g-3);A-=v*(f-1-g)}else o-m>i&&A--;l+=A}o-=m}return l}static combins(n,i){let s,o;n-i>i?(o=i,s=n-i):(o=n-i,s=i);let l=1,c=1;for(let f=n;f>s;f--)l*=f,c<=o&&(l/=c,c++);for(;c<=o;)l/=c,c++;return l}}class tp{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let s=12*i,o=new B(s),l=0,f=n[0].getRightChar().getValue();for(let g=11;g>=0;--g)f&1<<g&&o.set(l),l++;for(let g=1;g<n.length;++g){let m=n[g],A=m.getLeftChar().getValue();for(let v=11;v>=0;--v)A&1<<v&&o.set(l),l++;if(m.getRightChar()!=null){let v=m.getRightChar().getValue();for(let N=11;N>=0;--N)v&1<<N&&o.set(l),l++}}return o}}class Zr{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class yl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Zt extends yl{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Zt.FNC1}}Zt.FNC1="$";class qr extends yl{constructor(n,i,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class yn extends yl{constructor(n,i,s){if(super(n),i<0||i>10||s<0||s>10)throw new U;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===yn.FNC1}isSecondDigitFNC1(){return this.secondDigit===yn.FNC1}isAnyFNC1(){return this.firstDigit===yn.FNC1||this.secondDigit===yn.FNC1}}yn.FNC1=10;class oe{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new X;let i=n.substring(0,2);for(let l of oe.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(2,l[2],n):oe.processFixedAI(2,l[1],n);if(n.length<3)throw new X;let s=n.substring(0,3);for(let l of oe.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(3,l[2],n):oe.processFixedAI(3,l[1],n);for(let l of oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,l[2],n):oe.processFixedAI(4,l[1],n);if(n.length<4)throw new X;let o=n.substring(0,4);for(let l of oe.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,l[2],n):oe.processFixedAI(4,l[1],n);throw new X}static processFixedAI(n,i,s){if(s.length<n)throw new X;let o=s.substring(0,n);if(s.length<n+i)throw new X;let l=s.substring(n,n+i),c=s.substring(n+i),f="("+o+")"+l,g=oe.parseFieldsInGeneralPurpose(c);return g==null?f:f+g}static processVariableAI(n,i,s){let o=s.substring(0,n),l;s.length<n+i?l=s.length:l=n+i;let c=s.substring(n,l),f=s.substring(l),g="("+o+")"+c,m=oe.parseFieldsInGeneralPurpose(f);return m==null?g:g+m}}oe.VARIABLE_LENGTH=[],oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",oe.VARIABLE_LENGTH,20],["22",oe.VARIABLE_LENGTH,29],["30",oe.VARIABLE_LENGTH,8],["37",oe.VARIABLE_LENGTH,8],["90",oe.VARIABLE_LENGTH,30],["91",oe.VARIABLE_LENGTH,30],["92",oe.VARIABLE_LENGTH,30],["93",oe.VARIABLE_LENGTH,30],["94",oe.VARIABLE_LENGTH,30],["95",oe.VARIABLE_LENGTH,30],["96",oe.VARIABLE_LENGTH,30],["97",oe.VARIABLE_LENGTH,3],["98",oe.VARIABLE_LENGTH,30],["99",oe.VARIABLE_LENGTH,30]],oe.THREE_DIGIT_DATA_LENGTH=[["240",oe.VARIABLE_LENGTH,30],["241",oe.VARIABLE_LENGTH,30],["242",oe.VARIABLE_LENGTH,6],["250",oe.VARIABLE_LENGTH,30],["251",oe.VARIABLE_LENGTH,30],["253",oe.VARIABLE_LENGTH,17],["254",oe.VARIABLE_LENGTH,20],["400",oe.VARIABLE_LENGTH,30],["401",oe.VARIABLE_LENGTH,30],["402",17],["403",oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",oe.VARIABLE_LENGTH,20],["421",oe.VARIABLE_LENGTH,15],["422",3],["423",oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",oe.VARIABLE_LENGTH,15],["391",oe.VARIABLE_LENGTH,18],["392",oe.VARIABLE_LENGTH,15],["393",oe.VARIABLE_LENGTH,18],["703",oe.VARIABLE_LENGTH,30]],oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",oe.VARIABLE_LENGTH,20],["8003",oe.VARIABLE_LENGTH,30],["8004",oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",oe.VARIABLE_LENGTH,30],["8008",oe.VARIABLE_LENGTH,12],["8018",18],["8020",oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",oe.VARIABLE_LENGTH,70],["8200",oe.VARIABLE_LENGTH,70]];class Ci{constructor(n){this.buffer=new Ee,this.information=n}decodeAllCodes(n,i){let s=i,o=null;do{let l=this.decodeGeneralPurposeField(s,o),c=oe.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&n.append(c),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new yn(this.information.getSize(),yn.FNC1,yn.FNC1):new yn(this.information.getSize(),l-1,yn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),s=(i-8)/11,o=(i-8)%11;return new yn(n+7,s,o)}extractNumericValueFromBitArray(n,i){return Ci.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,s){let o=0;for(let l=0;l<s;++l)n.get(i+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new qr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new qr(this.current.getPosition(),this.buffer.toString()):i=new qr(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Zr(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zr(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,8);return o>=232&&o<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Zt(n+5,Zt.FNC1);if(i>=5&&i<15)return new Zt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new Zt(n+7,""+(s+1));if(s>=90&&s<116)return new Zt(n+7,""+(s+7));let o=this.extractNumericValueFromBitArray(n,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new U}return new Zt(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Zt(n+5,Zt.FNC1);if(i>=5&&i<15)return new Zt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new Zt(n+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Hn("Decoding invalid alphanumeric value: "+s)}return new Zt(n+6,o)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class El{constructor(n){this.information=n,this.generalDecoder=new Ci(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qt extends El{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,s)}encodeCompressedGtinWithoutAI(n,i,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*o,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}qt.appendCheckDigit(n,s)}static appendCheckDigit(n,i){let s=0;for(let o=0;o<13;o++){let l=n.charAt(o+i).charCodeAt(0)-48;s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),n.append(s)}}qt.GTIN_SIZE=40;class Ai extends qt{constructor(n){super(n)}parseInformation(){let n=new Ee;n.append("(01)");let i=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,Ai.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Ai.HEADER_SIZE+44)}}Ai.HEADER_SIZE=4;class ba extends El{constructor(n){super(n)}parseInformation(){let n=new Ee;return this.getGeneralDecoder().decodeAllCodes(n,ba.HEADER_SIZE)}}ba.HEADER_SIZE=5;class Ma extends qt{constructor(n){super(n)}encodeCompressedWeight(n,i,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(n,o);let l=this.checkWeight(o),c=1e5;for(let f=0;f<5;++f)l/c===0&&n.append("0"),c/=10;n.append(l)}}class Wn extends Ma{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Wn.HEADER_SIZE+Ma.GTIN_SIZE+Wn.WEIGHT_SIZE)throw new X;let n=new Ee;return this.encodeCompressedGtin(n,Wn.HEADER_SIZE),this.encodeCompressedWeight(n,Wn.HEADER_SIZE+Ma.GTIN_SIZE,Wn.WEIGHT_SIZE),n.toString()}}Wn.HEADER_SIZE=5,Wn.WEIGHT_SIZE=15;class np extends Wn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class rp extends Wn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Gn extends qt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Gn.HEADER_SIZE+qt.GTIN_SIZE)throw new X;let n=new Ee;this.encodeCompressedGtin(n,Gn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Gn.HEADER_SIZE+qt.GTIN_SIZE,Gn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Gn.HEADER_SIZE+qt.GTIN_SIZE+Gn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}Gn.HEADER_SIZE=8,Gn.LAST_DIGIT_SIZE=2;class Wt extends qt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Wt.HEADER_SIZE+qt.GTIN_SIZE)throw new X;let n=new Ee;this.encodeCompressedGtin(n,Wt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Wt.HEADER_SIZE+qt.GTIN_SIZE,Wt.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Wt.HEADER_SIZE+qt.GTIN_SIZE+Wt.LAST_DIGIT_SIZE,Wt.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Wt.HEADER_SIZE+qt.GTIN_SIZE+Wt.LAST_DIGIT_SIZE+Wt.FIRST_THREE_DIGITS_SIZE,null);return n.append(o.getNewString()),n.toString()}}Wt.HEADER_SIZE=8,Wt.LAST_DIGIT_SIZE=2,Wt.FIRST_THREE_DIGITS_SIZE=10;class $e extends Ma{constructor(n,i,s){super(n),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=$e.HEADER_SIZE+$e.GTIN_SIZE+$e.WEIGHT_SIZE+$e.DATE_SIZE)throw new X;let n=new Ee;return this.encodeCompressedGtin(n,$e.HEADER_SIZE),this.encodeCompressedWeight(n,$e.HEADER_SIZE+$e.GTIN_SIZE,$e.WEIGHT_SIZE),this.encodeCompressedDate(n,$e.HEADER_SIZE+$e.GTIN_SIZE+$e.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,$e.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let c=s;c/10==0&&n.append("0"),n.append(c),l/10==0&&n.append("0"),n.append(l),o/10==0&&n.append("0"),n.append(o)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}$e.HEADER_SIZE=8,$e.WEIGHT_SIZE=20,$e.DATE_SIZE=16;function Md(S){try{if(S.get(1))return new Ai(S);if(!S.get(2))return new ba(S);switch(Ci.extractNumericValueFromBitArray(S,1,4)){case 4:return new np(S);case 5:return new rp(S)}switch(Ci.extractNumericValueFromBitArray(S,1,5)){case 12:return new Gn(S);case 13:return new Wt(S)}switch(Ci.extractNumericValueFromBitArray(S,1,7)){case 56:return new $e(S,"310","11");case 57:return new $e(S,"320","11");case 58:return new $e(S,"310","13");case 59:return new $e(S,"320","13");case 60:return new $e(S,"310","15");case 61:return new $e(S,"320","15");case 62:return new $e(S,"310","17");case 63:return new $e(S,"320","17")}}catch(n){throw console.log(n),new Hn("unknown decoder: "+S)}}class mr{constructor(n,i,s,o){this.leftchar=n,this.rightchar=i,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof mr?mr.equalsOrNull(n.leftchar,i.leftchar)&&mr.equalsOrNull(n.rightchar,i.rightchar)&&mr.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:mr.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cl{constructor(n,i,s){this.pairs=n,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Cl?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let s;return n.forEach((o,l)=>{i.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(s=!0)})}),s}}class q extends Pt{constructor(n){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,s){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(n,i))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(l){if(l instanceof X){if(!this.pairs.length)throw new X;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(n,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new X}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let s=i;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let c of n)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(o);try{return this.checkRows(l,s+1)}catch(c){this.verbose&&console.log(c)}}throw new X}static isValidSequence(n){for(let i of q.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let s=!0;for(let o=0;o<n.length;o++)if(n[o].getFinderPattern().getValue()!=i[o]){s=!1;break}if(s)return!0}return!1}storeRow(n,i){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let c=this.rows[s];if(c.getRowNumber()>n){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),s++}l||o||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Cl(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let s of i)if(s.getPairs().length!==n.length){for(let o of s.getPairs())for(let l of n)if(mr.equals(o,l))break}}static isPartialRow(n,i){for(let s of i){let o=!0;for(let l of n){let c=!1;for(let f of s.getPairs())if(l.equals(f)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=tp.buildBitArray(n),o=Md(i).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),c=n[n.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],c[0],c[1]];return new He(o,null,null,f,fe.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let g=this.pairs.get(f);o+=g.getLeftChar().getChecksumPortion(),l++;let m=g.getRightChar();m!=null&&(o+=m.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==i.getValue()}static getNextSecondBar(n,i){let s;return n.get(i)?(s=n.getNextUnset(i),s=n.getNextSet(s)):(s=n.getNextSet(i),s=n.getNextUnset(s)),s}retrieveNextPair(n,i,s){let o=i.length%2==0;this.startFromEven&&(o=!o);let l,c=!0,f=-1;do this.findNextPair(n,i,f),l=this.parseFoundFinderPattern(n,s,o),l==null?f=q.getNextSecondBar(n,this.startEnd[0]):c=!1;while(c);let g=this.decodeDataCharacter(n,l,o,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new X;let m;try{m=this.decodeDataCharacter(n,l,o,!1)}catch(A){m=null,this.verbose&&console.log(A)}return new mr(g,m,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c;s>=0?c=s:this.isEmptyPair(i)?c=0:c=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let g=!1;for(;c<l&&(g=!n.get(c),!!g);)c++;let m=0,A=c;for(let v=c;v<l;v++)if(n.get(v)!=g)o[m]++;else{if(m==3){if(f&&q.reverseCounters(o),q.isFinderPattern(o)){this.startEnd[0]=A,this.startEnd[1]=v;return}f&&q.reverseCounters(o),A+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,m--}else m++;o[m]=1,g=!g}throw new X}static reverseCounters(n){let i=n.length;for(let s=0;s<i/2;++s){let o=n[s];n[s]=n[i-s-1],n[i-s-1]=o}}parseFoundFinderPattern(n,i,s){let o,l,c;if(s){let m=this.startEnd[0]-1;for(;m>=0&&!n.get(m);)m--;m++,o=this.startEnd[0]-m,l=m,c=this.startEnd[1]}else l=this.startEnd[0],c=n.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let f=this.getDecodeFinderCounters();D.arraycopy(f,0,f,1,f.length-1),f[0]=o;let g;try{g=this.parseFinderValue(f,q.FINDER_PATTERNS)}catch{return null}return new Ra(g,[l,c],l,c,i)}decodeDataCharacter(n,i,s,o){let l=this.getDataCharacterCounters();for(let Ye=0;Ye<l.length;Ye++)l[Ye]=0;if(o)q.recordPatternInReverse(n,i.getStartEnd()[0],l);else{q.recordPattern(n,i.getStartEnd()[1],l);for(let Ye=0,Ot=l.length-1;Ye<Ot;Ye++,Ot--){let un=l[Ye];l[Ye]=l[Ot],l[Ot]=un}}let c=17,f=Oe.sum(new Int32Array(l))/c,g=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-g)/g>.3)throw new X;let m=this.getOddCounts(),A=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Ye=0;Ye<l.length;Ye++){let Ot=1*l[Ye]/f,un=Ot+.5;if(un<1){if(Ot<.3)throw new X;un=1}else if(un>8){if(Ot>8.7)throw new X;un=8}let Ti=Ye/2;Ye&1?(A[Ti]=un,N[Ti]=Ot-un):(m[Ti]=un,v[Ti]=Ot-un)}this.adjustOddEvenCounts(c);let k=4*i.getValue()+(s?0:2)+(o?0:1)-1,P=0,F=0;for(let Ye=m.length-1;Ye>=0;Ye--){if(q.isNotA1left(i,s,o)){let Ot=q.WEIGHTS[k][2*Ye];F+=m[Ye]*Ot}P+=m[Ye]}let z=0;for(let Ye=A.length-1;Ye>=0;Ye--)if(q.isNotA1left(i,s,o)){let Ot=q.WEIGHTS[k][2*Ye+1];z+=A[Ye]*Ot}let G=F+z;if(P&1||P>13||P<4)throw new X;let te=(13-P)/2,ne=q.SYMBOL_WIDEST[te],J=9-ne,be=Vn.getRSSvalue(m,ne,!0),Ae=Vn.getRSSvalue(A,J,!1),$t=q.EVEN_TOTAL_SUBSET[te],Mn=q.GSUM[te],en=be*$t+Ae+Mn;return new Ei(en,G)}static isNotA1left(n,i,s){return!(n.getValue()==0&&i&&s)}adjustOddEvenCounts(n){let i=Oe.sum(new Int32Array(this.getOddCounts())),s=Oe.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;i>13?l=!0:i<4&&(o=!0);let c=!1,f=!1;s>13?f=!0:s<4&&(c=!0);let g=i+s-n,m=(i&1)==1,A=(s&1)==0;if(g==1)if(m){if(A)throw new X;l=!0}else{if(!A)throw new X;f=!0}else if(g==-1)if(m){if(A)throw new X;o=!0}else{if(!A)throw new X;c=!0}else if(g==0){if(m){if(!A)throw new X;i<s?(o=!0,f=!0):(l=!0,c=!0)}else if(A)throw new X}else throw new X;if(o){if(l)throw new X;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new X;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class ip extends Ei{constructor(n,i,s){super(n,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ut extends Pt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,s){const o=this.decodePair(i,!1,n,s);ut.addOrTally(this.possibleLeftPairs,o),i.reverse();let l=this.decodePair(i,!0,n,s);ut.addOrTally(this.possibleRightPairs,l),i.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&ut.checkChecksum(c,f))return ut.constructResult(c,f)}throw new X}static addOrTally(n,i){if(i==null)return;let s=!1;for(let o of n)if(o.getValue()===i.getValue()){o.incrementCount(),s=!0;break}s||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let s=4537077*n.getValue()+i.getValue(),o=new String(s).toString(),l=new Ee;for(let m=13-o.length;m>0;m--)l.append("0");l.append(o);let c=0;for(let m=0;m<13;m++){let A=l.charAt(m).charCodeAt(0)-48;c+=m&1?A:3*A}c=10-c%10,c===10&&(c=0),l.append(c.toString());let f=n.getFinderPattern().getResultPoints(),g=i.getFinderPattern().getResultPoints();return new He(l.toString(),null,0,[f[0],f[1],g[0],g[1]],fe.RSS_14,new Date().getTime())}static checkChecksum(n,i){let s=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,o=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(n,i,s,o){try{let l=this.findFinderPattern(n,i),c=this.parseFoundFinderPattern(n,s,i,l),f=o==null?null:o.get(j.NEED_RESULT_POINT_CALLBACK);if(f!=null){let A=(l[0]+l[1])/2;i&&(A=n.getSize()-1-A),f.foundPossibleResultPoint(new de(A,s))}let g=this.decodeDataCharacter(n,c,!0),m=this.decodeDataCharacter(n,c,!1);return new ip(1597*g.getValue()+m.getValue(),g.getChecksumPortion()+4*m.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(n,i,s){let o=this.getDataCharacterCounters();for(let z=0;z<o.length;z++)o[z]=0;if(s)xt.recordPatternInReverse(n,i.getStartEnd()[0],o);else{xt.recordPattern(n,i.getStartEnd()[1]+1,o);for(let z=0,G=o.length-1;z<G;z++,G--){let te=o[z];o[z]=o[G],o[G]=te}}let l=s?16:15,c=Oe.sum(new Int32Array(o))/l,f=this.getOddCounts(),g=this.getEvenCounts(),m=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let z=0;z<o.length;z++){let G=o[z]/c,te=Math.floor(G+.5);te<1?te=1:te>8&&(te=8);let ne=Math.floor(z/2);z&1?(g[ne]=te,A[ne]=G-te):(f[ne]=te,m[ne]=G-te)}this.adjustOddEvenCounts(s,l);let v=0,N=0;for(let z=f.length-1;z>=0;z--)N*=9,N+=f[z],v+=f[z];let k=0,P=0;for(let z=g.length-1;z>=0;z--)k*=9,k+=g[z],P+=g[z];let F=N+3*k;if(s){if(v&1||v>12||v<4)throw new X;let z=(12-v)/2,G=ut.OUTSIDE_ODD_WIDEST[z],te=9-G,ne=Vn.getRSSvalue(f,G,!1),J=Vn.getRSSvalue(g,te,!0),be=ut.OUTSIDE_EVEN_TOTAL_SUBSET[z],Ae=ut.OUTSIDE_GSUM[z];return new Ei(ne*be+J+Ae,F)}else{if(P&1||P>10||P<4)throw new X;let z=(10-P)/2,G=ut.INSIDE_ODD_WIDEST[z],te=9-G,ne=Vn.getRSSvalue(f,G,!0),J=Vn.getRSSvalue(g,te,!1),be=ut.INSIDE_ODD_TOTAL_SUBSET[z],Ae=ut.INSIDE_GSUM[z];return new Ei(J*be+ne+Ae,F)}}findFinderPattern(n,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=n.getSize(),l=!1,c=0;for(;c<o&&(l=!n.get(c),i!==l);)c++;let f=0,g=c;for(let m=c;m<o;m++)if(n.get(m)!==l)s[f]++;else{if(f===3){if(Pt.isFinderPattern(s))return[g,m];g+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,l=!l}throw new X}parseFoundFinderPattern(n,i,s,o){let l=n.get(o[0]),c=o[0]-1;for(;c>=0&&l!==n.get(c);)c--;c++;const f=o[0]-c,g=this.getDecodeFinderCounters(),m=new Int32Array(g.length);D.arraycopy(g,0,m,1,g.length-1),m[0]=f;const A=this.parseFinderValue(m,ut.FINDER_PATTERNS);let v=c,N=o[1];return s&&(v=n.getSize()-1-v,N=n.getSize()-1-N),new Ra(A,[c,o[1]],v,N,i)}adjustOddEvenCounts(n,i){let s=Oe.sum(new Int32Array(this.getOddCounts())),o=Oe.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,f=!1,g=!1;n?(s>12?c=!0:s<4&&(l=!0),o>12?g=!0:o<4&&(f=!0)):(s>11?c=!0:s<5&&(l=!0),o>10?g=!0:o<4&&(f=!0));let m=s+o-i,A=(s&1)===(n?1:0),v=(o&1)===1;if(m===1)if(A){if(v)throw new X;c=!0}else{if(!v)throw new X;g=!0}else if(m===-1)if(A){if(v)throw new X;l=!0}else{if(!v)throw new X;f=!0}else if(m===0){if(A){if(!v)throw new X;s<o?(l=!0,g=!0):(c=!0,f=!0)}else if(v)throw new X}else throw new X;if(l){if(c)throw new X;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new X;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ut.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ut.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ut.OUTSIDE_GSUM=[0,161,961,2015,2715],ut.INSIDE_GSUM=[0,336,1036,1516],ut.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ut.INSIDE_ODD_WIDEST=[2,4,6,8],ut.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Si extends xt{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const s=n?n.get(j.POSSIBLE_FORMATS):null,o=n&&n.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(fe.EAN_13)||s.includes(fe.UPC_A)||s.includes(fe.EAN_8)||s.includes(fe.UPC_E))&&this.readers.push(new wl(n)),s.includes(fe.CODE_39)&&this.readers.push(new yt(o)),s.includes(fe.CODE_128)&&this.readers.push(new re),s.includes(fe.ITF)&&this.readers.push(new We),s.includes(fe.RSS_14)&&this.readers.push(new ut),s.includes(fe.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new wl(n)),this.readers.push(new yt),this.readers.push(new wl(n)),this.readers.push(new re),this.readers.push(new We),this.readers.push(new ut),this.readers.push(new q(this.verbose)))}decodeRow(n,i,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(n,i,s)}catch{}throw new X}reset(){this.readers.forEach(n=>n.reset())}}class sp extends ot{constructor(n=500,i){super(new Si(i),n,i)}}class Fe{constructor(n,i,s){this.ecCodewords=n,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Be{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(n,i,s,o,l,c){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=c;let f=0;const g=c.getECCodewords(),m=c.getECBlocks();for(let A of m)f+=A.getCount()*(A.getDataCodewords()+g);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new U;for(let s of Me.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===i)return s;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new Me(1,10,10,8,8,new Fe(5,new Be(1,3))),new Me(2,12,12,10,10,new Fe(7,new Be(1,5))),new Me(3,14,14,12,12,new Fe(10,new Be(1,8))),new Me(4,16,16,14,14,new Fe(12,new Be(1,12))),new Me(5,18,18,16,16,new Fe(14,new Be(1,18))),new Me(6,20,20,18,18,new Fe(18,new Be(1,22))),new Me(7,22,22,20,20,new Fe(20,new Be(1,30))),new Me(8,24,24,22,22,new Fe(24,new Be(1,36))),new Me(9,26,26,24,24,new Fe(28,new Be(1,44))),new Me(10,32,32,14,14,new Fe(36,new Be(1,62))),new Me(11,36,36,16,16,new Fe(42,new Be(1,86))),new Me(12,40,40,18,18,new Fe(48,new Be(1,114))),new Me(13,44,44,20,20,new Fe(56,new Be(1,144))),new Me(14,48,48,22,22,new Fe(68,new Be(1,174))),new Me(15,52,52,24,24,new Fe(42,new Be(2,102))),new Me(16,64,64,14,14,new Fe(56,new Be(2,140))),new Me(17,72,72,16,16,new Fe(36,new Be(4,92))),new Me(18,80,80,18,18,new Fe(48,new Be(4,114))),new Me(19,88,88,20,20,new Fe(56,new Be(4,144))),new Me(20,96,96,22,22,new Fe(68,new Be(4,174))),new Me(21,104,104,24,24,new Fe(56,new Be(6,136))),new Me(22,120,120,18,18,new Fe(68,new Be(6,175))),new Me(23,132,132,20,20,new Fe(62,new Be(8,163))),new Me(24,144,144,22,22,new Fe(62,new Be(8,156),new Be(2,155))),new Me(25,8,18,6,16,new Fe(7,new Be(1,5))),new Me(26,8,32,6,14,new Fe(11,new Be(1,10))),new Me(27,12,26,10,24,new Fe(14,new Be(1,16))),new Me(28,12,36,10,16,new Fe(18,new Be(1,22))),new Me(29,16,36,14,16,new Fe(24,new Be(1,32))),new Me(30,16,48,14,22,new Fe(28,new Be(1,49)))]}}Me.VERSIONS=Me.buildVersions();class Al{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new U;this.version=Al.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),s=n.getWidth();return Me.getVersionForDimensions(i,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,g=!1,m=!1,A=!1;do if(s===l&&o===0&&!f)n[i++]=this.readCorner1(l,c)&255,s-=2,o+=2,f=!0;else if(s===l-2&&o===0&&c&3&&!g)n[i++]=this.readCorner2(l,c)&255,s-=2,o+=2,g=!0;else if(s===l+4&&o===2&&!(c&7)&&!m)n[i++]=this.readCorner3(l,c)&255,s-=2,o+=2,m=!0;else if(s===l-2&&o===0&&(c&7)===4&&!A)n[i++]=this.readCorner4(l,c)&255,s-=2,o+=2,A=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(n[i++]=this.readUtah(s,o,l,c)&255),s-=2,o+=2;while(s>=0&&o<c);s+=1,o+=3;do s>=0&&o<c&&!this.readMappingMatrix.get(o,s)&&(n[i++]=this.readUtah(s,o,l,c)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<c);if(i!==this.version.getTotalCodewords())throw new U;return n}readModule(n,i,s,o){return n<0&&(n+=s,i+=4-(s+4&7)),i<0&&(i+=o,n+=4-(o+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,s,o){let l=0;return this.readModule(n-2,i-2,s,o)&&(l|=1),l<<=1,this.readModule(n-2,i-1,s,o)&&(l|=1),l<<=1,this.readModule(n-1,i-2,s,o)&&(l|=1),l<<=1,this.readModule(n-1,i-1,s,o)&&(l|=1),l<<=1,this.readModule(n-1,i,s,o)&&(l|=1),l<<=1,this.readModule(n,i-2,s,o)&&(l|=1),l<<=1,this.readModule(n,i-1,s,o)&&(l|=1),l<<=1,this.readModule(n,i,s,o)&&(l|=1),l}readCorner1(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,1,n,i)&&(s|=1),s<<=1,this.readModule(n-1,2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}readCorner2(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-4,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner3(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-3,n,i)&&(s|=1),s<<=1,this.readModule(1,i-2,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner4(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new C("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=i/o|0,f=s/l|0,g=c*o,m=f*l,A=new _e(m,g);for(let v=0;v<c;++v){const N=v*o;for(let k=0;k<f;++k){const P=k*l;for(let F=0;F<o;++F){const z=v*(o+2)+1+F,G=N+F;for(let te=0;te<l;++te){const ne=k*(l+2)+1+te;if(n.get(ne,z)){const J=P+te;A.set(J,G)}}}}}return A}}class Sl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const s=i.getECBlocks();let o=0;const l=s.getECBlocks();for(let F of l)o+=F.getCount();const c=new Array(o);let f=0;for(let F of l)for(let z=0;z<F.getCount();z++){const G=F.getDataCodewords(),te=s.getECCodewords()+G;c[f++]=new Sl(G,new Uint8Array(te))}const m=c[0].codewords.length-s.getECCodewords(),A=m-1;let v=0;for(let F=0;F<A;F++)for(let z=0;z<f;z++)c[z].codewords[F]=n[v++];const N=i.getVersionNumber()===24,k=N?8:f;for(let F=0;F<k;F++)c[F].codewords[m-1]=n[v++];const P=c[0].codewords.length;for(let F=m;F<P;F++)for(let z=0;z<f;z++){const G=N?(z+8)%f:z,te=N&&G>7?F-1:F;c[G].codewords[te]=n[v++]}if(v!==n.length)throw new C;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class vl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new C(""+n);let i=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const c=8-s,f=n<c?n:c,g=c-f,m=255>>8-f<<g;i=(l[o]&m)>>g,n-=f,s+=f,s===8&&(s=0,o++)}if(n>0){for(;n>=8;)i=i<<8|l[o]&255,o++,n-=8;if(n>0){const c=8-n,f=255>>c<<c;i=i<<n|(l[o]&f)>>c,s+=n}}return this.bitOffset=s,this.byteOffset=o,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class xr{static decode(n){const i=new vl(n),s=new Ee,o=new Ee,l=new Array;let c=Et.ASCII_ENCODE;do if(c===Et.ASCII_ENCODE)c=this.decodeAsciiSegment(i,s,o);else{switch(c){case Et.C40_ENCODE:this.decodeC40Segment(i,s);break;case Et.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(i,s,l);break;default:throw new U}c=Et.ASCII_ENCODE}while(c!==Et.PAD_ENCODE&&i.available()>0);return o.length()>0&&s.append(o.toString()),new fs(n,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,i,s){let o=!1;do{let l=n.readBits(8);if(l===0)throw new U;if(l<=128)return o&&(l+=128),i.append(String.fromCharCode(l-1)),Et.ASCII_ENCODE;if(l===129)return Et.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&i.append("0"),i.append(""+c)}else switch(l){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new U;break}}while(n.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(n,i){let s=!1;const o=[];let l=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),o);for(let f=0;f<3;f++){const g=o[f];switch(l){case 0:if(g<3)l=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else throw new U;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new U}l=0;break;case 3:s?(i.append(String.fromCharCode(g+224)),s=!1):i.append(String.fromCharCode(g+96)),l=0;break;default:throw new U}}}while(n.available()>0)}static decodeTextSegment(n,i){let s=!1,o=[],l=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),o);for(let f=0;f<3;f++){const g=o[f];switch(l){case 0:if(g<3)l=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else throw new U;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new U}l=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m),l=0}else throw new U;break;default:throw new U}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const s=[];do{if(n.available()===8)return;const o=n.readBits(8);if(o===254)return;this.parseTwoBytes(o,n.readBits(8),s);for(let l=0;l<3;l++){const c=s[l];switch(c){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(c<14)i.append(String.fromCharCode(c+44));else if(c<40)i.append(String.fromCharCode(c+51));else throw new U;break}}}while(n.available()>0)}static parseTwoBytes(n,i,s){let o=(n<<8)+i-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let o=n.readBits(6);if(o===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}o&32||(o|=64),i.append(String.fromCharCode(o))}}while(n.available()>0)}static decodeBase256Segment(n,i,s){let o=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),o++);let c;if(l===0?c=n.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(n.readBits(8),o++),c<0)throw new U;const f=new Uint8Array(c);for(let g=0;g<c;g++){if(n.available()<8)throw new U;f[g]=this.unrandomize255State(n.readBits(8),o++)}s.push(f);try{i.append(Ne.decode(f,ce.ISO88591))}catch(g){throw new Hn("Platform does not support required encoding: "+g.message)}}static unrandomize255State(n,i){const s=149*i%255+1,o=n-s;return o>=0?o:o+256}}xr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],xr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],xr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],xr.TEXT_SHIFT2_SET_CHARS=xr.C40_SHIFT2_SET_CHARS,xr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ap{constructor(){this.rsDecoder=new gs(Le.DATA_MATRIX_FIELD_256)}decode(n){const i=new Al(n),s=i.getVersion(),o=i.readCodewords(),l=Sl.getDataBlocks(o,s);let c=0;for(let m of l)c+=m.getNumDataCodewords();const f=new Uint8Array(c),g=l.length;for(let m=0;m<g;m++){const A=l[m],v=A.getCodewords(),N=A.getNumDataCodewords();this.correctErrors(v,N);for(let k=0;k<N;k++)f[k*g+m]=v[k]}return xr.decode(f)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new L}for(let o=0;o<i;o++)n[o]=s[o]}}class ht{constructor(n){this.image=n,this.rectangleDetector=new nr(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new X;i=this.shiftToModuleCenter(i);const s=i[0],o=i[1],l=i[2],c=i[3];let f=this.transitionsBetween(s,c)+1,g=this.transitionsBetween(l,c)+1;(f&1)===1&&(f+=1),(g&1)===1&&(g+=1),4*f<7*g&&4*g<7*f&&(f=g=Math.max(f,g));let m=ht.sampleGrid(this.image,s,o,l,c,f,g);return new Ta(m,[s,o,l,c])}static shiftPoint(n,i,s){let o=(i.getX()-n.getX())/(s+1),l=(i.getY()-n.getY())/(s+1);return new de(n.getX()+o,n.getY()+l)}static moveAway(n,i,s){let o=n.getX(),l=n.getY();return o<i?o-=1:o+=1,l<s?l-=1:l+=1,new de(o,l)}detectSolid1(n){let i=n[0],s=n[1],o=n[3],l=n[2],c=this.transitionsBetween(i,s),f=this.transitionsBetween(s,o),g=this.transitionsBetween(o,l),m=this.transitionsBetween(l,i),A=c,v=[l,i,s,o];return A>f&&(A=f,v[0]=i,v[1]=s,v[2]=o,v[3]=l),A>g&&(A=g,v[0]=s,v[1]=o,v[2]=l,v[3]=i),A>m&&(v[0]=o,v[1]=l,v[2]=i,v[3]=s),v}detectSolid2(n){let i=n[0],s=n[1],o=n[2],l=n[3],c=this.transitionsBetween(i,l),f=ht.shiftPoint(s,o,(c+1)*4),g=ht.shiftPoint(o,s,(c+1)*4),m=this.transitionsBetween(f,i),A=this.transitionsBetween(g,l);return m<A?(n[0]=i,n[1]=s,n[2]=o,n[3]=l):(n[0]=s,n[1]=o,n[2]=l,n[3]=i),n}correctTopRight(n){let i=n[0],s=n[1],o=n[2],l=n[3],c=this.transitionsBetween(i,l),f=this.transitionsBetween(s,l),g=ht.shiftPoint(i,s,(f+1)*4),m=ht.shiftPoint(o,s,(c+1)*4);c=this.transitionsBetween(g,l),f=this.transitionsBetween(m,l);let A=new de(l.getX()+(o.getX()-s.getX())/(c+1),l.getY()+(o.getY()-s.getY())/(c+1)),v=new de(l.getX()+(i.getX()-s.getX())/(f+1),l.getY()+(i.getY()-s.getY())/(f+1));if(!this.isValid(A))return this.isValid(v)?v:null;if(!this.isValid(v))return A;let N=this.transitionsBetween(g,A)+this.transitionsBetween(m,A),k=this.transitionsBetween(g,v)+this.transitionsBetween(m,v);return N>k?A:v}shiftToModuleCenter(n){let i=n[0],s=n[1],o=n[2],l=n[3],c=this.transitionsBetween(i,l)+1,f=this.transitionsBetween(o,l)+1,g=ht.shiftPoint(i,s,f*4),m=ht.shiftPoint(o,s,c*4);c=this.transitionsBetween(g,l)+1,f=this.transitionsBetween(m,l)+1,(c&1)===1&&(c+=1),(f&1)===1&&(f+=1);let A=(i.getX()+s.getX()+o.getX()+l.getX())/4,v=(i.getY()+s.getY()+o.getY()+l.getY())/4;i=ht.moveAway(i,A,v),s=ht.moveAway(s,A,v),o=ht.moveAway(o,A,v),l=ht.moveAway(l,A,v);let N,k;return g=ht.shiftPoint(i,s,f*4),g=ht.shiftPoint(g,l,c*4),N=ht.shiftPoint(s,i,f*4),N=ht.shiftPoint(N,o,c*4),m=ht.shiftPoint(o,l,f*4),m=ht.shiftPoint(m,s,c*4),k=ht.shiftPoint(l,o,f*4),k=ht.shiftPoint(k,i,c*4),[g,N,m,k]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,s,o,l,c,f){return pr.getInstance().sampleGrid(n,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,i.getX(),i.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(n,i){let s=Math.trunc(n.getX()),o=Math.trunc(n.getY()),l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),f=Math.abs(c-o)>Math.abs(l-s);if(f){let F=s;s=o,o=F,F=l,l=c,c=F}let g=Math.abs(l-s),m=Math.abs(c-o),A=-g/2,v=o<c?1:-1,N=s<l?1:-1,k=0,P=this.image.get(f?o:s,f?s:o);for(let F=s,z=o;F!==l;F+=N){let G=this.image.get(f?z:F,f?F:z);if(G!==P&&(k++,P=G),A+=m,A>0){if(z===c)break;z+=v,A-=g}}return k}}class wr{constructor(){this.decoder=new ap}decode(n,i=null){let s,o;if(i!=null&&i.has(j.PURE_BARCODE)){const m=wr.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(m),o=wr.NO_POINTS}else{const m=new ht(n.getBlackMatrix()).detect();s=this.decoder.decode(m.getBits()),o=m.getPoints()}const l=s.getRawBytes(),c=new He(s.getText(),l,8*l.length,o,fe.DATA_MATRIX,D.currentTimeMillis()),f=s.getByteSegments();f!=null&&c.putMetadata(vt.BYTE_SEGMENTS,f);const g=s.getECLevel();return g!=null&&c.putMetadata(vt.ERROR_CORRECTION_LEVEL,g),c}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i==null||s==null)throw new X;const o=this.moduleSize(i,n);let l=i[1];const c=s[1];let f=i[0];const m=(s[0]-f+1)/o,A=(c-l+1)/o;if(m<=0||A<=0)throw new X;const v=o/2;l+=v,f+=v;const N=new _e(m,A);for(let k=0;k<A;k++){const P=l+k*o;for(let F=0;F<m;F++)n.get(f+F*o,P)&&N.set(F,k)}return N}static moduleSize(n,i){const s=i.getWidth();let o=n[0];const l=n[1];for(;o<s&&i.get(o,l);)o++;if(o===s)throw new X;const c=o-n[0];if(c===0)throw new X;return c}}wr.NO_POINTS=[];class op extends ot{constructor(n=500){super(new wr,n)}}var vi;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(vi||(vi={}));class Qe{constructor(n,i,s){this.value=n,this.stringValue=i,this.bits=s,Qe.FOR_BITS.set(s,this),Qe.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Qe.L;case"M":return Qe.M;case"Q":return Qe.Q;case"H":return Qe.H;default:throw new y(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Qe))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=Qe.FOR_BITS.size)throw new C;return Qe.FOR_BITS.get(n)}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.L=new Qe(vi.L,"L",1),Qe.M=new Qe(vi.M,"M",0),Qe.Q=new Qe(vi.Q,"Q",3),Qe.H=new Qe(vi.H,"H",2);class Bt{constructor(n){this.errorCorrectionLevel=Qe.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return _.bitCount(n^i)}static decodeFormatInformation(n,i){const s=Bt.doDecodeFormatInformation(n,i);return s!==null?s:Bt.doDecodeFormatInformation(n^Bt.FORMAT_INFO_MASK_QR,i^Bt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of Bt.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===n||c===i)return new Bt(l[1]);let f=Bt.numBitsDiffering(n,c);f<s&&(o=l[1],s=f),n!==i&&(f=Bt.numBitsDiffering(i,c),f<s&&(o=l[1],s=f))}return s<=3?new Bt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Bt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Bt.FORMAT_INFO_MASK_QR=21522,Bt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class H{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const s of i)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ge{constructor(n,i,...s){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();for(const f of c)o+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new U;try{return this.getVersionForNumber((n-17)/4)}catch{throw new U}}static getVersionForNumber(n){if(n<1||n>40)throw new C;return ge.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<ge.VERSION_DECODE_INFO.length;o++){const l=ge.VERSION_DECODE_INFO[o];if(l===n)return ge.getVersionForNumber(o+7);const c=Bt.numBitsDiffering(n,l);c<i&&(s=o+7,i=c)}return i<=3?ge.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new _e(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let c=0;c<s;c++)o===0&&(c===0||c===s-1)||o===s-1&&c===0||i.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ge.VERSIONS=[new ge(1,new Int32Array(0),new H(7,new R(1,19)),new H(10,new R(1,16)),new H(13,new R(1,13)),new H(17,new R(1,9))),new ge(2,Int32Array.from([6,18]),new H(10,new R(1,34)),new H(16,new R(1,28)),new H(22,new R(1,22)),new H(28,new R(1,16))),new ge(3,Int32Array.from([6,22]),new H(15,new R(1,55)),new H(26,new R(1,44)),new H(18,new R(2,17)),new H(22,new R(2,13))),new ge(4,Int32Array.from([6,26]),new H(20,new R(1,80)),new H(18,new R(2,32)),new H(26,new R(2,24)),new H(16,new R(4,9))),new ge(5,Int32Array.from([6,30]),new H(26,new R(1,108)),new H(24,new R(2,43)),new H(18,new R(2,15),new R(2,16)),new H(22,new R(2,11),new R(2,12))),new ge(6,Int32Array.from([6,34]),new H(18,new R(2,68)),new H(16,new R(4,27)),new H(24,new R(4,19)),new H(28,new R(4,15))),new ge(7,Int32Array.from([6,22,38]),new H(20,new R(2,78)),new H(18,new R(4,31)),new H(18,new R(2,14),new R(4,15)),new H(26,new R(4,13),new R(1,14))),new ge(8,Int32Array.from([6,24,42]),new H(24,new R(2,97)),new H(22,new R(2,38),new R(2,39)),new H(22,new R(4,18),new R(2,19)),new H(26,new R(4,14),new R(2,15))),new ge(9,Int32Array.from([6,26,46]),new H(30,new R(2,116)),new H(22,new R(3,36),new R(2,37)),new H(20,new R(4,16),new R(4,17)),new H(24,new R(4,12),new R(4,13))),new ge(10,Int32Array.from([6,28,50]),new H(18,new R(2,68),new R(2,69)),new H(26,new R(4,43),new R(1,44)),new H(24,new R(6,19),new R(2,20)),new H(28,new R(6,15),new R(2,16))),new ge(11,Int32Array.from([6,30,54]),new H(20,new R(4,81)),new H(30,new R(1,50),new R(4,51)),new H(28,new R(4,22),new R(4,23)),new H(24,new R(3,12),new R(8,13))),new ge(12,Int32Array.from([6,32,58]),new H(24,new R(2,92),new R(2,93)),new H(22,new R(6,36),new R(2,37)),new H(26,new R(4,20),new R(6,21)),new H(28,new R(7,14),new R(4,15))),new ge(13,Int32Array.from([6,34,62]),new H(26,new R(4,107)),new H(22,new R(8,37),new R(1,38)),new H(24,new R(8,20),new R(4,21)),new H(22,new R(12,11),new R(4,12))),new ge(14,Int32Array.from([6,26,46,66]),new H(30,new R(3,115),new R(1,116)),new H(24,new R(4,40),new R(5,41)),new H(20,new R(11,16),new R(5,17)),new H(24,new R(11,12),new R(5,13))),new ge(15,Int32Array.from([6,26,48,70]),new H(22,new R(5,87),new R(1,88)),new H(24,new R(5,41),new R(5,42)),new H(30,new R(5,24),new R(7,25)),new H(24,new R(11,12),new R(7,13))),new ge(16,Int32Array.from([6,26,50,74]),new H(24,new R(5,98),new R(1,99)),new H(28,new R(7,45),new R(3,46)),new H(24,new R(15,19),new R(2,20)),new H(30,new R(3,15),new R(13,16))),new ge(17,Int32Array.from([6,30,54,78]),new H(28,new R(1,107),new R(5,108)),new H(28,new R(10,46),new R(1,47)),new H(28,new R(1,22),new R(15,23)),new H(28,new R(2,14),new R(17,15))),new ge(18,Int32Array.from([6,30,56,82]),new H(30,new R(5,120),new R(1,121)),new H(26,new R(9,43),new R(4,44)),new H(28,new R(17,22),new R(1,23)),new H(28,new R(2,14),new R(19,15))),new ge(19,Int32Array.from([6,30,58,86]),new H(28,new R(3,113),new R(4,114)),new H(26,new R(3,44),new R(11,45)),new H(26,new R(17,21),new R(4,22)),new H(26,new R(9,13),new R(16,14))),new ge(20,Int32Array.from([6,34,62,90]),new H(28,new R(3,107),new R(5,108)),new H(26,new R(3,41),new R(13,42)),new H(30,new R(15,24),new R(5,25)),new H(28,new R(15,15),new R(10,16))),new ge(21,Int32Array.from([6,28,50,72,94]),new H(28,new R(4,116),new R(4,117)),new H(26,new R(17,42)),new H(28,new R(17,22),new R(6,23)),new H(30,new R(19,16),new R(6,17))),new ge(22,Int32Array.from([6,26,50,74,98]),new H(28,new R(2,111),new R(7,112)),new H(28,new R(17,46)),new H(30,new R(7,24),new R(16,25)),new H(24,new R(34,13))),new ge(23,Int32Array.from([6,30,54,78,102]),new H(30,new R(4,121),new R(5,122)),new H(28,new R(4,47),new R(14,48)),new H(30,new R(11,24),new R(14,25)),new H(30,new R(16,15),new R(14,16))),new ge(24,Int32Array.from([6,28,54,80,106]),new H(30,new R(6,117),new R(4,118)),new H(28,new R(6,45),new R(14,46)),new H(30,new R(11,24),new R(16,25)),new H(30,new R(30,16),new R(2,17))),new ge(25,Int32Array.from([6,32,58,84,110]),new H(26,new R(8,106),new R(4,107)),new H(28,new R(8,47),new R(13,48)),new H(30,new R(7,24),new R(22,25)),new H(30,new R(22,15),new R(13,16))),new ge(26,Int32Array.from([6,30,58,86,114]),new H(28,new R(10,114),new R(2,115)),new H(28,new R(19,46),new R(4,47)),new H(28,new R(28,22),new R(6,23)),new H(30,new R(33,16),new R(4,17))),new ge(27,Int32Array.from([6,34,62,90,118]),new H(30,new R(8,122),new R(4,123)),new H(28,new R(22,45),new R(3,46)),new H(30,new R(8,23),new R(26,24)),new H(30,new R(12,15),new R(28,16))),new ge(28,Int32Array.from([6,26,50,74,98,122]),new H(30,new R(3,117),new R(10,118)),new H(28,new R(3,45),new R(23,46)),new H(30,new R(4,24),new R(31,25)),new H(30,new R(11,15),new R(31,16))),new ge(29,Int32Array.from([6,30,54,78,102,126]),new H(30,new R(7,116),new R(7,117)),new H(28,new R(21,45),new R(7,46)),new H(30,new R(1,23),new R(37,24)),new H(30,new R(19,15),new R(26,16))),new ge(30,Int32Array.from([6,26,52,78,104,130]),new H(30,new R(5,115),new R(10,116)),new H(28,new R(19,47),new R(10,48)),new H(30,new R(15,24),new R(25,25)),new H(30,new R(23,15),new R(25,16))),new ge(31,Int32Array.from([6,30,56,82,108,134]),new H(30,new R(13,115),new R(3,116)),new H(28,new R(2,46),new R(29,47)),new H(30,new R(42,24),new R(1,25)),new H(30,new R(23,15),new R(28,16))),new ge(32,Int32Array.from([6,34,60,86,112,138]),new H(30,new R(17,115)),new H(28,new R(10,46),new R(23,47)),new H(30,new R(10,24),new R(35,25)),new H(30,new R(19,15),new R(35,16))),new ge(33,Int32Array.from([6,30,58,86,114,142]),new H(30,new R(17,115),new R(1,116)),new H(28,new R(14,46),new R(21,47)),new H(30,new R(29,24),new R(19,25)),new H(30,new R(11,15),new R(46,16))),new ge(34,Int32Array.from([6,34,62,90,118,146]),new H(30,new R(13,115),new R(6,116)),new H(28,new R(14,46),new R(23,47)),new H(30,new R(44,24),new R(7,25)),new H(30,new R(59,16),new R(1,17))),new ge(35,Int32Array.from([6,30,54,78,102,126,150]),new H(30,new R(12,121),new R(7,122)),new H(28,new R(12,47),new R(26,48)),new H(30,new R(39,24),new R(14,25)),new H(30,new R(22,15),new R(41,16))),new ge(36,Int32Array.from([6,24,50,76,102,128,154]),new H(30,new R(6,121),new R(14,122)),new H(28,new R(6,47),new R(34,48)),new H(30,new R(46,24),new R(10,25)),new H(30,new R(2,15),new R(64,16))),new ge(37,Int32Array.from([6,28,54,80,106,132,158]),new H(30,new R(17,122),new R(4,123)),new H(28,new R(29,46),new R(14,47)),new H(30,new R(49,24),new R(10,25)),new H(30,new R(24,15),new R(46,16))),new ge(38,Int32Array.from([6,32,58,84,110,136,162]),new H(30,new R(4,122),new R(18,123)),new H(28,new R(13,46),new R(32,47)),new H(30,new R(48,24),new R(14,25)),new H(30,new R(42,15),new R(32,16))),new ge(39,Int32Array.from([6,26,54,82,110,138,166]),new H(30,new R(20,117),new R(4,118)),new H(28,new R(40,47),new R(7,48)),new H(30,new R(43,24),new R(22,25)),new H(30,new R(10,15),new R(67,16))),new ge(40,Int32Array.from([6,30,58,86,114,142,170]),new H(30,new R(19,118),new R(6,119)),new H(28,new R(18,47),new R(31,48)),new H(30,new R(34,24),new R(34,25)),new H(30,new R(20,15),new R(61,16)))];var It;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(It||(It={}));class En{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let s=0;s<i;s++)for(let o=0;o<i;o++)this.isMasked(s,o)&&n.flip(o,s)}}En.values=new Map([[It.DATA_MASK_000,new En(It.DATA_MASK_000,(S,n)=>(S+n&1)===0)],[It.DATA_MASK_001,new En(It.DATA_MASK_001,(S,n)=>(S&1)===0)],[It.DATA_MASK_010,new En(It.DATA_MASK_010,(S,n)=>n%3===0)],[It.DATA_MASK_011,new En(It.DATA_MASK_011,(S,n)=>(S+n)%3===0)],[It.DATA_MASK_100,new En(It.DATA_MASK_100,(S,n)=>(Math.floor(S/2)+Math.floor(n/3)&1)===0)],[It.DATA_MASK_101,new En(It.DATA_MASK_101,(S,n)=>S*n%6===0)],[It.DATA_MASK_110,new En(It.DATA_MASK_110,(S,n)=>S*n%6<3)],[It.DATA_MASK_111,new En(It.DATA_MASK_111,(S,n)=>(S+n+S*n%3&1)===0)]]);class lp{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new U;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const i=this.bitMatrix.getHeight();let s=0;const o=i-7;for(let l=i-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=i-8;l<i;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Bt.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return ge.getVersionForNumber(i);let s=0;const o=n-11;for(let c=5;c>=0;c--)for(let f=n-9;f>=o;f--)s=this.copyBit(f,c,s);let l=ge.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;s=0;for(let c=5;c>=0;c--)for(let f=n-9;f>=o;f--)s=this.copyBit(c,f,s);if(l=ge.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new U}copyBit(n,i,s){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),s=En.values.get(n.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=i.buildFunctionPattern();let c=!0;const f=new Uint8Array(i.getTotalCodewords());let g=0,m=0,A=0;for(let v=o-1;v>0;v-=2){v===6&&v--;for(let N=0;N<o;N++){const k=c?o-1-N:N;for(let P=0;P<2;P++)l.get(v-P,k)||(A++,m<<=1,this.bitMatrix.get(v-P,k)&&(m|=1),A===8&&(f[g++]=m,A=0,m=0))}c=!c}if(g!==i.getTotalCodewords())throw new U;return f}remask(){if(this.parsedFormatInfo===null)return;const n=En.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,s=n.getWidth();i<s;i++)for(let o=i+1,l=n.getHeight();o<l;o++)n.get(i,o)!==n.get(o,i)&&(n.flip(o,i),n.flip(i,o))}}class Il{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,s){if(n.length!==i.getTotalCodewords())throw new C;const o=i.getECBlocksForLevel(s);let l=0;const c=o.getECBlocks();for(const P of c)l+=P.getCount();const f=new Array(l);let g=0;for(const P of c)for(let F=0;F<P.getCount();F++){const z=P.getDataCodewords(),G=o.getECCodewordsPerBlock()+z;f[g++]=new Il(z,new Uint8Array(G))}const m=f[0].codewords.length;let A=f.length-1;for(;A>=0&&f[A].codewords.length!==m;)A--;A++;const v=m-o.getECCodewordsPerBlock();let N=0;for(let P=0;P<v;P++)for(let F=0;F<g;F++)f[F].codewords[P]=n[N++];for(let P=A;P<g;P++)f[P].codewords[v]=n[N++];const k=f[0].codewords.length;for(let P=v;P<k;P++)for(let F=0;F<g;F++){const z=F<A?P:P+1;f[F].codewords[z]=n[N++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Cn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Cn||(Cn={}));class me{constructor(n,i,s,o){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=o,me.FOR_BITS.set(o,this),me.FOR_VALUE.set(n,this)}static forBits(n){const i=me.FOR_BITS.get(n);if(i===void 0)throw new C;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof me))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}me.FOR_BITS=new Map,me.FOR_VALUE=new Map,me.TERMINATOR=new me(Cn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),me.NUMERIC=new me(Cn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),me.ALPHANUMERIC=new me(Cn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),me.STRUCTURED_APPEND=new me(Cn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),me.BYTE=new me(Cn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),me.ECI=new me(Cn.ECI,"ECI",Int32Array.from([0,0,0]),7),me.KANJI=new me(Cn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),me.FNC1_FIRST_POSITION=new me(Cn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),me.FNC1_SECOND_POSITION=new me(Cn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),me.HANZI=new me(Cn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nt{static decode(n,i,s,o){const l=new vl(n);let c=new Ee;const f=new Array;let g=-1,m=-1;try{let A=null,v=!1,N;do{if(l.available()<4)N=me.TERMINATOR;else{const k=l.readBits(4);N=me.forBits(k)}switch(N){case me.TERMINATOR:break;case me.FNC1_FIRST_POSITION:case me.FNC1_SECOND_POSITION:v=!0;break;case me.STRUCTURED_APPEND:if(l.available()<16)throw new U;g=l.readBits(8),m=l.readBits(8);break;case me.ECI:const k=nt.parseECIValue(l);if(A=K.getCharacterSetECIByValue(k),A===null)throw new U;break;case me.HANZI:const P=l.readBits(4),F=l.readBits(N.getCharacterCountBits(i));P===nt.GB2312_SUBSET&&nt.decodeHanziSegment(l,c,F);break;default:const z=l.readBits(N.getCharacterCountBits(i));switch(N){case me.NUMERIC:nt.decodeNumericSegment(l,c,z);break;case me.ALPHANUMERIC:nt.decodeAlphanumericSegment(l,c,z,v);break;case me.BYTE:nt.decodeByteSegment(l,c,z,A,f,o);break;case me.KANJI:nt.decodeKanjiSegment(l,c,z);break;default:throw new U}break}}while(N!==me.TERMINATOR)}catch{throw new U}return new fs(n,c.toString(),f.length===0?null:f,s===null?null:s.toString(),g,m)}static decodeHanziSegment(n,i,s){if(s*13>n.available())throw new U;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=n.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,o[l]=f>>8&255,o[l+1]=f&255,l+=2,s--}try{i.append(Ne.decode(o,ce.GB2312))}catch(c){throw new U(c)}}static decodeKanjiSegment(n,i,s){if(s*13>n.available())throw new U;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=n.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,o[l]=f>>8,o[l+1]=f,l+=2,s--}try{i.append(Ne.decode(o,ce.SHIFT_JIS))}catch(c){throw new U(c)}}static decodeByteSegment(n,i,s,o,l,c){if(8*s>n.available())throw new U;const f=new Uint8Array(s);for(let m=0;m<s;m++)f[m]=n.readBits(8);let g;o===null?g=ce.guessEncoding(f,c):g=o.getName();try{i.append(Ne.decode(f,g))}catch(m){throw new U(m)}l.push(f)}static toAlphaNumericChar(n){if(n>=nt.ALPHANUMERIC_CHARS.length)throw new U;return nt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,s,o){const l=i.length();for(;s>1;){if(n.available()<11)throw new U;const c=n.readBits(11);i.append(nt.toAlphaNumericChar(Math.floor(c/45))),i.append(nt.toAlphaNumericChar(c%45)),s-=2}if(s===1){if(n.available()<6)throw new U;i.append(nt.toAlphaNumericChar(n.readBits(6)))}if(o)for(let c=l;c<i.length();c++)i.charAt(c)==="%"&&(c<i.length()-1&&i.charAt(c+1)==="%"?i.deleteCharAt(c+1):i.setCharAt(c,""))}static decodeNumericSegment(n,i,s){for(;s>=3;){if(n.available()<10)throw new U;const o=n.readBits(10);if(o>=1e3)throw new U;i.append(nt.toAlphaNumericChar(Math.floor(o/100))),i.append(nt.toAlphaNumericChar(Math.floor(o/10)%10)),i.append(nt.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(n.available()<7)throw new U;const o=n.readBits(7);if(o>=100)throw new U;i.append(nt.toAlphaNumericChar(Math.floor(o/10))),i.append(nt.toAlphaNumericChar(o%10))}else if(s===1){if(n.available()<4)throw new U;const o=n.readBits(4);if(o>=10)throw new U;i.append(nt.toAlphaNumericChar(o))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=n.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=n.readBits(16);return(i&31)<<16&4294967295|s}throw new U}}nt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nt.GB2312_SUBSET=1;class Od{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class up{constructor(){this.rsDecoder=new gs(Le.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(_e.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const s=new lp(n);let o=null;try{return this.decodeBitMatrixParser(s,i)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,i);return l.setOther(new Od(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(n,i){const s=n.readVersion(),o=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),c=Il.getDataBlocks(l,s,o);let f=0;for(const A of c)f+=A.getNumDataCodewords();const g=new Uint8Array(f);let m=0;for(const A of c){const v=A.getCodewords(),N=A.getNumDataCodewords();this.correctErrors(v,N);for(let k=0;k<N;k++)g[m++]=v[k]}return nt.decode(g,s,o,i)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new L}for(let o=0;o<i;o++)n[o]=s[o]}}class Nl extends de{constructor(n,i,s){super(n,i),this.estimatedModuleSize=s}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const o=(this.getX()+i)/2,l=(this.getY()+n)/2,c=(this.estimatedModuleSize+s)/2;return new Nl(o,l,c)}}class Oa{constructor(n,i,s,o,l,c,f){this.image=n,this.startX=i,this.startY=s,this.width=o,this.height=l,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,s=this.width,o=n+s,l=this.startY+i/2,c=new Int32Array(3),f=this.image;for(let g=0;g<i;g++){const m=l+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));c[0]=0,c[1]=0,c[2]=0;let A=n;for(;A<o&&!f.get(A,m);)A++;let v=0;for(;A<o;){if(f.get(A,m))if(v===1)c[1]++;else if(v===2){if(this.foundPatternCross(c)){const N=this.handlePossibleCenter(c,m,A);if(N!==null)return N}c[0]=c[2],c[1]=1,c[2]=0,v=1}else c[++v]++;else v===1&&v++,c[v]++;A++}if(this.foundPatternCross(c)){const N=this.handlePossibleCenter(c,m,o);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,s=i/2;for(let o=0;o<3;o++)if(Math.abs(i-n[o])>=s)return!1;return!0}crossCheckVertical(n,i,s,o){const l=this.image,c=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let g=n;for(;g>=0&&l.get(i,g)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&!l.get(i,g)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<c&&l.get(i,g)&&f[1]<=s;)f[1]++,g++;if(g===c||f[1]>s)return NaN;for(;g<c&&!l.get(i,g)&&f[2]<=s;)f[2]++,g++;if(f[2]>s)return NaN;const m=f[0]+f[1]+f[2];return 5*Math.abs(m-o)>=2*o?NaN:this.foundPatternCross(f)?Oa.centerFromEnd(f,g):NaN}handlePossibleCenter(n,i,s){const o=n[0]+n[1]+n[2],l=Oa.centerFromEnd(n,s),c=this.crossCheckVertical(i,l,2*n[1],o);if(!isNaN(c)){const f=(n[0]+n[1]+n[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(f,c,l))return m.combineEstimate(c,l,f);const g=new Nl(l,c,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Tl extends de{constructor(n,i,s,o){super(n,i),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const o=this.count+1,l=(this.count*this.getX()+i)/o,c=(this.count*this.getY()+n)/o,f=(this.count*this.estimatedModuleSize+s)/o;return new Tl(l,c,f,o)}}class cp{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Nt{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(j.TRY_HARDER)!==void 0,s=n!=null&&n.get(j.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),c=o.getWidth();let f=Math.floor(3*l/(4*Nt.MAX_MODULES));(f<Nt.MIN_SKIP||i)&&(f=Nt.MIN_SKIP);let g=!1;const m=new Int32Array(5);for(let v=f-1;v<l&&!g;v+=f){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let N=0;for(let k=0;k<c;k++)if(o.get(k,v))(N&1)===1&&N++,m[N]++;else if(N&1)m[N]++;else if(N===4)if(Nt.foundPatternCross(m)){if(this.handlePossibleCenter(m,v,k,s)===!0)if(f=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>m[2]&&(v+=F-m[2]-f,k=c-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,N=3;continue}N=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,N=3;else m[++N]++;Nt.foundPatternCross(m)&&this.handlePossibleCenter(m,v,c,s)===!0&&(f=m[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return de.orderBestPatterns(A),new cp(A)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let l=0;l<5;l++){const c=n[l];if(c===0)return!1;i+=c}if(i<7)return!1;const s=i/7,o=s/2;return Math.abs(s-n[0])<o&&Math.abs(s-n[1])<o&&Math.abs(3*s-n[2])<3*o&&Math.abs(s-n[3])<o&&Math.abs(s-n[4])<o}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,s,o){const l=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;n>=c&&i>=c&&f.get(i-c,n-c);)l[2]++,c++;if(n<c||i<c)return!1;for(;n>=c&&i>=c&&!f.get(i-c,n-c)&&l[1]<=s;)l[1]++,c++;if(n<c||i<c||l[1]>s)return!1;for(;n>=c&&i>=c&&f.get(i-c,n-c)&&l[0]<=s;)l[0]++,c++;if(l[0]>s)return!1;const g=f.getHeight(),m=f.getWidth();for(c=1;n+c<g&&i+c<m&&f.get(i+c,n+c);)l[2]++,c++;if(n+c>=g||i+c>=m)return!1;for(;n+c<g&&i+c<m&&!f.get(i+c,n+c)&&l[3]<s;)l[3]++,c++;if(n+c>=g||i+c>=m||l[3]>=s)return!1;for(;n+c<g&&i+c<m&&f.get(i+c,n+c)&&l[4]<s;)l[4]++,c++;if(l[4]>=s)return!1;const A=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(A-o)<2*o&&Nt.foundPatternCross(l)}crossCheckVertical(n,i,s,o){const l=this.image,c=l.getHeight(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&l.get(i,g);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(i,g)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&l.get(i,g)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<c&&l.get(i,g);)f[2]++,g++;if(g===c)return NaN;for(;g<c&&!l.get(i,g)&&f[3]<s;)f[3]++,g++;if(g===c||f[3]>=s)return NaN;for(;g<c&&l.get(i,g)&&f[4]<s;)f[4]++,g++;if(f[4]>=s)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-o)>=2*o?NaN:Nt.foundPatternCross(f)?Nt.centerFromEnd(f,g):NaN}crossCheckHorizontal(n,i,s,o){const l=this.image,c=l.getWidth(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&l.get(g,i);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(g,i)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&l.get(g,i)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<c&&l.get(g,i);)f[2]++,g++;if(g===c)return NaN;for(;g<c&&!l.get(g,i)&&f[3]<s;)f[3]++,g++;if(g===c||f[3]>=s)return NaN;for(;g<c&&l.get(g,i)&&f[4]<s;)f[4]++,g++;if(f[4]>=s)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-o)>=o?NaN:Nt.foundPatternCross(f)?Nt.centerFromEnd(f,g):NaN}handlePossibleCenter(n,i,s,o){const l=n[0]+n[1]+n[2]+n[3]+n[4];let c=Nt.centerFromEnd(n,s),f=this.crossCheckVertical(i,Math.floor(c),n[2],l);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),n[2],l),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),n[2],l)))){const g=l/7;let m=!1;const A=this.possibleCenters;for(let v=0,N=A.length;v<N;v++){const k=A[v];if(k.aboutEquals(g,f,c)){A[v]=k.combineEstimate(f,c,g),m=!0;break}}if(!m){const v=new Tl(c,f,g);A.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=Nt.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const s=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Nt.CENTER_QUORUM&&(n++,i+=c.getEstimatedModuleSize());if(n<3)return!1;const o=i/s;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-o);return l<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new X;const i=this.possibleCenters;let s;if(n>3){let o=0,l=0;for(const g of this.possibleCenters){const m=g.getEstimatedModuleSize();o+=m,l+=m*m}s=o/n;let c=Math.sqrt(l/n-s*s);i.sort((g,m)=>{const A=Math.abs(m.getEstimatedModuleSize()-s),v=Math.abs(g.getEstimatedModuleSize()-s);return A<v?-1:A>v?1:0});const f=Math.max(.2*s,c);for(let g=0;g<i.length&&i.length>3;g++){const m=i[g];Math.abs(m.getEstimatedModuleSize()-s)>f&&(i.splice(g,1),g--)}}if(i.length>3){let o=0;for(const l of i)o+=l.getEstimatedModuleSize();s=o/i.length,i.sort((l,c)=>{if(c.getCount()===l.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-s),g=Math.abs(l.getEstimatedModuleSize()-s);return f<g?1:f>g?-1:0}else return c.getCount()-l.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Nt.CENTER_QUORUM=2,Nt.MIN_SKIP=3,Nt.MAX_MODULES=57;class ms{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(j.NEED_RESULT_POINT_CALLBACK);const s=new Nt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const i=n.getTopLeft(),s=n.getTopRight(),o=n.getBottomLeft(),l=this.calculateModuleSize(i,s,o);if(l<1)throw new X("No pattern found in proccess finder.");const c=ms.computeDimension(i,s,o,l),f=ge.getProvisionalVersionForDimension(c),g=f.getDimensionForVersion()-7;let m=null;if(f.getAlignmentPatternCenters().length>0){const k=s.getX()-i.getX()+o.getX(),P=s.getY()-i.getY()+o.getY(),F=1-3/g,z=Math.floor(i.getX()+F*(k-i.getX())),G=Math.floor(i.getY()+F*(P-i.getY()));for(let te=4;te<=16;te<<=1)try{m=this.findAlignmentInRegion(l,z,G,te);break}catch(ne){if(!(ne instanceof X))throw ne}}const A=ms.createTransform(i,s,o,m,c),v=ms.sampleGrid(this.image,A,c);let N;return m===null?N=[o,i,s]:N=[o,i,s,m],new Ta(v,N)}static createTransform(n,i,s,o,l){const c=l-3.5;let f,g,m,A;return o!==null?(f=o.getX(),g=o.getY(),m=c-3,A=m):(f=i.getX()-n.getX()+s.getX(),g=i.getY()-n.getY()+s.getY(),m=c,A=c),Rn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,m,A,3.5,c,n.getX(),n.getY(),i.getX(),i.getY(),f,g,s.getX(),s.getY())}static sampleGrid(n,i,s){return pr.getInstance().sampleGridWithTransform(n,s,s,i)}static computeDimension(n,i,s,o){const l=Oe.round(de.distance(n,i)/o),c=Oe.round(de.distance(n,s)/o);let f=Math.floor((l+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new X("Dimensions could be not found.")}return f}calculateModuleSize(n,i,s){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,s,o){let l=this.sizeOfBlackWhiteBlackRun(n,i,s,o),c=1,f=n-(s-n);f<0?(c=n/(n-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let g=Math.floor(i-(o-i)*c);return c=1,g<0?(c=i/(i-g),g=0):g>=this.image.getHeight()&&(c=(this.image.getHeight()-1-i)/(g-i),g=this.image.getHeight()-1),f=Math.floor(n+(f-n)*c),l+=this.sizeOfBlackWhiteBlackRun(n,i,f,g),l-1}sizeOfBlackWhiteBlackRun(n,i,s,o){const l=Math.abs(o-i)>Math.abs(s-n);if(l){let k=n;n=i,i=k,k=s,s=o,o=k}const c=Math.abs(s-n),f=Math.abs(o-i);let g=-c/2;const m=n<s?1:-1,A=i<o?1:-1;let v=0;const N=s+m;for(let k=n,P=i;k!==N;k+=m){const F=l?P:k,z=l?k:P;if(v===1===this.image.get(F,z)){if(v===2)return Oe.distance(k,P,n,i);v++}if(g+=f,g>0){if(P===o)break;P+=A,g-=c}}return v===2?Oe.distance(s+m,o,n,i):NaN}findAlignmentInRegion(n,i,s,o){const l=Math.floor(o*n),c=Math.max(0,i-l),f=Math.min(this.image.getWidth()-1,i+l);if(f-c<n*3)throw new X("Alignment top exceeds estimated module size.");const g=Math.max(0,s-l),m=Math.min(this.image.getHeight()-1,s+l);if(m-g<n*3)throw new X("Alignment bottom exceeds estimated module size.");return new Oa(this.image,c,g,f-c,m-g,n,this.resultPointCallback).find()}}class yr{constructor(){this.decoder=new up}getDecoder(){return this.decoder}decode(n,i){let s,o;if(i!=null&&i.get(j.PURE_BARCODE)!==void 0){const g=yr.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(g,i),o=yr.NO_POINTS}else{const g=new ms(n.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(g.getBits(),i),o=g.getPoints()}s.getOther()instanceof Od&&s.getOther().applyMirroredCorrection(o);const l=new He(s.getText(),s.getRawBytes(),void 0,o,fe.QR_CODE,void 0),c=s.getByteSegments();c!==null&&l.putMetadata(vt.BYTE_SEGMENTS,c);const f=s.getECLevel();return f!==null&&l.putMetadata(vt.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(l.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(vt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i===null||s===null)throw new X;const o=this.moduleSize(i,n);let l=i[1],c=s[1],f=i[0],g=s[0];if(f>=g||l>=c)throw new X;if(c-l!==g-f&&(g=f+(c-l),g>=n.getWidth()))throw new X;const m=Math.round((g-f+1)/o),A=Math.round((c-l+1)/o);if(m<=0||A<=0)throw new X;if(A!==m)throw new X;const v=Math.floor(o/2);l+=v,f+=v;const N=f+Math.floor((m-1)*o)-g;if(N>0){if(N>v)throw new X;f-=N}const k=l+Math.floor((A-1)*o)-c;if(k>0){if(k>v)throw new X;l-=k}const P=new _e(m,A);for(let F=0;F<A;F++){const z=l+Math.floor(F*o);for(let G=0;G<m;G++)n.get(f+Math.floor(G*o),z)&&P.set(G,F)}return P}static moduleSize(n,i){const s=i.getHeight(),o=i.getWidth();let l=n[0],c=n[1],f=!0,g=0;for(;l<o&&c<s;){if(f!==i.get(l,c)){if(++g===5)break;f=!f}l++,c++}if(l===o||c===s)throw new X;return(l-n[0])/7}}yr.NO_POINTS=new Array;class we{PDF417Common(){}static getBitCountSum(n){return Oe.sum(n)}static toIntArray(n){if(n==null||!n.length)return we.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let s=0;for(const o of n)i[s++]=o;return i}static getCodeword(n){const i=I.binarySearch(we.SYMBOL_TABLE,n&262143);return i<0?-1:(we.CODEWORD_TABLE[i]-1)%we.NUMBER_OF_CODEWORDS}}we.NUMBER_OF_CODEWORDS=929,we.MAX_CODEWORDS_IN_BARCODE=we.NUMBER_OF_CODEWORDS-1,we.MIN_ROWS_IN_BARCODE=3,we.MAX_ROWS_IN_BARCODE=90,we.MODULES_IN_CODEWORD=17,we.MODULES_IN_STOP_PATTERN=18,we.BARS_IN_MODULE=8,we.EMPTY_INT_ARRAY=new Int32Array([]),we.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),we.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class dp{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Se{static detectMultiple(n,i,s){let o=n.getBlackMatrix(),l=Se.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=Se.detect(s,o)),new dp(o,l)}static detect(n,i){const s=new Array;let o=0,l=0,c=!1;for(;o<i.getHeight();){const f=Se.findVertices(i,o,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;for(const g of s)g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())));o+=Se.ROW_STEP;continue}if(c=!0,s.push(f),!n)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return s}static findVertices(n,i,s){const o=n.getHeight(),l=n.getWidth(),c=new Array(8);return Se.copyToResult(c,Se.findRowsWithPattern(n,o,l,i,s,Se.START_PATTERN),Se.INDEXES_START_PATTERN),c[4]!=null&&(s=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY())),Se.copyToResult(c,Se.findRowsWithPattern(n,o,l,i,s,Se.STOP_PATTERN),Se.INDEXES_STOP_PATTERN),c}static copyToResult(n,i,s){for(let o=0;o<s.length;o++)n[s[o]]=i[o]}static findRowsWithPattern(n,i,s,o,l,c){const f=new Array(4);let g=!1;const m=new Int32Array(c.length);for(;o<i;o+=Se.ROW_STEP){let v=Se.findGuardPattern(n,l,o,s,!1,c,m);if(v!=null){for(;o>0;){const N=Se.findGuardPattern(n,l,--o,s,!1,c,m);if(N!=null)v=N;else{o++;break}}f[0]=new de(v[0],o),f[1]=new de(v[1],o),g=!0;break}}let A=o+1;if(g){let v=0,N=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;A<i;A++){const k=Se.findGuardPattern(n,N[0],A,s,!1,c,m);if(k!=null&&Math.abs(N[0]-k[0])<Se.MAX_PATTERN_DRIFT&&Math.abs(N[1]-k[1])<Se.MAX_PATTERN_DRIFT)N=k,v=0;else{if(v>Se.SKIPPED_ROW_COUNT_MAX)break;v++}}A-=v+1,f[2]=new de(N[0],A),f[3]=new de(N[1],A)}return A-o<Se.BARCODE_MIN_HEIGHT&&I.fill(f,null),f}static findGuardPattern(n,i,s,o,l,c,f){I.fillWithin(f,0,f.length,0);let g=i,m=0;for(;n.get(g,s)&&g>0&&m++<Se.MAX_PIXEL_DRIFT;)g--;let A=g,v=0,N=c.length;for(let k=l;A<o;A++)if(n.get(A,s)!==k)f[v]++;else{if(v===N-1){if(Se.patternMatchVariance(f,c,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return new Int32Array([g,A]);g+=f[0]+f[1],D.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,k=!k}return v===N-1&&Se.patternMatchVariance(f,c,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE?new Int32Array([g,A-1]):null}static patternMatchVariance(n,i,s){let o=n.length,l=0,c=0;for(let m=0;m<o;m++)l+=n[m],c+=i[m];if(l<c)return 1/0;let f=l/c;s*=f;let g=0;for(let m=0;m<o;m++){let A=n[m],v=i[m]*f,N=A>v?A-v:v-A;if(N>s)return 1/0;g+=N}return g/l}}Se.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Se.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Se.MAX_AVG_VARIANCE=.42,Se.MAX_INDIVIDUAL_VARIANCE=.8,Se.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Se.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Se.MAX_PIXEL_DRIFT=3,Se.MAX_PATTERN_DRIFT=5,Se.SKIPPED_ROW_COUNT_MAX=25,Se.ROW_STEP=5,Se.BARCODE_MIN_HEIGHT=10;class bt{constructor(n,i){if(i.length===0)throw new C;this.field=n;let s=i.length;if(s>1&&i[0]===0){let o=1;for(;o<s&&i[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),D.arraycopy(i,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let i=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)i=this.field.add(this.field.multiply(n,i),this.coefficients[o]);return i}add(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){let c=i;i=s,s=c}let o=new Int32Array(s.length),l=s.length-i.length;D.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=this.field.add(i[c-l],s[c]);return new bt(this.field,o)}subtract(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof bt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new bt(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,o=n.coefficients,l=o.length,c=new Int32Array(s+l-1);for(let f=0;f<s;f++){let g=i[f];for(let m=0;m<l;m++)c[f+m]=this.field.add(c[f+m],this.field.multiply(g,o[m]))}return new bt(this.field,c)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let s=0;s<n;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new bt(this.field,i)}multiplyScalar(n){if(n===0)return new bt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let o=0;o<i;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new bt(this.field,s)}multiplyByMonomial(n,i){if(n<0)throw new C;if(i===0)return new bt(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+n);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],i);return new bt(this.field,o)}toString(){let n=new Ee;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(i===0||s!==1)&&n.append(s),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class fp{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new C;return this.logTable[n]}inverse(n){if(n===0)throw new Ia;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class _l extends fp{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let o=0;o<n;o++)this.expTable[o]=s,s=s*i%n;for(let o=0;o<n-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new bt(this,new Int32Array([0])),this.one=new bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new C;if(i===0)return this.zero;let s=new Int32Array(n+1);return s[0]=i,new bt(this,s)}}_l.PDF417_GF=new _l(we.NUMBER_OF_CODEWORDS,3);class Dd{constructor(){this.field=_l.PDF417_GF}decode(n,i,s){let o=new bt(this.field,n),l=new Int32Array(i),c=!1;for(let P=i;P>0;P--){let F=o.evaluateAt(this.field.exp(P));l[i-P]=F,F!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(s!=null)for(const P of s){let F=this.field.exp(n.length-1-P),z=new bt(this.field,new Int32Array([this.field.subtract(0,F),1]));f=f.multiply(z)}let g=new bt(this.field,l),m=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),g,i),A=m[0],v=m[1],N=this.findErrorLocations(A),k=this.findErrorMagnitudes(v,A,N);for(let P=0;P<N.length;P++){let F=n.length-1-this.field.log(N[P]);if(F<0)throw L.getChecksumInstance();n[F]=this.field.subtract(n[F],k[P])}return N.length}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){let N=n;n=i,i=N}let o=n,l=i,c=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let N=o,k=c;if(o=l,c=f,o.isZero())throw L.getChecksumInstance();l=N;let P=this.field.getZero(),F=o.getCoefficient(o.getDegree()),z=this.field.inverse(F);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let G=l.getDegree()-o.getDegree(),te=this.field.multiply(l.getCoefficient(l.getDegree()),z);P=P.add(this.field.buildMonomial(G,te)),l=l.subtract(o.multiplyByMonomial(G,te))}f=P.multiply(c).subtract(k).negative()}let g=f.getCoefficient(0);if(g===0)throw L.getChecksumInstance();let m=this.field.inverse(g),A=f.multiply(m),v=l.multiply(m);return[A,v]}findErrorLocations(n){let i=n.getDegree(),s=new Int32Array(i),o=0;for(let l=1;l<this.field.getSize()&&o<i;l++)n.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==i)throw L.getChecksumInstance();return s}findErrorMagnitudes(n,i,s){let o=i.getDegree(),l=new Int32Array(o);for(let m=1;m<=o;m++)l[o-m]=this.field.multiply(m,i.getCoefficient(m));let c=new bt(this.field,l),f=s.length,g=new Int32Array(f);for(let m=0;m<f;m++){let A=this.field.inverse(s[m]),v=this.field.subtract(0,n.evaluateAt(A)),N=this.field.inverse(c.evaluateAt(A));g[m]=this.field.multiply(v,N)}return g}}class Jr{constructor(n,i,s,o,l){n instanceof Jr?this.constructor_2(n):this.constructor_1(n,i,s,o,l)}constructor_1(n,i,s,o,l){const c=i==null||s==null,f=o==null||l==null;if(c&&f)throw new X;c?(i=new de(0,o.getY()),s=new de(0,l.getY())):f&&(o=new de(n.getWidth()-1,i.getY()),l=new de(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=i,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new Jr(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,s){let o=this.topLeft,l=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(n>0){let g=s?this.topLeft:this.topRight,m=Math.trunc(g.getY()-n);m<0&&(m=0);let A=new de(g.getX(),m);s?o=A:c=A}if(i>0){let g=s?this.bottomLeft:this.bottomRight,m=Math.trunc(g.getY()+i);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let A=new de(g.getX(),m);s?l=A:f=A}return new Jr(this.image,o,l,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class hp{constructor(n,i,s,o){this.columnCount=n,this.errorCorrectionLevel=o,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class xs{constructor(){this.buffer=""}static form(n,i){let s=-1;function o(c,f,g,m,A,v){if(c==="%%")return"%";if(i[++s]===void 0)return;c=m?parseInt(m.substr(1)):void 0;let N=A?parseInt(A.substr(1)):void 0,k;switch(v){case"s":k=i[s];break;case"c":k=i[s][0];break;case"f":k=parseFloat(i[s]).toFixed(c);break;case"p":k=parseFloat(i[s]).toPrecision(c);break;case"e":k=parseFloat(i[s]).toExponential(c);break;case"x":k=parseInt(i[s]).toString(N||16);break;case"d":k=parseFloat(parseInt(i[s],N||10).toPrecision(c)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(N);let P=parseInt(g),F=g&&g[0]+""=="0"?"0":" ";for(;k.length<P;)k=f!==void 0?k+F:F+k;return k}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,o)}format(n,...i){this.buffer+=xs.form(n,i)}toString(){return this.buffer}}class ws{constructor(n){this.boundingBox=new Jr(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let s=1;s<ws.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(n)-s;if(o>=0&&(i=this.codewords[o],i!=null)||(o=this.imageRowToCodewordIndex(n)+s,o<this.codewords.length&&(i=this.codewords[o],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new xs;let i=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return n.toString()}}ws.MAX_NEARBY_DISTANCE=5;class ys{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>n?(n=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===n&&i.push(l.getKey())}return we.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class kd extends ws{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=-1,m=1,A=0;for(let v=c;v<f;v++){if(i[v]==null)continue;let N=i[v],k=N.getRowNumber()-g;if(k===0)A++;else if(k===1)m=Math.max(m,A),A=1,g=N.getRowNumber();else if(k<0||N.getRowNumber()>=n.getRowCount()||k>v)i[v]=null;else{let P;m>2?P=(m-2)*k:P=k;let F=P>=v;for(let z=1;z<=P&&!F;z++)F=i[v-z]!=null;F?i[v]=null:(g=N.getRowNumber(),A=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=i.length)continue;i[o]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),g=-1;for(let m=l;m<c;m++){if(f[m]==null)continue;let A=f[m];A.setRowNumberAsRowIndicatorColumn();let v=A.getRowNumber()-g;v===0||(v===1?g=A.getRowNumber():A.getRowNumber()>=n.getRowCount()?f[m]=null:g=A.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new ys,s=new ys,o=new ys,l=new ys;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let g=f.getValue()%30,m=f.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:s.setValue(g*3+1);break;case 1:l.setValue(g/3),o.setValue(g%3);break;case 2:i.setValue(g+1);break}}if(i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<we.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;let c=new hp(i.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,c),c}removeIncorrectCodewords(n,i){for(let s=0;s<n.length;s++){let o=n[s];if(n[s]==null)continue;let l=o.getValue()%30,c=o.getRowNumber();if(c>i.getRowCount()){n[s]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(n[s]=null);break;case 2:l+1!==i.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Es{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=we.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(i,o,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&i[s]!=null&&n[s].getRowNumber()===i[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(n[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let o=i[s].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[s];f!=null&&(l=Es.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let o=i[s].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[s];f!=null&&(l=Es.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,s){if(!this.detectionResultColumns[n-1])return;let o=s[i],l=this.detectionResultColumns[n-1].getCodewords(),c=l;this.detectionResultColumns[n+1]!=null&&(c=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=l[i],f[3]=c[i],i>0&&(f[0]=s[i-1],f[4]=l[i-1],f[5]=c[i-1]),i>1&&(f[8]=s[i-2],f[10]=l[i-2],f[11]=c[i-2]),i<s.length-1&&(f[1]=s[i+1],f[6]=l[i+1],f[7]=c[i+1]),i<s.length-2&&(f[9]=s[i+2],f[12]=l[i+2],f[13]=c[i+2]);for(let g of f)if(Es.adjustRowNumber(o,g))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new xs;for(let s=0;s<n.getCodewords().length;s++){i.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}class Cs{constructor(n,i,s,o){this.rowNumber=Cs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Cs.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Cs.BARCODE_ROW_UNKNOWN=-1;class Jt{static initialize(){for(let n=0;n<we.SYMBOL_TABLE.length;n++){let i=we.SYMBOL_TABLE[n],s=i&1;for(let o=0;o<we.BARS_IN_MODULE;o++){let l=0;for(;(i&1)===s;)l+=1,i>>=1;s=i&1,Jt.RATIOS_TABLE[n]||(Jt.RATIOS_TABLE[n]=new Array(we.BARS_IN_MODULE)),Jt.RATIOS_TABLE[n][we.BARS_IN_MODULE-o-1]=Math.fround(l/we.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Jt.getDecodedCodewordValue(Jt.sampleBitCounts(n));return i!==-1?i:Jt.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Oe.sum(n),s=new Int32Array(we.BARS_IN_MODULE),o=0,l=0;for(let c=0;c<we.MODULES_IN_CODEWORD;c++){let f=i/(2*we.MODULES_IN_CODEWORD)+c*i/we.MODULES_IN_CODEWORD;l+n[o]<=f&&(l+=n[o],o++),s[o]++}return s}static getDecodedCodewordValue(n){let i=Jt.getBitValue(n);return we.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let s=0;s<n.length;s++)for(let o=0;o<n[s];o++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Oe.sum(n),s=new Array(we.BARS_IN_MODULE);if(i>1)for(let c=0;c<s.length;c++)s[c]=Math.fround(n[c]/i);let o=Na.MAX_VALUE,l=-1;this.bSymbolTableReady||Jt.initialize();for(let c=0;c<Jt.RATIOS_TABLE.length;c++){let f=0,g=Jt.RATIOS_TABLE[c];for(let m=0;m<we.BARS_IN_MODULE;m++){let A=Math.fround(g[m]-s[m]);if(f+=Math.fround(A*A),f>=o)break}f<o&&(o=f,l=we.SYMBOL_TABLE[c])}return l}}Jt.bSymbolTableReady=!1,Jt.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(S=>new Array(we.BARS_IN_MODULE));class Ld{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class Pd{static parseLong(n,i=void 0){return parseInt(n,i)}}class Bd extends p{}Bd.kind="NullPointerException";class gp{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,s){if(n==null)throw new Bd;if(i<0||i>n.length||s<0||i+s>n.length||i+s<0)throw new O;if(s===0)return;for(let o=0;o<s;o++)this.write(n[i+o])}flush(){}close(){}}class pp extends p{}class mp extends gp{constructor(n=32){if(super(),this.count=0,n<0)throw new C("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new pp;s=_.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,s){if(i<0||i>n.length||s<0||i+s-n.length>0)throw new O;this.ensureCapacity(this.count+s),D.arraycopy(n,i,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Ve;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ve||(Ve={}));function Fd(){if(typeof window<"u")return window.BigInt||null;if(typeof vs<"u")return vs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Da;function Er(S){if(typeof Da>"u"&&(Da=Fd()),Da===null)throw new Error("BigInt is not supported!");return Da(S)}function xp(){let S=[];S[0]=Er(1);let n=Er(900);S[1]=n;for(let i=2;i<16;i++)S[i]=S[i-1]*n;return S}class W{static decode(n,i){let s=new Ee(""),o=K.ISO8859_1;s.enableDecoding(o);let l=1,c=n[l++],f=new Ld;for(;l<n[0];){switch(c){case W.TEXT_COMPACTION_MODE_LATCH:l=W.textCompaction(n,l,s);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:l=W.byteCompaction(c,n,o,l,s);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[l++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:l=W.numericCompaction(n,l,s);break;case W.ECI_CHARSET:K.getCharacterSetECIByValue(n[l++]);break;case W.ECI_GENERAL_PURPOSE:l+=2;break;case W.ECI_USER_DEFINED:l++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=W.decodeMacroBlock(n,l,f);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new U;default:l--,l=W.textCompaction(n,l,s);break}if(l<n.length)c=n[l++];else throw U.getFormatInstance()}if(s.length()===0)throw U.getFormatInstance();let g=new fs(null,s.toString(),null,i);return g.setOther(f),g}static decodeMacroBlock(n,i,s){if(i+W.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw U.getFormatInstance();let o=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<W.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)o[f]=n[i];s.setSegmentIndex(_.parseInt(W.decodeBase900toBase10(o,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ee;i=W.textCompaction(n,i,l),s.setFileId(l.toString());let c=-1;for(n[i]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=i+1);i<n[0];)switch(n[i]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Ee;i=W.textCompaction(n,i+1,f),s.setFileName(f.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new Ee;i=W.textCompaction(n,i+1,g),s.setSender(g.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new Ee;i=W.textCompaction(n,i+1,m),s.setAddressee(m.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new Ee;i=W.numericCompaction(n,i+1,A),s.setSegmentCount(_.parseInt(A.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new Ee;i=W.numericCompaction(n,i+1,v),s.setTimestamp(Pd.parseLong(v.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new Ee;i=W.numericCompaction(n,i+1,N),s.setChecksum(_.parseInt(N.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new Ee;i=W.numericCompaction(n,i+1,k),s.setFileSize(Pd.parseLong(k.toString()));break;default:throw U.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(c!==-1){let f=i-c;s.isLastSegment()&&f--,s.setOptionalData(I.copyOfRange(n,c,c+f))}return i}static textCompaction(n,i,s){let o=new Int32Array((n[0]-i)*2),l=new Int32Array((n[0]-i)*2),c=0,f=!1;for(;i<n[0]&&!f;){let g=n[i++];if(g<W.TEXT_COMPACTION_MODE_LATCH)o[c]=g/30,o[c+1]=g%30,c+=2;else switch(g){case W.TEXT_COMPACTION_MODE_LATCH:o[c++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=n[i++],l[c]=g,c++;break}}return W.decodeTextCompaction(o,l,c,s),i}static decodeTextCompaction(n,i,s,o){let l=Ve.ALPHA,c=Ve.ALPHA,f=0;for(;f<s;){let g=n[f],m="";switch(l){case Ve.ALPHA:if(g<26)m=String.fromCharCode(65+g);else switch(g){case 26:m=" ";break;case W.LL:l=Ve.LOWER;break;case W.ML:l=Ve.MIXED;break;case W.PS:c=l,l=Ve.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(i[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ve.ALPHA;break}break;case Ve.LOWER:if(g<26)m=String.fromCharCode(97+g);else switch(g){case 26:m=" ";break;case W.AS:c=l,l=Ve.ALPHA_SHIFT;break;case W.ML:l=Ve.MIXED;break;case W.PS:c=l,l=Ve.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(i[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ve.ALPHA;break}break;case Ve.MIXED:if(g<W.PL)m=W.MIXED_CHARS[g];else switch(g){case W.PL:l=Ve.PUNCT;break;case 26:m=" ";break;case W.LL:l=Ve.LOWER;break;case W.AL:l=Ve.ALPHA;break;case W.PS:c=l,l=Ve.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(i[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ve.ALPHA;break}break;case Ve.PUNCT:if(g<W.PAL)m=W.PUNCT_CHARS[g];else switch(g){case W.PAL:l=Ve.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(i[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ve.ALPHA;break}break;case Ve.ALPHA_SHIFT:if(l=c,g<26)m=String.fromCharCode(65+g);else switch(g){case 26:m=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ve.ALPHA;break}break;case Ve.PUNCT_SHIFT:if(l=c,g<W.PAL)m=W.PUNCT_CHARS[g];else switch(g){case W.PAL:l=Ve.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(i[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ve.ALPHA;break}break}m!==""&&o.append(m),f++}}static byteCompaction(n,i,s,o,l){let c=new mp,f=0,g=0,m=!1;switch(n){case W.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),v=i[o++];for(;o<i[0]&&!m;)switch(A[f++]=v,g=900*g+v,v=i[o++],v){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,m=!0;break;default:if(f%5===0&&f>0){for(let N=0;N<6;++N)c.write(Number(Er(g)>>Er(8*(5-N))));g=0,f=0}break}o===i[0]&&v<W.TEXT_COMPACTION_MODE_LATCH&&(A[f++]=v);for(let N=0;N<f;N++)c.write(A[N]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;o<i[0]&&!m;){let N=i[o++];if(N<W.TEXT_COMPACTION_MODE_LATCH)f++,g=900*g+N;else switch(N){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,m=!0;break}if(f%5===0&&f>0){for(let k=0;k<6;++k)c.write(Number(Er(g)>>Er(8*(5-k))));g=0,f=0}}break}return l.append(Ne.decode(c.toByteArray(),s)),o}static numericCompaction(n,i,s){let o=0,l=!1,c=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!l;){let f=n[i++];if(i===n[0]&&(l=!0),f<W.TEXT_COMPACTION_MODE_LATCH)c[o]=f,o++;else switch(f){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(o%W.MAX_NUMERIC_CODEWORDS===0||f===W.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(W.decodeBase900toBase10(c,o)),o=0)}return i}static decodeBase900toBase10(n,i){let s=Er(0);for(let l=0;l<i;l++)s+=W.EXP900[i-l-1]*Er(n[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new U;return o.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=Fd()?xp():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ve{constructor(){}static decode(n,i,s,o,l,c,f){let g=new Jr(n,i,s,o,l),m=null,A=null,v;for(let P=!0;;P=!1){if(i!=null&&(m=ve.getRowIndicatorColumn(n,g,i,!0,c,f)),o!=null&&(A=ve.getRowIndicatorColumn(n,g,o,!1,c,f)),v=ve.merge(m,A),v==null)throw X.getNotFoundInstance();let F=v.getBoundingBox();if(P&&F!=null&&(F.getMinY()<g.getMinY()||F.getMaxY()>g.getMaxY()))g=F;else break}v.setBoundingBox(g);let N=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,m),v.setDetectionResultColumn(N,A);let k=m!=null;for(let P=1;P<=N;P++){let F=k?P:N-P;if(v.getDetectionResultColumn(F)!==void 0)continue;let z;F===0||F===N?z=new kd(g,F===0):z=new ws(g),v.setDetectionResultColumn(F,z);let G=-1,te=G;for(let ne=g.getMinY();ne<=g.getMaxY();ne++){if(G=ve.getStartColumn(v,F,ne,k),G<0||G>g.getMaxX()){if(te===-1)continue;G=te}let J=ve.detectCodeword(n,g.getMinX(),g.getMaxX(),k,G,ne,c,f);J!=null&&(z.setCodeword(ne,J),te=G,c=Math.min(c,J.getWidth()),f=Math.max(f,J.getWidth()))}}return ve.createDecoderResult(v)}static merge(n,i){if(n==null&&i==null)return null;let s=ve.getBarcodeMetadata(n,i);if(s==null)return null;let o=Jr.merge(ve.adjustBoundingBox(n),ve.adjustBoundingBox(i));return new Es(s,o)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let s=ve.getMax(i),o=0;for(let f of i)if(o+=s-f,f>0)break;let l=n.getCodewords();for(let f=0;o>0&&l[f]==null;f++)o--;let c=0;for(let f=i.length-1;f>=0&&(c+=s-i[f],!(i[f]>0));f--);for(let f=l.length-1;c>0&&l[f]==null;f--)c--;return n.getBoundingBox().addMissingRows(o,c,n.isLeft())}static getMax(n){let i=-1;for(let s of n)i=Math.max(i,s);return i}static getBarcodeMetadata(n,i){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let o;return i==null||(o=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(n,i,s,o,l,c){let f=new kd(i,o);for(let g=0;g<2;g++){let m=g===0?1:-1,A=Math.trunc(Math.trunc(s.getX()));for(let v=Math.trunc(Math.trunc(s.getY()));v<=i.getMaxY()&&v>=i.getMinY();v+=m){let N=ve.detectCodeword(n,0,n.getWidth(),o,A,v,l,c);N!=null&&(f.setCodeword(v,N),o?A=N.getStartX():A=N.getEndX())}}return f}static adjustCodewordCount(n,i){let s=i[0][1],o=s.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-ve.getNumberOfECCodeWords(n.getBarcodeECLevel());if(o.length===0){if(l<1||l>we.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(n){let i=ve.createBarcodeMatrix(n);ve.adjustCodewordCount(n,i);let s=new Array,o=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],c=new Array;for(let g=0;g<n.getBarcodeRowCount();g++)for(let m=0;m<n.getBarcodeColumnCount();m++){let A=i[g][m+1].getValue(),v=g*n.getBarcodeColumnCount()+m;A.length===0?s.push(v):A.length===1?o[v]=A[0]:(c.push(v),l.push(A))}let f=new Array(l.length);for(let g=0;g<f.length;g++)f[g]=l[g];return ve.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),o,we.toIntArray(s),we.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(n,i,s,o,l){let c=new Int32Array(o.length),f=100;for(;f-- >0;){for(let g=0;g<c.length;g++)i[o[g]]=l[g][c[g]];try{return ve.decodeCodewords(i,n,s)}catch(g){if(!(g instanceof L))throw g}if(c.length===0)throw L.getChecksumInstance();for(let g=0;g<c.length;g++)if(c[g]<l[g].length-1){c[g]++;break}else if(c[g]=0,g===c.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let o=0;o<i.length;o++)for(let l=0;l<i[o].length;l++)i[o][l]=new ys;let s=0;for(let o of n.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=i.length)continue;i[c][s].setValue(l.getValue())}}}s++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,s,o){let l=o?1:-1,c=null;if(ve.isValidBarcodeColumn(n,i-l)&&(c=n.getDetectionResultColumn(i-l).getCodeword(s)),c!=null)return o?c.getEndX():c.getStartX();if(c=n.getDetectionResultColumn(i).getCodewordNearby(s),c!=null)return o?c.getStartX():c.getEndX();if(ve.isValidBarcodeColumn(n,i-l)&&(c=n.getDetectionResultColumn(i-l).getCodewordNearby(s)),c!=null)return o?c.getEndX():c.getStartX();let f=0;for(;ve.isValidBarcodeColumn(n,i-l);){i-=l;for(let g of n.getDetectionResultColumn(i).getCodewords())if(g!=null)return(o?g.getEndX():g.getStartX())+l*f*(g.getEndX()-g.getStartX());f++}return o?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,s,o,l,c,f,g){l=ve.adjustCodewordStartColumn(n,i,s,o,l,c);let m=ve.getModuleBitCount(n,i,s,o,l,c);if(m==null)return null;let A,v=Oe.sum(m);if(o)A=l+v;else{for(let P=0;P<m.length/2;P++){let F=m[P];m[P]=m[m.length-1-P],m[m.length-1-P]=F}A=l,l=A-v}if(!ve.checkCodewordSkew(v,f,g))return null;let N=Jt.getDecodedValue(m),k=we.getCodeword(N);return k===-1?null:new Cs(l,A,ve.getCodewordBucketNumber(N),k)}static getModuleBitCount(n,i,s,o,l,c){let f=l,g=new Int32Array(8),m=0,A=o?1:-1,v=o;for(;(o?f<s:f>=i)&&m<g.length;)n.get(f,c)===v?(g[m]++,f+=A):(m++,v=!v);return m===g.length||f===(o?s:i)&&m===g.length-1?g:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,s,o,l,c){let f=l,g=o?-1:1;for(let m=0;m<2;m++){for(;(o?f>=i:f<s)&&o===n.get(f,c);){if(Math.abs(l-f)>ve.CODEWORD_SKEW_SIZE)return l;f+=g}g=-g,o=!o}return f}static checkCodewordSkew(n,i,s){return i-ve.CODEWORD_SKEW_SIZE<=n&&n<=s+ve.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,s){if(n.length===0)throw U.getFormatInstance();let o=1<<i+1,l=ve.correctErrors(n,s,o);ve.verifyCodewordCount(n,o);let c=W.decode(n,""+i);return c.setErrorsCorrected(l),c.setErasures(s.length),c}static correctErrors(n,i,s){if(i!=null&&i.length>s/2+ve.MAX_ERRORS||s<0||s>ve.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return ve.errorCorrection.decode(n,s,i)}static verifyCodewordCount(n,i){if(n.length<4)throw U.getFormatInstance();let s=n[0];if(s>n.length)throw U.getFormatInstance();if(s===0)if(i<n.length)n[0]=n.length-i;else throw U.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),s=0,o=i.length-1;for(;!((n&1)!==s&&(s=n&1,o--,o<0));)i[o]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return ve.getCodewordBucketNumber(ve.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new xs;for(let s=0;s<n.length;s++){i.format("Row %2d: ",s);for(let o=0;o<n[s].length;o++){let l=n[s][o];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}ve.CODEWORD_SKEW_SIZE=2,ve.MAX_ERRORS=3,ve.MAX_EC_CODEWORDS=512,ve.errorCorrection=new Dd;class Mt{decode(n,i=null){let s=Mt.decode(n,i,!1);if(s==null||s.length===0||s[0]==null)throw X.getNotFoundInstance();return s[0]}decodeMultiple(n,i=null){try{return Mt.decode(n,i,!0)}catch(s){throw s instanceof U||s instanceof L?X.getNotFoundInstance():s}}static decode(n,i,s){const o=new Array,l=Se.detectMultiple(n,i,s);for(const c of l.getPoints()){const f=ve.decode(l.getBits(),c[4],c[5],c[6],c[7],Mt.getMinCodewordWidth(c),Mt.getMaxCodewordWidth(c)),g=new He(f.getText(),f.getRawBytes(),void 0,c,fe.PDF_417);g.putMetadata(vt.ERROR_CORRECTION_LEVEL,f.getECLevel());const m=f.getOther();m!=null&&g.putMetadata(vt.PDF417_EXTRA_METADATA,m),o.push(g)}return o.map(c=>c)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?_.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Mt.getMaxWidth(n[0],n[4]),Mt.getMaxWidth(n[6],n[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(Mt.getMaxWidth(n[1],n[5]),Mt.getMaxWidth(n[7],n[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Mt.getMinWidth(n[0],n[4]),Mt.getMinWidth(n[6],n[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(Mt.getMinWidth(n[1],n[5]),Mt.getMinWidth(n[7],n[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}reset(){}}class ka extends p{}ka.kind="ReaderException";class jd{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!a(n)&&n.get(j.TRY_HARDER)===!0,s=a(n)?null:n.get(j.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(c=>c===fe.UPC_A||c===fe.UPC_E||c===fe.EAN_13||c===fe.EAN_8||c===fe.CODABAR||c===fe.CODE_39||c===fe.CODE_93||c===fe.CODE_128||c===fe.ITF||c===fe.RSS_14||c===fe.RSS_EXPANDED);l&&!i&&o.push(new Si(n,this.verbose)),s.includes(fe.QR_CODE)&&o.push(new yr),s.includes(fe.DATA_MATRIX)&&o.push(new wr),s.includes(fe.AZTEC)&&o.push(new _a),s.includes(fe.PDF_417)&&o.push(new Mt),l&&i&&o.push(new Si(n,this.verbose))}o.length===0&&(i||o.push(new Si(n,this.verbose)),o.push(new yr),o.push(new wr),o.push(new _a),o.push(new Mt),i&&o.push(new Si(n,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new ka("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(s){if(s instanceof ka)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class wp extends ot{constructor(n=null,i=500){const s=new jd;s.setHints(n),super(s,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class yp extends ot{constructor(n=500){super(new Mt,n)}}class Ep extends ot{constructor(n=500){super(new yr,n)}}var Rl;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Rl||(Rl={}));var Ct=Rl;class bl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Kt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let s=i[i.length-1];const o=this.field;for(let l=i.length;l<=n;l++){const c=s.multiply(new Kt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));i.push(c),s=c}}return i[n]}encode(n,i){if(i===0)throw new C("No error correction bytes");const s=n.length-i;if(s<=0)throw new C("No data bytes provided");const o=this.buildGenerator(i),l=new Int32Array(s);D.arraycopy(n,0,l,0,s);let c=new Kt(this.field,l);c=c.multiplyByMonomial(i,1);const g=c.divide(o)[1].getCoefficients(),m=i-g.length;for(let A=0;A<m;A++)n[s+A]=0;D.arraycopy(g,0,n,s+m,g.length)}}class ct{constructor(){}static applyMaskPenaltyRule1(n){return ct.applyMaskPenaltyRule1Internal(n,!0)+ct.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const s=n.getArray(),o=n.getWidth(),l=n.getHeight();for(let c=0;c<l-1;c++){const f=s[c];for(let g=0;g<o-1;g++){const m=f[g];m===f[g+1]&&m===s[c+1][g]&&m===s[c+1][g+1]&&i++}}return ct.N2*i}static applyMaskPenaltyRule3(n){let i=0;const s=n.getArray(),o=n.getWidth(),l=n.getHeight();for(let c=0;c<l;c++)for(let f=0;f<o;f++){const g=s[c];f+6<o&&g[f]===1&&g[f+1]===0&&g[f+2]===1&&g[f+3]===1&&g[f+4]===1&&g[f+5]===0&&g[f+6]===1&&(ct.isWhiteHorizontal(g,f-4,f)||ct.isWhiteHorizontal(g,f+7,f+11))&&i++,c+6<l&&s[c][f]===1&&s[c+1][f]===0&&s[c+2][f]===1&&s[c+3][f]===1&&s[c+4][f]===1&&s[c+5][f]===0&&s[c+6][f]===1&&(ct.isWhiteVertical(s,f,c-4,c)||ct.isWhiteVertical(s,f,c+7,c+11))&&i++}return i*ct.N3}static isWhiteHorizontal(n,i,s){i=Math.max(i,0),s=Math.min(s,n.length);for(let o=i;o<s;o++)if(n[o]===1)return!1;return!0}static isWhiteVertical(n,i,s,o){s=Math.max(s,0),o=Math.min(o,n.length);for(let l=s;l<o;l++)if(n[l][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const s=n.getArray(),o=n.getWidth(),l=n.getHeight();for(let g=0;g<l;g++){const m=s[g];for(let A=0;A<o;A++)m[A]===1&&i++}const c=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-c)*10/c)*ct.N4}static getDataMaskBit(n,i,s){let o,l;switch(n){case 0:o=s+i&1;break;case 1:o=s&1;break;case 2:o=i%3;break;case 3:o=(s+i)%3;break;case 4:o=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:l=s*i,o=(l&1)+l%3;break;case 6:l=s*i,o=(l&1)+l%3&1;break;case 7:l=s*i,o=l%3+(s+i&1)&1;break;default:throw new C("Invalid mask pattern: "+n)}return o===0}static applyMaskPenaltyRule1Internal(n,i){let s=0;const o=i?n.getHeight():n.getWidth(),l=i?n.getWidth():n.getHeight(),c=n.getArray();for(let f=0;f<o;f++){let g=0,m=-1;for(let A=0;A<l;A++){const v=i?c[f][A]:c[A][f];v===m?g++:(g>=5&&(s+=ct.N1+(g-5)),g=1,m=v)}g>=5&&(s+=ct.N1+(g-5))}return s}}ct.N1=3,ct.N2=3,ct.N3=40,ct.N4=10;class La{constructor(n,i){this.width=n,this.height=i;const s=new Array(i);for(let o=0;o!==i;o++)s[o]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,s){this.bytes[i][n]=s}setBoolean(n,i,s){this.bytes[i][n]=s?1:0}clear(n){for(const i of this.bytes)I.fill(i,n)}equals(n){if(!(n instanceof La))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],c=i.bytes[s];for(let f=0,g=this.width;f<g;++f)if(l[f]!==c[f])return!1}return!0}toString(){const n=new Ee;for(let i=0,s=this.height;i<s;++i){const o=this.bytes[i];for(let l=0,c=this.width;l<c;++l)switch(o[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class $r{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Ee;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<$r.NUM_MASK_PATTERNS}}$r.NUM_MASK_PATTERNS=8;class Ge extends p{}Ge.kind="WriterException";class xe{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,s,o,l){xe.clearMatrix(l),xe.embedBasicPatterns(s,l),xe.embedTypeInfo(i,o,l),xe.maybeEmbedVersionInfo(s,l),xe.embedDataBits(n,o,l)}static embedBasicPatterns(n,i){xe.embedPositionDetectionPatternsAndSeparators(i),xe.embedDarkDotAtLeftBottomCorner(i),xe.maybeEmbedPositionAdjustmentPatterns(n,i),xe.embedTimingPatterns(i)}static embedTypeInfo(n,i,s){const o=new B;xe.makeTypeInfoBits(n,i,o);for(let l=0,c=o.getSize();l<c;++l){const f=o.get(o.getSize()-1-l),g=xe.TYPE_INFO_COORDINATES[l],m=g[0],A=g[1];if(s.setBoolean(m,A,f),l<8){const v=s.getWidth()-l-1;s.setBoolean(v,8,f)}else{const N=s.getHeight()-7+(l-8);s.setBoolean(8,N,f)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const s=new B;xe.makeVersionInfoBits(n,s);let o=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const f=s.get(o);o--,i.setBoolean(l,i.getHeight()-11+c,f),i.setBoolean(i.getHeight()-11+c,l,f)}}static embedDataBits(n,i,s){let o=0,l=-1,c=s.getWidth()-1,f=s.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<s.getHeight();){for(let g=0;g<2;++g){const m=c-g;if(!xe.isEmpty(s.get(m,f)))continue;let A;o<n.getSize()?(A=n.get(o),++o):A=!1,i!==255&&ct.getDataMaskBit(i,m,f)&&(A=!A),s.setBoolean(m,f,A)}f+=l}l=-l,f+=l,c-=2}if(o!==n.getSize())throw new Ge("Not all bits consumed: "+o+"/"+n.getSize())}static findMSBSet(n){return 32-_.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new C("0 polynomial");const s=xe.findMSBSet(i);for(n<<=s-1;xe.findMSBSet(n)>=s;)n^=i<<xe.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,i,s){if(!$r.isValidMaskPattern(i))throw new Ge("Invalid mask pattern");const o=n.getBits()<<3|i;s.appendBits(o,5);const l=xe.calculateBCHCode(o,xe.TYPE_INFO_POLY);s.appendBits(l,10);const c=new B;if(c.appendBits(xe.TYPE_INFO_MASK_PATTERN,15),s.xor(c),s.getSize()!==15)throw new Ge("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const s=xe.calculateBCHCode(n.getVersionNumber(),xe.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Ge("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const s=(i+1)%2;xe.isEmpty(n.get(i,6))&&n.setNumber(i,6,s),xe.isEmpty(n.get(6,i))&&n.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ge;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,s){for(let o=0;o<8;++o){if(!xe.isEmpty(s.get(n+o,i)))throw new Ge;s.setNumber(n+o,i,0)}}static embedVerticalSeparationPattern(n,i,s){for(let o=0;o<7;++o){if(!xe.isEmpty(s.get(n,i+o)))throw new Ge;s.setNumber(n,i+o,0)}}static embedPositionAdjustmentPattern(n,i,s){for(let o=0;o<5;++o){const l=xe.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)s.setNumber(n+c,i+o,l[c])}}static embedPositionDetectionPattern(n,i,s){for(let o=0;o<7;++o){const l=xe.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)s.setNumber(n+c,i+o,l[c])}}static embedPositionDetectionPatternsAndSeparators(n){const i=xe.POSITION_DETECTION_PATTERN[0].length;xe.embedPositionDetectionPattern(0,0,n),xe.embedPositionDetectionPattern(n.getWidth()-i,0,n),xe.embedPositionDetectionPattern(0,n.getWidth()-i,n);const s=8;xe.embedHorizontalSeparationPattern(0,s-1,n),xe.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),xe.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const o=7;xe.embedVerticalSeparationPattern(o,0,n),xe.embedVerticalSeparationPattern(n.getHeight()-o-1,0,n),xe.embedVerticalSeparationPattern(o,n.getHeight()-o,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,o=xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,c=o.length;l!==c;l++){const f=o[l];if(f>=0)for(let g=0;g!==c;g++){const m=o[g];m>=0&&xe.isEmpty(i.get(m,f))&&xe.embedPositionAdjustmentPattern(m-2,f-2,i)}}}}xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xe.VERSION_INFO_POLY=7973,xe.TYPE_INFO_POLY=1335,xe.TYPE_INFO_MASK_PATTERN=21522;class Cp{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ze{constructor(){}static calculateMaskPenalty(n){return ct.applyMaskPenaltyRule1(n)+ct.applyMaskPenaltyRule2(n)+ct.applyMaskPenaltyRule3(n)+ct.applyMaskPenaltyRule4(n)}static encode(n,i,s=null){let o=Ze.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(Ct.CHARACTER_SET)!==void 0;l&&(o=s.get(Ct.CHARACTER_SET).toString());const c=this.chooseMode(n,o),f=new B;if(c===me.BYTE&&(l||Ze.DEFAULT_BYTE_MODE_ENCODING!==o)){const ne=K.getCharacterSetECIByName(o);ne!==void 0&&this.appendECI(ne,f)}this.appendModeInfo(c,f);const g=new B;this.appendBytes(n,c,g,o);let m;if(s!==null&&s.get(Ct.QR_VERSION)!==void 0){const ne=Number.parseInt(s.get(Ct.QR_VERSION).toString(),10);m=ge.getVersionForNumber(ne);const J=this.calculateBitsNeeded(c,f,g,m);if(!this.willFit(J,m,i))throw new Ge("Data too big for requested version")}else m=this.recommendVersion(i,c,f,g);const A=new B;A.appendBitArray(f);const v=c===me.BYTE?g.getSizeInBytes():n.length;this.appendLengthInfo(v,m,c,A),A.appendBitArray(g);const N=m.getECBlocksForLevel(i),k=m.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(k,A);const P=this.interleaveWithECBytes(A,m.getTotalCodewords(),k,N.getNumBlocks()),F=new $r;F.setECLevel(i),F.setMode(c),F.setVersion(m);const z=m.getDimensionForVersion(),G=new La(z,z),te=this.chooseMaskPattern(P,i,m,G);return F.setMaskPattern(te),xe.buildMatrix(P,i,m,te,G),F.setMatrix(G),F}static recommendVersion(n,i,s,o){const l=this.calculateBitsNeeded(i,s,o,ge.getVersionForNumber(1)),c=this.chooseVersion(l,n),f=this.calculateBitsNeeded(i,s,o,c);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,i,s,o){return i.getSize()+n.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(n){return n<Ze.ALPHANUMERIC_TABLE.length?Ze.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(K.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return me.KANJI;let s=!1,o=!1;for(let l=0,c=n.length;l<c;++l){const f=n.charAt(l);if(Ze.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return me.BYTE}return o?me.ALPHANUMERIC:s?me.NUMERIC:me.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=Ne.encode(n,K.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=i[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,i,s,o){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<$r.NUM_MASK_PATTERNS;f++){xe.buildMatrix(n,i,s,f,o);let g=this.calculateMaskPenalty(o);g<l&&(l=g,c=f)}return c}static chooseVersion(n,i){for(let s=1;s<=40;s++){const o=ge.getVersionForNumber(s);if(Ze.willFit(n,o,i))return o}throw new Ge("Data too big")}static willFit(n,i,s){const o=i.getTotalCodewords(),c=i.getECBlocksForLevel(s).getTotalECCodewords(),f=o-c,g=(n+7)/8;return f>=g}static terminateBits(n,i){const s=n*8;if(i.getSize()>s)throw new Ge("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let c=0;c<4&&i.getSize()<s;++c)i.appendBit(!1);const o=i.getSize()&7;if(o>0)for(let c=o;c<8;c++)i.appendBit(!1);const l=n-i.getSizeInBytes();for(let c=0;c<l;++c)i.appendBits(c&1?17:236,8);if(i.getSize()!==s)throw new Ge("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,s,o,l,c){if(o>=s)throw new Ge("Block ID too large");const f=n%s,g=s-f,m=Math.floor(n/s),A=m+1,v=Math.floor(i/s),N=v+1,k=m-v,P=A-N;if(k!==P)throw new Ge("EC bytes mismatch");if(s!==g+f)throw new Ge("RS blocks mismatch");if(n!==(v+k)*g+(N+P)*f)throw new Ge("Total bytes mismatch");o<g?(l[0]=v,c[0]=k):(l[0]=N,c[0]=P)}static interleaveWithECBytes(n,i,s,o){if(n.getSizeInBytes()!==s)throw new Ge("Number of bits and data bytes does not match");let l=0,c=0,f=0;const g=new Array;for(let A=0;A<o;++A){const v=new Int32Array(1),N=new Int32Array(1);Ze.getNumDataBytesAndNumECBytesForBlockID(i,s,o,A,v,N);const k=v[0],P=new Uint8Array(k);n.toBytes(8*l,P,0,k);const F=Ze.generateECBytes(P,N[0]);g.push(new Cp(P,F)),c=Math.max(c,k),f=Math.max(f,F.length),l+=v[0]}if(s!==l)throw new Ge("Data bytes does not match offset");const m=new B;for(let A=0;A<c;++A)for(const v of g){const N=v.getDataBytes();A<N.length&&m.appendBits(N[A],8)}for(let A=0;A<f;++A)for(const v of g){const N=v.getErrorCorrectionBytes();A<N.length&&m.appendBits(N[A],8)}if(i!==m.getSizeInBytes())throw new Ge("Interleaving error: "+i+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(n,i){const s=n.length,o=new Int32Array(s+i);for(let c=0;c<s;c++)o[c]=n[c]&255;new bl(Le.QR_CODE_FIELD_256).encode(o,i);const l=new Uint8Array(i);for(let c=0;c<i;c++)l[c]=o[s+c];return l}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,s,o){const l=s.getCharacterCountBits(i);if(n>=1<<l)throw new Ge(n+" is bigger than "+((1<<l)-1));o.appendBits(n,l)}static appendBytes(n,i,s,o){switch(i){case me.NUMERIC:Ze.appendNumericBytes(n,s);break;case me.ALPHANUMERIC:Ze.appendAlphanumericBytes(n,s);break;case me.BYTE:Ze.append8BitBytes(n,s,o);break;case me.KANJI:Ze.appendKanjiBytes(n,s);break;default:throw new Ge("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=Ze.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const s=n.length;let o=0;for(;o<s;){const l=Ze.getDigit(n.charAt(o));if(o+2<s){const c=Ze.getDigit(n.charAt(o+1)),f=Ze.getDigit(n.charAt(o+2));i.appendBits(l*100+c*10+f,10),o+=3}else if(o+1<s){const c=Ze.getDigit(n.charAt(o+1));i.appendBits(l*10+c,7),o+=2}else i.appendBits(l,4),o++}}static appendAlphanumericBytes(n,i){const s=n.length;let o=0;for(;o<s;){const l=Ze.getAlphanumericCode(n.charCodeAt(o));if(l===-1)throw new Ge;if(o+1<s){const c=Ze.getAlphanumericCode(n.charCodeAt(o+1));if(c===-1)throw new Ge;i.appendBits(l*45+c,11),o+=2}else i.appendBits(l,6),o++}}static append8BitBytes(n,i,s){let o;try{o=Ne.encode(n,s)}catch(l){throw new Ge(l)}for(let l=0,c=o.length;l!==c;l++){const f=o[l];i.appendBits(f,8)}}static appendKanjiBytes(n,i){let s;try{s=Ne.encode(n,K.SJIS)}catch(l){throw new Ge(l)}const o=s.length;for(let l=0;l<o;l+=2){const c=s[l]&255,f=s[l+1]&255,g=c<<8&4294967295|f;let m=-1;if(g>=33088&&g<=40956?m=g-33088:g>=57408&&g<=60351&&(m=g-49472),m===-1)throw new Ge("Invalid byte sequence");const A=(m>>8)*192+(m&255);i.appendBits(A,13)}}static appendECI(n,i){i.appendBits(me.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}Ze.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ze.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class ei{write(n,i,s,o=null){if(n.length===0)throw new C("Found empty contents");if(i<0||s<0)throw new C("Requested dimensions are too small: "+i+"x"+s);let l=Qe.L,c=ei.QUIET_ZONE_SIZE;o!==null&&(o.get(Ct.ERROR_CORRECTION)!==void 0&&(l=Qe.fromString(o.get(Ct.ERROR_CORRECTION).toString())),o.get(Ct.MARGIN)!==void 0&&(c=Number.parseInt(o.get(Ct.MARGIN).toString(),10)));const f=Ze.encode(n,l,o);return this.renderResult(f,i,s,c)}writeToDom(n,i,s,o,l=null){typeof n=="string"&&(n=document.querySelector(n));const c=this.write(i,s,o,l);n&&n.appendChild(c)}renderResult(n,i,s,o){const l=n.getMatrix();if(l===null)throw new Hn;const c=l.getWidth(),f=l.getHeight(),g=c+o*2,m=f+o*2,A=Math.max(i,g),v=Math.max(s,m),N=Math.min(Math.floor(A/g),Math.floor(v/m)),k=Math.floor((A-c*N)/2),P=Math.floor((v-f*N)/2),F=this.createSVGElement(A,v);for(let z=0,G=P;z<f;z++,G+=N)for(let te=0,ne=k;te<c;te++,ne+=N)if(l.get(te,z)===1){const J=this.createSvgRectElement(ne,G,N,N);F.appendChild(J)}return F}createSVGElement(n,i){const s=document.createElementNS(ei.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(n,i,s,o){const l=document.createElementNS(ei.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",i.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}ei.QUIET_ZONE_SIZE=4,ei.SVG_NS="http://www.w3.org/2000/svg";class Ii{encode(n,i,s,o,l){if(n.length===0)throw new C("Found empty contents");if(i!==fe.QR_CODE)throw new C("Can only encode QR_CODE, but got "+i);if(s<0||o<0)throw new C(`Requested dimensions are too small: ${s}x${o}`);let c=Qe.L,f=Ii.QUIET_ZONE_SIZE;l!==null&&(l.get(Ct.ERROR_CORRECTION)!==void 0&&(c=Qe.fromString(l.get(Ct.ERROR_CORRECTION).toString())),l.get(Ct.MARGIN)!==void 0&&(f=Number.parseInt(l.get(Ct.MARGIN).toString(),10)));const g=Ze.encode(n,c,l);return Ii.renderResult(g,s,o,f)}static renderResult(n,i,s,o){const l=n.getMatrix();if(l===null)throw new Hn;const c=l.getWidth(),f=l.getHeight(),g=c+o*2,m=f+o*2,A=Math.max(i,g),v=Math.max(s,m),N=Math.min(Math.floor(A/g),Math.floor(v/m)),k=Math.floor((A-c*N)/2),P=Math.floor((v-f*N)/2),F=new _e(A,v);for(let z=0,G=P;z<f;z++,G+=N)for(let te=0,ne=k;te<c;te++,ne+=N)l.get(te,z)===1&&F.setRegion(ne,G,N,N);return F}}Ii.QUIET_ZONE_SIZE=4;class Ap{encode(n,i,s,o,l){let c;switch(i){case fe.QR_CODE:c=new Ii;break;default:throw new C("No encoder available for format "+i)}return c.encode(n,i,s,o,l)}}class Yn extends ${constructor(n,i,s,o,l,c,f,g){if(super(c,f),this.yuvData=n,this.dataWidth=i,this.dataHeight=s,this.left=o,this.top=l,o+c>i||l+f>s)throw new C("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(c,f)}getRow(n,i){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const o=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,o,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=n*i,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.yuvData,l,o,0,s),o;for(let c=0;c<i;c++){const f=c*n;D.arraycopy(this.yuvData,l,o,f,n),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(n,i,s,o){return new Yn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,s,o,!1)}renderThumbnail(){const n=this.getWidth()/Yn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Yn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*i),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<i;c++){const f=c*n;for(let g=0;g<n;g++){const m=o[l+g*Yn.THUMBNAIL_SCALE_FACTOR]&255;s[f+g]=4278190080|m*65793}l+=this.dataWidth*Yn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Yn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Yn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<i;o++,l+=this.dataWidth){const c=l+n/2;for(let f=l,g=l+n-1;f<c;f++,g--){const m=s[f];s[f]=s[g],s[g]=m}}}invert(){return new ie(this)}}Yn.THUMBNAIL_SCALE_FACTOR=2;class Ml extends ${constructor(n,i,s,o,l,c,f){if(super(i,s),this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=f,n.BYTES_PER_ELEMENT===4){const g=i*s,m=new Uint8ClampedArray(g);for(let A=0;A<g;A++){const v=n[A],N=v>>16&255,k=v>>7&510,P=v&255;m[A]=(N+k+P)/4&255}this.luminances=m}else this.luminances=n;if(o===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=s),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const o=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,o,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=n*i,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.luminances,l,o,0,s),o;for(let c=0;c<i;c++){const f=c*n;D.arraycopy(this.luminances,l,o,f,n),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(n,i,s,o){return new Ml(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new ie(this)}}class Ud extends K{static forName(n){return this.getCharacterSetECIByName(n)}}class Ol{}Ol.ISO_8859_1=K.ISO8859_1;class zd{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Hd{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class Sp{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Ni extends Sp{constructor(n,i,s){super(n),this.value=i,this.bitCount=s}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new Ni(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ni(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+_.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Dl extends Ni{constructor(n,i,s){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(n,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(n,i){return new Dl(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function vp(S,n,i){return new Dl(S,n,i)}function As(S,n,i){return new Ni(S,n,i)}const Ip=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Cr=0,Pa=1,An=2,Vd=3,Xn=4,Np=new Ni(null,0,0),kl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Tp(S){for(let n of S)I.fill(n,-1);return S[Cr][Xn]=0,S[Pa][Xn]=0,S[Pa][Cr]=28,S[Vd][Xn]=0,S[An][Xn]=0,S[An][Cr]=15,S}const Wd=Tp(I.createInt32Array(6,6));class Qn{constructor(n,i,s,o){this.token=n,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let s=this.bitCount,o=this.token;if(n!==this.mode){let c=kl[this.mode][n];o=As(o,c&65535,c>>16),s+=c>>16}let l=n===An?4:5;return o=As(o,i,l),new Qn(o,n,0,s+l)}shiftAndAppend(n,i){let s=this.token,o=this.mode===An?4:5;return s=As(s,Wd[this.mode][n],o),s=As(s,i,5),new Qn(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(n){let i=this.token,s=this.mode,o=this.bitCount;if(this.mode===Xn||this.mode===An){let f=kl[s][Cr];i=As(i,f&65535,f>>16),o+=f>>16,s=Cr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Qn(i,s,this.binaryShiftByteCount+1,o+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(n+1)),c}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=vp(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Qn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(kl[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=Qn.calculateBinaryShiftCost(n)-Qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let o=this.endBinaryShift(n.length).token;o!==null;o=o.getPrevious())i.unshift(o);let s=new B;for(const o of i)o.appendTo(s,n);return s}toString(){return ce.format("%s bits=%d bytes=%d",Ip[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Qn.INITIAL_STATE=new Qn(Np,Cr,0,0);function _p(S){const n=ce.getCharCode(" "),i=ce.getCharCode("."),s=ce.getCharCode(",");S[Cr][n]=1;const o=ce.getCharCode("Z"),l=ce.getCharCode("A");for(let N=l;N<=o;N++)S[Cr][N]=N-l+2;S[Pa][n]=1;const c=ce.getCharCode("z"),f=ce.getCharCode("a");for(let N=f;N<=c;N++)S[Pa][N]=N-f+2;S[An][n]=1;const g=ce.getCharCode("9"),m=ce.getCharCode("0");for(let N=m;N<=g;N++)S[An][N]=N-m+2;S[An][s]=12,S[An][i]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<A.length;N++)S[Vd][ce.getCharCode(A[N])]=N;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<v.length;N++)ce.getCharCode(v[N])>0&&(S[Xn][ce.getCharCode(v[N])]=N);return S}const Ll=_p(I.createInt32Array(5,256));class Ss{constructor(n){this.text=n}encode(){const n=ce.getCharCode(" "),i=ce.getCharCode(`
`);let s=Hd.singletonList(Qn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ce.getCharCode("\r"):c=f===i?2:0;break;case ce.getCharCode("."):c=f===n?3:0;break;case ce.getCharCode(","):c=f===n?4:0;break;case ce.getCharCode(":"):c=f===n?5:0;break;default:c=0}c>0?(s=Ss.updateStateListForPair(s,l,c),l++):s=this.updateStateListForChar(s,l)}return Hd.min(s,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const s=[];for(let o of n)this.updateStateForChar(o,i,s);return Ss.simplifyStates(s)}updateStateForChar(n,i,s){let o=this.text[i]&255,l=Ll[n.getMode()][o]>0,c=null;for(let f=0;f<=Xn;f++){let g=Ll[f][o];if(g>0){if(c==null&&(c=n.endBinaryShift(i)),!l||f===n.getMode()||f===An){const m=c.latchAndAppend(f,g);s.push(m)}if(!l&&Wd[n.getMode()][f]>=0){const m=c.shiftAndAppend(f,g);s.push(m)}}}if(n.getBinaryShiftByteCount()>0||Ll[n.getMode()][o]===0){let f=n.addBinaryShiftChar(i);s.push(f)}}static updateStateListForPair(n,i,s){const o=[];for(let l of n)this.updateStateForPair(l,i,s,o);return this.simplifyStates(o)}static updateStateForPair(n,i,s,o){let l=n.endBinaryShift(i);if(o.push(l.latchAndAppend(Xn,s)),n.getMode()!==Xn&&o.push(l.shiftAndAppend(Xn,s)),s===3||s===4){let c=l.latchAndAppend(An,16-s).latchAndAppend(An,1);o.push(c)}if(n.getBinaryShiftByteCount()>0){let c=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);o.push(c)}}static simplifyStates(n){let i=[];for(const s of n){let o=!0;for(const l of i){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(i=i.filter(c=>c!==l))}o&&i.push(s)}return i}}class De{constructor(){}static encodeBytes(n){return De.encode(n,De.DEFAULT_EC_PERCENT,De.DEFAULT_AZTEC_LAYERS)}static encode(n,i,s){let o=new Ss(n).encode(),l=_.truncDivision(o.getSize()*i,100)+11,c=o.getSize()+l,f,g,m,A,v;if(s!==De.DEFAULT_AZTEC_LAYERS){if(f=s<0,g=Math.abs(s),g>(f?De.MAX_NB_BITS_COMPACT:De.MAX_NB_BITS))throw new C(ce.format("Illegal value %s for layers",s));m=De.totalBitsInLayer(g,f),A=De.WORD_SIZE[g];let J=m-m%A;if(v=De.stuffBits(o,A),v.getSize()+l>J)throw new C("Data to large for user specified layer");if(f&&v.getSize()>A*64)throw new C("Data to large for user specified layer")}else{A=0,v=null;for(let J=0;;J++){if(J>De.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(f=J<=3,g=f?J+1:J,m=De.totalBitsInLayer(g,f),c>m)continue;(v==null||A!==De.WORD_SIZE[g])&&(A=De.WORD_SIZE[g],v=De.stuffBits(o,A));let be=m-m%A;if(!(f&&v.getSize()>A*64)&&v.getSize()+l<=be)break}}let N=De.generateCheckWords(v,m,A),k=v.getSize()/A,P=De.generateModeMessage(f,g,k),F=(f?11:14)+g*4,z=new Int32Array(F),G;if(f){G=F;for(let J=0;J<z.length;J++)z[J]=J}else{G=F+1+2*_.truncDivision(_.truncDivision(F,2)-1,15);let J=_.truncDivision(F,2),be=_.truncDivision(G,2);for(let Ae=0;Ae<J;Ae++){let $t=Ae+_.truncDivision(Ae,15);z[J-Ae-1]=be-$t-1,z[J+Ae]=be+$t+1}}let te=new _e(G);for(let J=0,be=0;J<g;J++){let Ae=(g-J)*4+(f?9:12);for(let $t=0;$t<Ae;$t++){let Mn=$t*2;for(let en=0;en<2;en++)N.get(be+Mn+en)&&te.set(z[J*2+en],z[J*2+$t]),N.get(be+Ae*2+Mn+en)&&te.set(z[J*2+$t],z[F-1-J*2-en]),N.get(be+Ae*4+Mn+en)&&te.set(z[F-1-J*2-en],z[F-1-J*2-$t]),N.get(be+Ae*6+Mn+en)&&te.set(z[F-1-J*2-$t],z[J*2+en])}be+=Ae*8}if(De.drawModeMessage(te,f,G,P),f)De.drawBullsEye(te,_.truncDivision(G,2),5);else{De.drawBullsEye(te,_.truncDivision(G,2),7);for(let J=0,be=0;J<_.truncDivision(F,2)-1;J+=15,be+=16)for(let Ae=_.truncDivision(G,2)&1;Ae<G;Ae+=2)te.set(_.truncDivision(G,2)-be,Ae),te.set(_.truncDivision(G,2)+be,Ae),te.set(Ae,_.truncDivision(G,2)-be),te.set(Ae,_.truncDivision(G,2)+be)}let ne=new zd;return ne.setCompact(f),ne.setSize(G),ne.setLayers(g),ne.setCodeWords(k),ne.setMatrix(te),ne}static drawBullsEye(n,i,s){for(let o=0;o<s;o+=2)for(let l=i-o;l<=i+o;l++)n.set(l,i-o),n.set(l,i+o),n.set(i-o,l),n.set(i+o,l);n.set(i-s,i-s),n.set(i-s+1,i-s),n.set(i-s,i-s+1),n.set(i+s,i-s),n.set(i+s,i-s+1),n.set(i+s,i+s-1)}static generateModeMessage(n,i,s){let o=new B;return n?(o.appendBits(i-1,2),o.appendBits(s-1,6),o=De.generateCheckWords(o,28,4)):(o.appendBits(i-1,5),o.appendBits(s-1,11),o=De.generateCheckWords(o,40,4)),o}static drawModeMessage(n,i,s,o){let l=_.truncDivision(s,2);if(i)for(let c=0;c<7;c++){let f=l-3+c;o.get(c)&&n.set(f,l-5),o.get(c+7)&&n.set(l+5,f),o.get(20-c)&&n.set(f,l+5),o.get(27-c)&&n.set(l-5,f)}else for(let c=0;c<10;c++){let f=l-5+c+_.truncDivision(c,5);o.get(c)&&n.set(f,l-7),o.get(c+10)&&n.set(l+7,f),o.get(29-c)&&n.set(f,l+7),o.get(39-c)&&n.set(l-7,f)}}static generateCheckWords(n,i,s){let o=n.getSize()/s,l=new bl(De.getGF(s)),c=_.truncDivision(i,s),f=De.bitsToWords(n,s,c);l.encode(f,c-o);let g=i%s,m=new B;m.appendBits(0,g);for(const A of Array.from(f))m.appendBits(A,s);return m}static bitsToWords(n,i,s){let o=new Int32Array(s),l,c;for(l=0,c=n.getSize()/i;l<c;l++){let f=0;for(let g=0;g<i;g++)f|=n.get(l*i+g)?1<<i-g-1:0;o[l]=f}return o}static getGF(n){switch(n){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new C("Unsupported word size "+n)}}static stuffBits(n,i){let s=new B,o=n.getSize(),l=(1<<i)-2;for(let c=0;c<o;c+=i){let f=0;for(let g=0;g<i;g++)(c+g>=o||n.get(c+g))&&(f|=1<<i-1-g);(f&l)===l?(s.appendBits(f&l,i),c--):f&l?s.appendBits(f,i):(s.appendBits(f|1,i),c--)}return s}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}De.DEFAULT_EC_PERCENT=33,De.DEFAULT_AZTEC_LAYERS=0,De.MAX_NB_BITS=32,De.MAX_NB_BITS_COMPACT=4,De.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ba{encode(n,i,s,o){return this.encodeWithHints(n,i,s,o,null)}encodeWithHints(n,i,s,o,l){let c=Ol.ISO_8859_1,f=De.DEFAULT_EC_PERCENT,g=De.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Ct.CHARACTER_SET)&&(c=Ud.forName(l.get(Ct.CHARACTER_SET).toString())),l.has(Ct.ERROR_CORRECTION)&&(f=_.parseInt(l.get(Ct.ERROR_CORRECTION).toString())),l.has(Ct.AZTEC_LAYERS)&&(g=_.parseInt(l.get(Ct.AZTEC_LAYERS).toString()))),Ba.encodeLayers(n,i,s,o,c,f,g)}static encodeLayers(n,i,s,o,l,c,f){if(i!==fe.AZTEC)throw new C("Can only encode AZTEC, but got "+i);let g=De.encode(ce.getBytes(n,l),c,f);return Ba.renderResult(g,s,o)}static renderResult(n,i,s){let o=n.getMatrix();if(o==null)throw new Hn;let l=o.getWidth(),c=o.getHeight(),f=Math.max(i,l),g=Math.max(s,c),m=Math.min(f/l,g/c),A=(f-l*m)/2,v=(g-c*m)/2,N=new _e(f,g);for(let k=0,P=v;k<c;k++,P+=m)for(let F=0,z=A;F<l;F++,z+=m)o.get(F,k)&&N.setRegion(z,P,m,m);return N}}r.AbstractExpandedDecoder=El,r.ArgumentException=y,r.ArithmeticException=Ia,r.AztecCode=zd,r.AztecCodeReader=_a,r.AztecCodeWriter=Ba,r.AztecDecoder=Xe,r.AztecDetector=Td,r.AztecDetectorResult=Id,r.AztecEncoder=De,r.AztecHighLevelEncoder=Ss,r.AztecPoint=Vt,r.BarcodeFormat=fe,r.Binarizer=b,r.BinaryBitmap=T,r.BitArray=B,r.BitMatrix=_e,r.BitSource=vl,r.BrowserAztecCodeReader=ep,r.BrowserBarcodeReader=sp,r.BrowserCodeReader=ot,r.BrowserDatamatrixCodeReader=op,r.BrowserMultiFormatReader=wp,r.BrowserPDF417Reader=yp,r.BrowserQRCodeReader=Ep,r.BrowserQRCodeSvgWriter=ei,r.CharacterSetECI=K,r.ChecksumException=L,r.Code128Reader=re,r.Code39Reader=yt,r.DataMatrixDecodedBitStreamParser=xr,r.DataMatrixReader=wr,r.DecodeHintType=j,r.DecoderResult=fs,r.DefaultGridSampler=Nd,r.DetectorResult=Ta,r.EAN13Reader=Kr,r.EncodeHintType=Ct,r.Exception=p,r.FormatException=U,r.GenericGF=Le,r.GenericGFPoly=Kt,r.GlobalHistogramBinarizer=se,r.GridSampler=ml,r.GridSamplerInstance=pr,r.HTMLCanvasElementLuminanceSource=he,r.HybridBinarizer=ae,r.ITFReader=We,r.IllegalArgumentException=C,r.IllegalStateException=Hn,r.InvertedLuminanceSource=ie,r.LuminanceSource=$,r.MathUtils=Oe,r.MultiFormatOneDReader=Si,r.MultiFormatReader=jd,r.MultiFormatWriter=Ap,r.NotFoundException=X,r.OneDReader=xt,r.PDF417DecodedBitStreamParser=W,r.PDF417DecoderErrorCorrection=Dd,r.PDF417Reader=Mt,r.PDF417ResultMetadata=Ld,r.PerspectiveTransform=Rn,r.PlanarYUVLuminanceSource=Yn,r.QRCodeByteMatrix=La,r.QRCodeDataMask=En,r.QRCodeDecodedBitStreamParser=nt,r.QRCodeDecoderErrorCorrectionLevel=Qe,r.QRCodeDecoderFormatInformation=Bt,r.QRCodeEncoder=Ze,r.QRCodeEncoderQRCode=$r,r.QRCodeMaskUtil=ct,r.QRCodeMatrixUtil=xe,r.QRCodeMode=me,r.QRCodeReader=yr,r.QRCodeVersion=ge,r.QRCodeWriter=Ii,r.RGBLuminanceSource=Ml,r.RSS14Reader=ut,r.RSSExpandedReader=q,r.ReaderException=ka,r.ReedSolomonDecoder=gs,r.ReedSolomonEncoder=bl,r.ReedSolomonException=yi,r.Result=He,r.ResultMetadataType=vt,r.ResultPoint=de,r.StringUtils=ce,r.UnsupportedOperationException=pe,r.VideoInputDevice=Re,r.WhiteRectangleDetector=nr,r.WriterException=Ge,r.ZXingArrays=I,r.ZXingCharset=Ud,r.ZXingInteger=_,r.ZXingStandardCharsets=Ol,r.ZXingStringBuilder=Ee,r.ZXingStringEncoding=Ne,r.ZXingSystem=D,r.createAbstractExpandedDecoder=Md,Object.defineProperty(r,"__esModule",{value:!0})})})(xc,xc.exports);var rt=xc.exports;const Wy=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var M1=function(){function e(t,r,a){if(this.formatMap=new Map([[le.QR_CODE,rt.BarcodeFormat.QR_CODE],[le.AZTEC,rt.BarcodeFormat.AZTEC],[le.CODABAR,rt.BarcodeFormat.CODABAR],[le.CODE_39,rt.BarcodeFormat.CODE_39],[le.CODE_93,rt.BarcodeFormat.CODE_93],[le.CODE_128,rt.BarcodeFormat.CODE_128],[le.DATA_MATRIX,rt.BarcodeFormat.DATA_MATRIX],[le.MAXICODE,rt.BarcodeFormat.MAXICODE],[le.ITF,rt.BarcodeFormat.ITF],[le.EAN_13,rt.BarcodeFormat.EAN_13],[le.EAN_8,rt.BarcodeFormat.EAN_8],[le.PDF_417,rt.BarcodeFormat.PDF_417],[le.RSS_14,rt.BarcodeFormat.RSS_14],[le.RSS_EXPANDED,rt.BarcodeFormat.RSS_EXPANDED],[le.UPC_A,rt.BarcodeFormat.UPC_A],[le.UPC_E,rt.BarcodeFormat.UPC_E],[le.UPC_EAN_EXTENSION,rt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Wy)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=a;var u=this.createZXingFormats(t),d=new Map;d.set(rt.DecodeHintType.POSSIBLE_FORMATS,u),d.set(rt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(a,u){try{a(r.decode(t))}catch(d){u(d)}})},e.prototype.decode=function(t){var r=new rt.MultiFormatReader(this.verbose,this.hints),a=new rt.HTMLCanvasElementLuminanceSource(t),u=new rt.BinaryBitmap(new rt.HybridBinarizer(a)),d=r.decode(u);return{text:d.text,format:Pg.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,u){t.set(r,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],a=0,u=t;a<u.length;a++){var d=u[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Gy=function(e,t,r,a){function u(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function w(y){try{p(a.next(y))}catch(C){h(C)}}function x(y){try{p(a.throw(y))}catch(C){h(C)}}function p(y){y.done?d(y.value):u(y.value).then(w,x)}p((a=a.apply(e,t||[])).next())})},Yy=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,u,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return x([p,y])}}function x(p){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(a=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],u=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},O1=function(){function e(t,r,a){if(this.formatMap=new Map([[le.QR_CODE,"qr_code"],[le.AZTEC,"aztec"],[le.CODABAR,"codabar"],[le.CODE_39,"code_39"],[le.CODE_93,"code_93"],[le.CODE_128,"code_128"],[le.DATA_MATRIX,"data_matrix"],[le.ITF,"itf"],[le.EAN_13,"ean_13"],[le.EAN_8,"ean_8"],[le.PDF_417,"pdf417"],[le.UPC_A,"upc_a"],[le.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=a;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Gy(this,void 0,void 0,function(){var r,a;return Yy(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=u.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(r),[2,{text:a.rawValue,format:Pg.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,a=0,u=0,d=t;u<d.length;u++){var h=d[u],w=h.boundingBox.width*h.boundingBox.height;w>a&&(a=w,r=h)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],a=0,u=t;a<u.length;a++){var d=u[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,u){t.set(r,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),D1=function(e,t,r,a){function u(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function w(y){try{p(a.next(y))}catch(C){h(C)}}function x(y){try{p(a.throw(y))}catch(C){h(C)}}function p(y){y.done?d(y.value):u(y.value).then(w,x)}p((a=a.apply(e,t||[])).next())})},k1=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,u,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return x([p,y])}}function x(p){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(a=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],u=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Xy=function(){function e(t,r,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,r&&O1.isSupported()?(this.primaryDecoder=new O1(t,a,u),this.secondaryDecoder=new M1(t,a,u)):this.primaryDecoder=new M1(t,a,u)}return e.prototype.decodeAsync=function(t){return D1(this,void 0,void 0,function(){var r;return k1(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return D1(this,void 0,void 0,function(){var r,a;return k1(this,function(u){switch(u.label){case 0:r=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,a=this.executionResults;r<a.length;r++){var u=a[r];t+=u}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Cd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Go=function(e,t,r,a){function u(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function w(y){try{p(a.next(y))}catch(C){h(C)}}function x(y){try{p(a.throw(y))}catch(C){h(C)}}function p(y){y.done?d(y.value):u(y.value).then(w,x)}p((a=a.apply(e,t||[])).next())})},Yo=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,u,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return x([p,y])}}function x(p){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(a=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],u=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Ug=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Qy=function(e){Cd(t,e);function t(r,a){return e.call(this,r,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var a={};a[this.name]=r;var u={advanced:[a]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),a=r[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Ug),Ky=function(e){Cd(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Qy),Zy=function(e){Cd(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(Ug),qy=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Ky(this.track)},e.prototype.torchFeature=function(){return new Zy(this.track)},e}(),Jy=function(){function e(t,r,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var a=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,u),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,a,u){return Go(this,void 0,void 0,function(){var d,h;return Yo(this,function(w){switch(w.label){case 0:return d=new e(t,r,u),a.aspectRatio?(h={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:w.sent(),w.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,a=function(){setTimeout(t,200),r.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Go(this,void 0,void 0,function(){return Yo(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,a){var u=t.mediaStream.getVideoTracks(),d=u.length,h=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++h,h>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new qy(this.getFirstTrackOrFail())},e}(),$y=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,a){return Go(this,void 0,void 0,function(){return Yo(this,function(u){return[2,Jy.create(t,this.mediaStream,r,a)]})})},e.create=function(t){return Go(this,void 0,void 0,function(){var r,a;return Yo(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return a=u.sent(),[2,new e(a)]}})})},e}(),L1=function(e,t,r,a){function u(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function w(y){try{p(a.next(y))}catch(C){h(C)}}function x(y){try{p(a.throw(y))}catch(C){h(C)}}function p(y){y.done?d(y.value):u(y.value).then(w,x)}p((a=a.apply(e,t||[])).next())})},P1=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,u,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return x([p,y])}}function x(p){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(a=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],u=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},e3=function(){function e(){}return e.failIfNotSupported=function(){return L1(this,void 0,void 0,function(){return P1(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return L1(this,void 0,void 0,function(){return P1(this,function(r){return[2,$y.create(t)]})})},e}(),t3=function(e,t,r,a){function u(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function w(y){try{p(a.next(y))}catch(C){h(C)}}function x(y){try{p(a.throw(y))}catch(C){h(C)}}function p(y){y.done?d(y.value):u(y.value).then(w,x)}p((a=a.apply(e,t||[])).next())})},n3=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,u,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return x([p,y])}}function x(p){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(a=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],u=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},r3=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Vi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Vi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return t3(this,void 0,void 0,function(){var t,r,a,u,d,h,w;return n3(this,function(x){switch(x.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),C=0,T=y;C<T.length;C++){var L=T[C];L.enabled=!1,L.stop(),p.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=x.sent(),u=[],d=0,h=a;d<h.length;d++)w=h[d],w.kind==="videoinput"&&u.push({id:w.deviceId,label:w.label});return t(r),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var a=function(d){for(var h=[],w=0,x=d;w<x.length;w++){var p=x[w];p.kind==="video"&&h.push({id:p.id,label:p.label})}t(h)},u=MediaStreamTrack;u.getSources(a)})},e}(),dt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(dt||(dt={}));var i3=function(){function e(){this.state=dt.NOT_STARTED,this.onGoingTransactionNewState=dt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=dt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=dt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case dt.UNKNOWN:throw"Transition from unknown is not allowed";case dt.NOT_STARTED:this.failIfNewStateIs(t,[dt.PAUSED]);break;case dt.SCANNING:break;case dt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var a=0,u=r;a<u.length;a++){var d=u[a];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),s3=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===dt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==dt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===dt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===dt.PAUSED},e}(),a3=function(){function e(){}return e.create=function(){return new s3(new i3)},e}(),o3=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),cn=function(e){o3(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ln),l3=function(){function e(t,r){this.logger=r,this.fps=cn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=cn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?jg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Jn(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),B1=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof r=="boolean"?this.verbose=r===!0:r&&(a=r,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Fg(this.verbose),this.qrcode=new Xy(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=a3.create()}return e.prototype.start=function(t,r,a,u){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;u?h=u:h=this.verbose?this.logger.log:function(){};var w=l3.create(r,this.logger);this.clearElement();var x=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=x,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:cn.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var C=this,T=this.stateManagerProxy.startTransition(dt.SCANNING);return new Promise(function(L,b){var D=p?w.videoConstraints:C.createVideoConstraints(t);if(!D){T.cancel(),b("videoConstraints should be defined");return}var O={};(!p||w.aspectRatio)&&(O.aspectRatio=w.aspectRatio);var M={onRenderSurfaceReady:function(I,_){C.setupUi(I,_,w),C.isScanning=!0,C.foreverScan(w,a,h)}};e3.failIfNotSupported().then(function(I){I.create(D).then(function(_){return _.render(d.element,O,M).then(function(B){C.renderedCamera=B,T.execute(),L(null)}).catch(function(B){T.cancel(),b(B)})}).catch(function(_){T.cancel(),b(Vi.errorGettingUserMedia(_))})}).catch(function(I){T.cancel(),b(Vi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(dt.PAUSED),this.showPausedState(),(Jn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(dt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var d=document.getElementById(cn.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),r.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,r){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Jn(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var w=h.width,x=h.height,p=document.getElementById(a.elementId),y=p.clientWidth?p.clientWidth:cn.DEFAULT_WIDTH,C=Math.max(p.clientHeight?p.clientHeight:x,cn.FILE_SCAN_MIN_HEIGHT),T=a.computeCanvasDrawConfig(w,x,y,C);if(r){var L=a.createCanvasElement(y,C,"qr-canvas-visible");L.style.display="inline-block",p.appendChild(L);var b=L.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=y,b.canvas.height=C,b.drawImage(h,0,0,w,x,T.x,T.y,T.width,T.height)}var D=cn.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(h.width,T.width),M=Math.max(h.height,T.height),I=O+2*D,_=M+2*D,B=a.createCanvasElement(I,_);p.appendChild(B);var Q=B.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=I,Q.canvas.height=_,Q.drawImage(h,0,0,w,x,D,D,O,M);try{a.qrcode.decodeRobustlyAsync(B).then(function(j){u(R1.createFromQrcodeResult(j))}).catch(d)}catch(j){d("QR code parse error, error = ".concat(j))}},h.onerror=d,h.onabort=d,h.onstalled=d,h.onsuspend=d,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return r3.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!jg.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[le.QR_CODE,le.AZTEC,le.CODABAR,le.CODE_39,le.CODE_93,le.CODE_128,le.DATA_MATRIX,le.MAXICODE,le.ITF,le.EAN_13,le.EAN_8,le.PDF_417,le.RSS_14,le.RSS_EXPANDED,le.UPC_A,le.UPC_E,le.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,d=t.formatsToSupport;u<d.length;u++){var h=d[u];Hy(h)?a.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Jn(t))return!0;if(!Jn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Jn(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Jn(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,a){var u=this,d=a.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(t,r,d),w=function(p){if(p<cn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(cn.MIN_QR_BOX_SIZE,"px.")},x=function(p){return p>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};w(h.width),w(h.height),h.width=x(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,r)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},e.prototype.setupUi=function(t,r,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,a);var u=Jn(a.qrbox)?{width:t,height:r}:a.qrbox;this.validateQrboxConfig(u);var d=this.toQrdimensions(t,r,u);d.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=a.isShadedBoxEnabled()&&d.height<=r,w={x:0,y:0,width:t,height:r},x=h?this.getShadedRegionBounds(t,r,d):w,p=this.createCanvasElement(x.width,x.height),y={willReadFrequently:!0},C=p.getContext("2d",y);C.canvas.width=x.width,C.canvas.height=x.height,this.element.append(p),h&&this.possiblyInsertShadingElement(this.element,t,r,d),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=C,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Vi.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,R1.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var d=Vi.codeParseError(u);return r(d,Bg.createFrom(d)),!1})},e.prototype.foreverScan=function(t,r,a){var u=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),h=d.videoWidth/d.clientWidth,w=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*h,p=this.qrRegion.height*w,y=this.qrRegion.x*h,C=this.qrRegion.y*w;this.context.drawImage(d,y,C,x,p,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,r,a)},u.getTimeoutFps(t.fps))};this.scanContext(r,a).then(function(L){!L&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(r,a).finally(function(){T()})):T()}).catch(function(L){u.logger.logError("Error happend while scanning context",L),T()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",a="deviceId",u={user:!0,environment:!0},d="exact",h=function(b){if(b in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var x=Object.keys(t)[0];if(x!==r&&x!==a)throw"Only '".concat(r,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(x===r){var p=t.facingMode;if(typeof p=="string"){if(h(p))return{facingMode:p}}else if(typeof p=="object")if(d in p){if(h(p["".concat(d)]))return{facingMode:{exact:p["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(d in C)return{deviceId:{exact:C["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var T=typeof C;throw"Invalid type of 'deviceId' = ".concat(T)}}}var L=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},e.prototype.computeCanvasDrawConfig=function(t,r,a,u){if(t<=a&&r<=u){var d=(a-t)/2,h=(u-r)/2;return{x:d,y:h,width:t,height:r}}else{var w=t,x=r;return t>a&&(r=a/t*r,t=a),r>u&&(t=u/r*t,r=u),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(x)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,a,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?cn.BORDER_SHADER_MATCH_COLOR:cn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,a){var u=t,d=r,h=document.createElement("canvas");return h.style.width="".concat(u,"px"),h.style.height="".concat(d,"px"),h.style.display="none",h.id=Jn(a)?"qr-canvas":a,h},e.prototype.getShadedRegionBounds=function(t,r,a){if(a.width>t||a.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(r-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,r,a,u){if(!(r-u.width<1||a-u.height<1)){var d=document.createElement("div");d.style.position="absolute";var h=(r-u.width)/2,w=(a-u.height)/2;if(d.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(cn.SHADED_REGION_ELEMENT_ID),r-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var x=5,p=40;this.insertShaderBorders(d,p,x,-x,null,0,!0),this.insertShaderBorders(d,p,x,-x,null,0,!1),this.insertShaderBorders(d,p,x,null,-x,0,!0),this.insertShaderBorders(d,p,x,null,-x,0,!1),this.insertShaderBorders(d,x,p+x,-x,null,-x,!0),this.insertShaderBorders(d,x,p+x,null,-x,-x,!0),this.insertShaderBorders(d,x,p+x,-x,null,-x,!1),this.insertShaderBorders(d,x,p+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,r,a,u,d,h,w){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=cn.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(r,"px"),x.style.height="".concat(a,"px"),u!==null&&(x.style.top="".concat(u,"px")),d!==null&&(x.style.bottom="".concat(d,"px")),w?x.style.left="".concat(h,"px"):x.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Ad="data:image/svg+xml;base64,",u3=Ad+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",c3=Ad+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",F1=Ad+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",d3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",j1=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),f3=function(){function e(){this.data=j1.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=j1.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),h3=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=b1.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var a=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(u);var d=document.createElement("a");d.innerText=b1.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),g3=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=F1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return r.onHoverIn()},this.infoIcon.onmouseout=function(a){return r.onHoverOut()},this.infoIcon.onclick=function(a){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=d3,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=F1,this.infoIcon.style.opacity="0.6")},e}(),p3=function(){function e(){var t=this;this.infoDiv=new h3,this.infoIcon=new g3(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),m3=function(e,t,r,a){function u(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function w(y){try{p(a.next(y))}catch(C){h(C)}}function x(y){try{p(a.throw(y))}catch(C){h(C)}}function p(y){y.done?d(y.value):u(y.value).then(w,x)}p((a=a.apply(e,t||[])).next())})},x3=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,u,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return x([p,y])}}function x(p){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(a=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],u=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},U1=function(){function e(){}return e.hasPermissions=function(){return m3(this,void 0,void 0,function(){var t,r,a,u;return x3(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=d.sent(),r=0,a=t;r<a.length;r++)if(u=a[r],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e}(),vr=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var a=r[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===Vr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Vr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ln.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Ln.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var a=0,u=t;a<u.length;a++){var d=u[a];if(!Ln.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return t},e}(),hn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),or=function(){function e(){}return e.createElement=function(t,r){var a=document.createElement(t);return a.id=r,a.classList.add(hn.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),zg=function(e,t,r,a){function u(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function w(y){try{p(a.next(y))}catch(C){h(C)}}function x(y){try{p(a.throw(y))}catch(C){h(C)}}function p(y){y.done?d(y.value):u(y.value).then(w,x)}p((a=a.apply(e,t||[])).next())})},Hg=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,u,d,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return x([p,y])}}function x(p){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(a=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],u=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},z1=function(){function e(t,r,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return zg(this,void 0,void 0,function(){var t,r;return Hg(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=a.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Ue.torchOffButton():Ue.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var a=t?Ue.torchOnFailedMessage():Ue.torchOffFailedMessage();r&&(a+="; Error = "+r),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),w3=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=or.createElement("button",hn.TORCH_BUTTON_ID),this.torchController=new z1(t,this,r)}return e.prototype.render=function(t,r){var a=this;this.torchButton.innerText=Ue.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var u=this;this.torchButton.addEventListener("click",function(d){return zg(a,void 0,void 0,function(){return Hg(this,function(h){switch(h.label){case 0:return[4,u.torchController.flipState()];case 1:return h.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(hn.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(hn.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(hn.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(hn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new z1(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ue.torchOnButton(),this.torchController.reset()},e.create=function(t,r,a,u){var d=new e(r,u);return d.render(t,a),d},e}(),y3=function(){function e(t,r,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=or.createElement("button",hn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=or.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var x=w.target;if(!(x.files&&x.files.length===0)){var p=x.files,y=p[0],C=y.name;d.setImageNameToButton(C),a(y)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(w){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var x=w.dataTransfer;if(x){var p=x.files;if(!p||p.length===0)return;for(var y=!1,C=0;C<p.length;++C){var T=p.item(C);if(T){var L=/image.*/;if(T.type.match(L)){y=!0;var b=T.name;d.setImageNameToButton(b),a(T),h.innerText=Ue.dragAndDropMessage();break}}}y||(h.innerText=Ue.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ue.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var a=t.substring(0,8),u=t.length,d=t.substring(u-8,u);t="".concat(a,"....").concat(d)}var h=Ue.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=Ue.fileSelectionChooseImage()+" - "+Ue.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,a){var u=new e(t,r,a);return u},e}(),E3=function(){function e(t){this.selectElement=or.createElement("select",hn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)r.style.display="none";else{var u=Ue.selectCamera();r.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var d=1,h=0,w=this.cameras;h<w.length;h++){var x=w[h],p=x.id,y=x.label==null?p:x.label;(!y||y==="")&&(y=[Ue.anonymousCameraPrefix(),d++].join(" "));var C=document.createElement("option");C.value=p,C.innerText=y,this.options.push(C),this.selectElement.appendChild(C)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,a=this.options;r<a.length;r++){var u=a[r];if(u.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var a=new e(r);return a.render(t),a},e}(),C3=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=or.createElement("input",hn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=Ue.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ue.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,a,u){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var a=new e;return a.render(t,r),a},e}(),dn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(dn||(dn={}));function A3(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function S3(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var v3=function(){function e(t,r,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new vr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Fg(this.verbose),this.persistedDataManager=new f3,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,h){if(t)t(d,h);else{if(a.lastMatchFound===d)return;a.lastMatchFound=d,a.setHeaderMessage(Ue.lastMatch(d),dn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,h){r&&r(d,h)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new B1(this.getScanRegionId(),S3(this.config,this.verbose))},e.prototype.pause=function(t){(Jn(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,u){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(d){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),r(),a()}).catch(function(d){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",d),u(d)}):(t.html5Qrcode.clear(),r(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ln.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ln.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ln.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ln.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ln.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ln.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ln.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),a=this.getScanRegionId();r.id=a,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),vr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),d=this.getDashboardId();u.id=d,u.style.width="100%",t.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var a=new p3;a.renderInto(r);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",r.appendChild(u)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,a){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(Ue.cameraPermissionRequesting());var d=function(){a||u.createPermissionButton(t,r)};B1.getCameras().then(function(h){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),h&&h.length>0?(t.removeChild(r),u.renderCameraSelection(h)):(u.setHeaderMessage(Ue.noCameraFound(),dn.STATUS_WARNING),d())}).catch(function(h){u.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:d(),u.setHeaderMessage(h,dn.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var a=this,u=or.createElement("button",this.getCameraPermissionButtonId());u.innerText=Ue.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,a.createCameraListUi(t,r,u)}),r.appendChild(u)},e.prototype.createPermissionsUi=function(t,r){var a=this;if(vr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){U1.hasPermissions().then(function(u){u?a.createCameraListUi(t,r):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r))}).catch(function(u){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=vr.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(a);var u=document.createElement("div");u.style.textAlign="center",a.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,u),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=vr.isFileScanType(this.currentScanType),a=this,u=function(d){if(!a.html5Qrcode)throw"html5Qrcode not defined";vr.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(Ue.loadingImage()),a.html5Qrcode.scanFileV2(d,!0).then(function(h){a.resetHeaderMessage(),a.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){a.setHeaderMessage(h,dn.STATUS_WARNING),a.qrCodeErrorCallback(h,Bg.createFrom(h))}))};this.fileSelectionUi=y3.create(t,r,u)},e.prototype.renderCameraSelection=function(t){var r=this,a=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var d=C3.create(u,!1),h=function(D){var O=D.zoomFeature();if(O.isSupported()){d.setOnCameraZoomValueChangeCallback(function(I){O.apply(I)});var M=1;r.config.defaultZoomValueIfSupported&&(M=r.config.defaultZoomValueIfSupported),M=Vy(M,O.min(),O.max()),d.setValues(O.min(),O.max(),M,O.step()),d.show()}},w=E3.create(u,t),x=document.createElement("span"),p=or.createElement("button",hn.CAMERA_START_BUTTON_ID);p.innerText=Ue.scanButtonStartScanningText(),x.appendChild(p);var y=or.createElement("button",hn.CAMERA_STOP_BUTTON_ID);y.innerText=Ue.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,x.appendChild(y);var C,T=function(D){if(!D.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(D.torchFeature()):C=w3.create(x,D.torchFeature(),{display:"none",marginLeft:"5px"},function(O){a.setHeaderMessage(O,dn.STATUS_WARNING)}),C.show()};u.appendChild(x);var L=function(D){D||(p.style.display="none"),p.innerText=Ue.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,D&&(p.style.display="inline-block")};if(p.addEventListener("click",function(D){p.innerText=Ue.scanButtonScanningStarting(),w.disable(),p.disabled=!0,p.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var O=w.getValue();a.persistedDataManager.setLastUsedCameraId(O),a.html5Qrcode.start(O,A3(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(M){y.disabled=!1,y.style.display="inline-block",L(!1);var I=a.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&T(I),r.config.showZoomSliderIfSupported===!0&&h(I)}).catch(function(M){a.showHideScanTypeSwapLink(!0),w.enable(),L(!0),a.setHeaderMessage(M,dn.STATUS_WARNING)})}),w.hasSingleItem()&&p.click(),y.addEventListener("click",function(D){if(!a.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,a.html5Qrcode.stop().then(function(O){r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),w.enable(),p.disabled=!1,y.style.display="none",p.style.display="inline-block",C&&(C.reset(),C.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(O){y.disabled=!1,a.setHeaderMessage(O,dn.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var b=a.persistedDataManager.getLastUsedCameraId();w.hasValue(b)?(w.setValue(b),p.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Ue.textIfCameraScanSelected(),a=Ue.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var h=or.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=vr.isCameraScanType(this.currentScanType)?r:a,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,vr.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=a,t.currentScanType=Vr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=r,t.currentScanType=Vr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),d.appendChild(h),u.appendChild(d)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){U1.hasPermissions().then(function(a){if(a){var u=document.getElementById(r.getCameraPermissionButtonId());if(!u)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(a){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=dn.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",r){case dn.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case dn.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case dn.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=u3,this.cameraScanImage.alt=Ue.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=c3,this.fileScanImage.alt=Ue.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return hn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return hn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const I3=({onScan:e,onError:t})=>{const[r,a]=et.useState(!0),[u,d]=et.useState(null),h=et.useRef(null),w=et.useRef(new Set),x=et.useRef(null),p=et.useRef(!0);return et.useEffect(()=>{p.current=!0;let y=null;const C=setTimeout(()=>{if(p.current)try{const T="qr-scanner";if(!document.getElementById(T)){console.error("Scanner element not found");return}if(x.current)try{x.current.clear()}catch(O){console.debug("Error clearing previous scanner:",O)}y=new v3(T,{fps:10,qrbox:{width:250,height:250},aspectRatio:1,disableFlip:!1},!1),x.current=y;const b=O=>{if(!p.current)return;const M=Date.now();if(h.current&&M-h.current<2e3){console.log("Scan blocked: Too soon after last scan");return}if(w.current.has(O)){console.log("Scan blocked: Same code scanned recently");return}if(console.log("QR Code scanned:",O),h.current=M,w.current.clear(),w.current.add(O),O.includes("_")){const _=O.split("_")[1];_?(console.log("Extracted NPM:",_),d(O),e(_)):console.warn("Could not extract NPM from QR code")}else console.log("Direct NPM from QR:",O),d(O),e(O)},D=O=>{O&&!O.toString().includes("NotFoundError")&&console.debug("Scanner error:",O),t&&t(O)};y.render(b,D)}catch(T){console.error("Error initializing scanner:",T)}},100);return()=>{if(p.current=!1,clearTimeout(C),x.current)try{x.current.clear(),x.current=null}catch(T){console.debug("Error clearing scanner on unmount:",T)}}},[]),E.jsxs("div",{className:"qr-scanner-container",children:[E.jsx("div",{id:"qr-scanner",className:"qr-scanner"}),u&&E.jsx("div",{className:"scanner-status",children:E.jsxs("p",{className:"scanned-code",children:["Kode terbaca: ",E.jsx("code",{children:u})]})}),E.jsx("button",{className:"btn btn-secondary",onClick:()=>{a(!r),d(null),h.current=null,w.current.clear()},children:r?" Hentikan Pemindai":" Mulai Pemindai"})]})};var N3=Object.defineProperty,Xo=Object.getOwnPropertySymbols,Vg=Object.prototype.hasOwnProperty,Wg=Object.prototype.propertyIsEnumerable,H1=(e,t,r)=>t in e?N3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fa=(e,t)=>{for(var r in t||(t={}))Vg.call(t,r)&&H1(e,r,t[r]);if(Xo)for(var r of Xo(t))Wg.call(t,r)&&H1(e,r,t[r]);return e},Sd=(e,t)=>{var r={};for(var a in e)Vg.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Xo)for(var a of Xo(e))t.indexOf(a)<0&&Wg.call(e,a)&&(r[a]=e[a]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var mi;(e=>{const t=class{constructor(x,p,y,C){if(this.version=x,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],x<t.MIN_VERSION||x>t.MAX_VERSION)throw new RangeError("Version value out of range");if(C<-1||C>7)throw new RangeError("Mask value out of range");this.size=x*4+17;let T=[];for(let b=0;b<this.size;b++)T.push(!1);for(let b=0;b<this.size;b++)this.modules.push(T.slice()),this.isFunction.push(T.slice());this.drawFunctionPatterns();const L=this.addEccAndInterleave(y);if(this.drawCodewords(L),C==-1){let b=1e9;for(let D=0;D<8;D++){this.applyMask(D),this.drawFormatBits(D);const O=this.getPenaltyScore();O<b&&(C=D,b=O),this.applyMask(D)}}d(0<=C&&C<=7),this.mask=C,this.applyMask(C),this.drawFormatBits(C),this.isFunction=[]}static encodeText(x,p){const y=e.QrSegment.makeSegments(x);return t.encodeSegments(y,p)}static encodeBinary(x,p){const y=e.QrSegment.makeBytes(x);return t.encodeSegments([y],p)}static encodeSegments(x,p,y=1,C=40,T=-1,L=!0){if(!(t.MIN_VERSION<=y&&y<=C&&C<=t.MAX_VERSION)||T<-1||T>7)throw new RangeError("Invalid value");let b,D;for(b=y;;b++){const _=t.getNumDataCodewords(b,p)*8,B=w.getTotalBits(x,b);if(B<=_){D=B;break}if(b>=C)throw new RangeError("Data too long")}for(const _ of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])L&&D<=t.getNumDataCodewords(b,_)*8&&(p=_);let O=[];for(const _ of x){a(_.mode.modeBits,4,O),a(_.numChars,_.mode.numCharCountBits(b),O);for(const B of _.getData())O.push(B)}d(O.length==D);const M=t.getNumDataCodewords(b,p)*8;d(O.length<=M),a(0,Math.min(4,M-O.length),O),a(0,(8-O.length%8)%8,O),d(O.length%8==0);for(let _=236;O.length<M;_^=253)a(_,8,O);let I=[];for(;I.length*8<O.length;)I.push(0);return O.forEach((_,B)=>I[B>>>3]|=_<<7-(B&7)),new t(b,p,I,T)}getModule(x,p){return 0<=x&&x<this.size&&0<=p&&p<this.size&&this.modules[p][x]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const x=this.getAlignmentPatternPositions(),p=x.length;for(let y=0;y<p;y++)for(let C=0;C<p;C++)y==0&&C==0||y==0&&C==p-1||y==p-1&&C==0||this.drawAlignmentPattern(x[y],x[C]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(x){const p=this.errorCorrectionLevel.formatBits<<3|x;let y=p;for(let T=0;T<10;T++)y=y<<1^(y>>>9)*1335;const C=(p<<10|y)^21522;d(C>>>15==0);for(let T=0;T<=5;T++)this.setFunctionModule(8,T,u(C,T));this.setFunctionModule(8,7,u(C,6)),this.setFunctionModule(8,8,u(C,7)),this.setFunctionModule(7,8,u(C,8));for(let T=9;T<15;T++)this.setFunctionModule(14-T,8,u(C,T));for(let T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,u(C,T));for(let T=8;T<15;T++)this.setFunctionModule(8,this.size-15+T,u(C,T));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let x=this.version;for(let y=0;y<12;y++)x=x<<1^(x>>>11)*7973;const p=this.version<<12|x;d(p>>>18==0);for(let y=0;y<18;y++){const C=u(p,y),T=this.size-11+y%3,L=Math.floor(y/3);this.setFunctionModule(T,L,C),this.setFunctionModule(L,T,C)}}drawFinderPattern(x,p){for(let y=-4;y<=4;y++)for(let C=-4;C<=4;C++){const T=Math.max(Math.abs(C),Math.abs(y)),L=x+C,b=p+y;0<=L&&L<this.size&&0<=b&&b<this.size&&this.setFunctionModule(L,b,T!=2&&T!=4)}}drawAlignmentPattern(x,p){for(let y=-2;y<=2;y++)for(let C=-2;C<=2;C++)this.setFunctionModule(x+C,p+y,Math.max(Math.abs(C),Math.abs(y))!=1)}setFunctionModule(x,p,y){this.modules[p][x]=y,this.isFunction[p][x]=!0}addEccAndInterleave(x){const p=this.version,y=this.errorCorrectionLevel;if(x.length!=t.getNumDataCodewords(p,y))throw new RangeError("Invalid argument");const C=t.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][p],T=t.ECC_CODEWORDS_PER_BLOCK[y.ordinal][p],L=Math.floor(t.getNumRawDataModules(p)/8),b=C-L%C,D=Math.floor(L/C);let O=[];const M=t.reedSolomonComputeDivisor(T);for(let _=0,B=0;_<C;_++){let Q=x.slice(B,B+D-T+(_<b?0:1));B+=Q.length;const j=t.reedSolomonComputeRemainder(Q,M);_<b&&Q.push(0),O.push(Q.concat(j))}let I=[];for(let _=0;_<O[0].length;_++)O.forEach((B,Q)=>{(_!=D-T||Q>=b)&&I.push(B[_])});return d(I.length==L),I}drawCodewords(x){if(x.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let C=0;C<this.size;C++)for(let T=0;T<2;T++){const L=y-T,D=(y+1&2)==0?this.size-1-C:C;!this.isFunction[D][L]&&p<x.length*8&&(this.modules[D][L]=u(x[p>>>3],7-(p&7)),p++)}}d(p==x.length*8)}applyMask(x){if(x<0||x>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let y=0;y<this.size;y++){let C;switch(x){case 0:C=(y+p)%2==0;break;case 1:C=p%2==0;break;case 2:C=y%3==0;break;case 3:C=(y+p)%3==0;break;case 4:C=(Math.floor(y/3)+Math.floor(p/2))%2==0;break;case 5:C=y*p%2+y*p%3==0;break;case 6:C=(y*p%2+y*p%3)%2==0;break;case 7:C=((y+p)%2+y*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][y]&&C&&(this.modules[p][y]=!this.modules[p][y])}}getPenaltyScore(){let x=0;for(let T=0;T<this.size;T++){let L=!1,b=0,D=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[T][O]==L?(b++,b==5?x+=t.PENALTY_N1:b>5&&x++):(this.finderPenaltyAddHistory(b,D),L||(x+=this.finderPenaltyCountPatterns(D)*t.PENALTY_N3),L=this.modules[T][O],b=1);x+=this.finderPenaltyTerminateAndCount(L,b,D)*t.PENALTY_N3}for(let T=0;T<this.size;T++){let L=!1,b=0,D=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[O][T]==L?(b++,b==5?x+=t.PENALTY_N1:b>5&&x++):(this.finderPenaltyAddHistory(b,D),L||(x+=this.finderPenaltyCountPatterns(D)*t.PENALTY_N3),L=this.modules[O][T],b=1);x+=this.finderPenaltyTerminateAndCount(L,b,D)*t.PENALTY_N3}for(let T=0;T<this.size-1;T++)for(let L=0;L<this.size-1;L++){const b=this.modules[T][L];b==this.modules[T][L+1]&&b==this.modules[T+1][L]&&b==this.modules[T+1][L+1]&&(x+=t.PENALTY_N2)}let p=0;for(const T of this.modules)p=T.reduce((L,b)=>L+(b?1:0),p);const y=this.size*this.size,C=Math.ceil(Math.abs(p*20-y*10)/y)-1;return d(0<=C&&C<=9),x+=C*t.PENALTY_N4,d(0<=x&&x<=2568888),x}getAlignmentPatternPositions(){if(this.version==1)return[];{const x=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(x*2-2))*2;let y=[6];for(let C=this.size-7;y.length<x;C-=p)y.splice(1,0,C);return y}}static getNumRawDataModules(x){if(x<t.MIN_VERSION||x>t.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*x+128)*x+64;if(x>=2){const y=Math.floor(x/7)+2;p-=(25*y-10)*y-55,x>=7&&(p-=36)}return d(208<=p&&p<=29648),p}static getNumDataCodewords(x,p){return Math.floor(t.getNumRawDataModules(x)/8)-t.ECC_CODEWORDS_PER_BLOCK[p.ordinal][x]*t.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][x]}static reedSolomonComputeDivisor(x){if(x<1||x>255)throw new RangeError("Degree out of range");let p=[];for(let C=0;C<x-1;C++)p.push(0);p.push(1);let y=1;for(let C=0;C<x;C++){for(let T=0;T<p.length;T++)p[T]=t.reedSolomonMultiply(p[T],y),T+1<p.length&&(p[T]^=p[T+1]);y=t.reedSolomonMultiply(y,2)}return p}static reedSolomonComputeRemainder(x,p){let y=p.map(C=>0);for(const C of x){const T=C^y.shift();y.push(0),p.forEach((L,b)=>y[b]^=t.reedSolomonMultiply(L,T))}return y}static reedSolomonMultiply(x,p){if(x>>>8||p>>>8)throw new RangeError("Byte out of range");let y=0;for(let C=7;C>=0;C--)y=y<<1^(y>>>7)*285,y^=(p>>>C&1)*x;return d(y>>>8==0),y}finderPenaltyCountPatterns(x){const p=x[1];d(p<=this.size*3);const y=p>0&&x[2]==p&&x[3]==p*3&&x[4]==p&&x[5]==p;return(y&&x[0]>=p*4&&x[6]>=p?1:0)+(y&&x[6]>=p*4&&x[0]>=p?1:0)}finderPenaltyTerminateAndCount(x,p,y){return x&&(this.finderPenaltyAddHistory(p,y),p=0),p+=this.size,this.finderPenaltyAddHistory(p,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(x,p){p[0]==0&&(x+=this.size),p.pop(),p.unshift(x)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function a(x,p,y){if(p<0||p>31||x>>>p)throw new RangeError("Value out of range");for(let C=p-1;C>=0;C--)y.push(x>>>C&1)}function u(x,p){return(x>>>p&1)!=0}function d(x){if(!x)throw new Error("Assertion error")}const h=class{constructor(x,p,y){if(this.mode=x,this.numChars=p,this.bitData=y,p<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(x){let p=[];for(const y of x)a(y,8,p);return new h(h.Mode.BYTE,x.length,p)}static makeNumeric(x){if(!h.isNumeric(x))throw new RangeError("String contains non-numeric characters");let p=[];for(let y=0;y<x.length;){const C=Math.min(x.length-y,3);a(parseInt(x.substr(y,C),10),C*3+1,p),y+=C}return new h(h.Mode.NUMERIC,x.length,p)}static makeAlphanumeric(x){if(!h.isAlphanumeric(x))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],y;for(y=0;y+2<=x.length;y+=2){let C=h.ALPHANUMERIC_CHARSET.indexOf(x.charAt(y))*45;C+=h.ALPHANUMERIC_CHARSET.indexOf(x.charAt(y+1)),a(C,11,p)}return y<x.length&&a(h.ALPHANUMERIC_CHARSET.indexOf(x.charAt(y)),6,p),new h(h.Mode.ALPHANUMERIC,x.length,p)}static makeSegments(x){return x==""?[]:h.isNumeric(x)?[h.makeNumeric(x)]:h.isAlphanumeric(x)?[h.makeAlphanumeric(x)]:[h.makeBytes(h.toUtf8ByteArray(x))]}static makeEci(x){let p=[];if(x<0)throw new RangeError("ECI assignment value out of range");if(x<128)a(x,8,p);else if(x<16384)a(2,2,p),a(x,14,p);else if(x<1e6)a(6,3,p),a(x,21,p);else throw new RangeError("ECI assignment value out of range");return new h(h.Mode.ECI,0,p)}static isNumeric(x){return h.NUMERIC_REGEX.test(x)}static isAlphanumeric(x){return h.ALPHANUMERIC_REGEX.test(x)}getData(){return this.bitData.slice()}static getTotalBits(x,p){let y=0;for(const C of x){const T=C.mode.numCharCountBits(p);if(C.numChars>=1<<T)return 1/0;y+=4+T+C.bitData.length}return y}static toUtf8ByteArray(x){x=encodeURI(x);let p=[];for(let y=0;y<x.length;y++)x.charAt(y)!="%"?p.push(x.charCodeAt(y)):(p.push(parseInt(x.substr(y+1,2),16)),y+=2);return p}};let w=h;w.NUMERIC_REGEX=/^[0-9]*$/,w.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,w.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=w})(mi||(mi={}));(e=>{(t=>{const r=class{constructor(u,d){this.ordinal=u,this.formatBits=d}};let a=r;a.LOW=new r(0,1),a.MEDIUM=new r(1,0),a.QUARTILE=new r(2,3),a.HIGH=new r(3,2),t.Ecc=a})(e.QrCode||(e.QrCode={}))})(mi||(mi={}));(e=>{(t=>{const r=class{constructor(u,d){this.modeBits=u,this.numBitsCharCount=d}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};let a=r;a.NUMERIC=new r(1,[10,12,14]),a.ALPHANUMERIC=new r(2,[9,11,13]),a.BYTE=new r(4,[8,16,16]),a.KANJI=new r(8,[8,10,12]),a.ECI=new r(7,[0,0,0]),t.Mode=a})(e.QrSegment||(e.QrSegment={}))})(mi||(mi={}));var Wi=mi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Gg={L:Wi.QrCode.Ecc.LOW,M:Wi.QrCode.Ecc.MEDIUM,Q:Wi.QrCode.Ecc.QUARTILE,H:Wi.QrCode.Ecc.HIGH},Yg=128,Xg="L",Qg="#FFFFFF",Kg="#000000",Zg=!1,vd=4,T3=.1;function qg(e,t=0){const r=[];return e.forEach(function(a,u){let d=null;a.forEach(function(h,w){if(!h&&d!==null){r.push(`M${d+t} ${u+t}h${w-d}v1H${d+t}z`),d=null;return}if(w===a.length-1){if(!h)return;d===null?r.push(`M${w+t},${u+t} h1v1H${w+t}z`):r.push(`M${d+t},${u+t} h${w+1-d}v1H${d+t}z`);return}h&&d===null&&(d=w)})}),r.join("")}function Jg(e,t){return e.slice().map((r,a)=>a<t.y||a>=t.y+t.h?r:r.map((u,d)=>d<t.x||d>=t.x+t.w?u:!1))}function $g(e,t,r,a){if(a==null)return null;const u=r?vd:0,d=e.length+u*2,h=Math.floor(t*T3),w=d/t,x=(a.width||h)*w,p=(a.height||h)*w,y=a.x==null?e.length/2-x/2:a.x*w,C=a.y==null?e.length/2-p/2:a.y*w;let T=null;if(a.excavate){let L=Math.floor(y),b=Math.floor(C),D=Math.ceil(x+y-L),O=Math.ceil(p+C-b);T={x:L,y:b,w:D,h:O}}return{x:y,y:C,h:p,w:x,excavation:T}}var _3=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function R3(e){const t=e,{value:r,size:a=Yg,level:u=Xg,bgColor:d=Qg,fgColor:h=Kg,includeMargin:w=Zg,style:x,imageSettings:p}=t,y=Sd(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),C=p==null?void 0:p.src,T=et.useRef(null),L=et.useRef(null),[b,D]=et.useState(!1);et.useEffect(()=>{if(T.current!=null){const I=T.current,_=I.getContext("2d");if(!_)return;let B=Wi.QrCode.encodeText(r,Gg[u]).getModules();const Q=w?vd:0,j=B.length+Q*2,U=$g(B,a,w,p),Z=L.current,K=U!=null&&Z!==null&&Z.complete&&Z.naturalHeight!==0&&Z.naturalWidth!==0;K&&U.excavation!=null&&(B=Jg(B,U.excavation));const pe=window.devicePixelRatio||1;I.height=I.width=a*pe;const Ne=a/j*pe;_.scale(Ne,Ne),_.fillStyle=d,_.fillRect(0,0,j,j),_.fillStyle=h,_3?_.fill(new Path2D(qg(B,Q))):B.forEach(function(ce,Ee){ce.forEach(function(_e,X){_e&&_.fillRect(X+Q,Ee+Q,1,1)})}),K&&_.drawImage(Z,U.x+Q,U.y+Q,U.w,U.h)}}),et.useEffect(()=>{D(!1)},[C]);const O=fa({height:a,width:a},x);let M=null;return C!=null&&(M=et.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{D(!0)},ref:L})),et.createElement(et.Fragment,null,et.createElement("canvas",fa({style:O,height:a,width:a,ref:T},y)),M)}function b3(e){const t=e,{value:r,size:a=Yg,level:u=Xg,bgColor:d=Qg,fgColor:h=Kg,includeMargin:w=Zg,imageSettings:x}=t,p=Sd(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let y=Wi.QrCode.encodeText(r,Gg[u]).getModules();const C=w?vd:0,T=y.length+C*2,L=$g(y,a,w,x);let b=null;x!=null&&L!=null&&(L.excavation!=null&&(y=Jg(y,L.excavation)),b=et.createElement("image",{xlinkHref:x.src,height:L.h,width:L.w,x:L.x+C,y:L.y+C,preserveAspectRatio:"none"}));const D=qg(y,C);return et.createElement("svg",fa({height:a,width:a,viewBox:`0 0 ${T} ${T}`},p),et.createElement("path",{fill:d,d:`M0,0 h${T}v${T}H0z`,shapeRendering:"crispEdges"}),et.createElement("path",{fill:h,d:D,shapeRendering:"crispEdges"}),b)}var M3=e=>{const t=e,{renderAs:r}=t,a=Sd(t,["renderAs"]);return r==="svg"?et.createElement(b3,fa({},a)):et.createElement(R3,fa({},a))};const O3=()=>{const[e,t]=V.useState([]),[r,a]=V.useState(null),[u,d]=V.useState(null),[h,w]=V.useState(null),[x,p]=V.useState([]),[y,C]=V.useState(""),[T,L]=V.useState(""),[b,D]=V.useState(!0),[O,M]=V.useState(!1),[I,_]=V.useState(1),[B,Q]=V.useState(!1),[j,U]=V.useState(null),Z=5;V.useEffect(()=>{K()},[]);const K=async()=>{try{const se=await N1.getCourses();t(se.data),D(!1)}catch{C("Gagal memuat matakuliah"),D(!1)}},pe=async se=>{var ae;try{a(se),C(""),L(""),d(null),U(null);try{const ie=await N1.getTodaySession(se.id);console.log("Today's session:",ie.data),ie.data&&U(ie.data)}catch(ie){console.warn("Could not get today's session:",ie.message)}const $=await Sr.getMahasiswaKontrak(se.id);p(((ae=$.data)==null?void 0:ae.data)||[])}catch{C("Gagal memilih matakuliah")}},Ne=async se=>{try{C(""),L(""),await ce(se)}catch(ae){console.error("Error in handleStartSession:",ae),C("Gagal memulai sesi")}},ce=async se=>{try{const ae=await Sr.startSession(se);d({courseId:se,sessionId:ae.data.idSesi});const $=await Sr.getSessionAttendance(ae.data.idSesi);w($.data),L(`Sesi baru dimulai untuk matakuliah ${r==null?void 0:r.nama} (${x.length||0} mahasiswa)`),U(null),_(1)}catch{C("Gagal membuat sesi baru")}},Ee=async()=>{var se,ae,$;try{C(""),L(""),_(1);const ie=await Sr.getMahasiswaKontrak(r.id);p(((se=ie.data)==null?void 0:se.data)||[]),d({courseId:r.id,sessionId:j.id});const he=await Sr.getSessionAttendance(j.id);w(he.data),L(`Melanjutkan sesi untuk matakuliah ${r==null?void 0:r.nama} (${(($=(ae=ie.data)==null?void 0:ae.data)==null?void 0:$.length)||0} mahasiswa)`)}catch(ie){console.error("Error continuing session:",ie),C("Gagal melanjutkan sesi")}},_e=async()=>{try{C(""),await Sr.endSession(u.sessionId),d(null),M(!1),L("Sesi berakhir")}catch{C("Gagal mengakhiri sesi")}},X=V.useCallback(async se=>{var ae,$;try{C(""),console.log("Processing QR scan for NPM:",se);const ie=await Sr.scanQR(u.sessionId,se);console.log("Scan response:",ie.data),ie.data.duplicate?C(`${ie.data.mahasiswa.nama} sudah ditandai hadir`):L(` ${ie.data.mahasiswa.nama} (${se}) ditandai hadir`);const he=await Sr.getSessionAttendance(u.sessionId);w(he.data)}catch(ie){console.error("Error during QR scan:",ie),C(`Gagal menandai kehadiran: ${(($=(ae=ie.response)==null?void 0:ae.data)==null?void 0:$.error)||ie.message}`)}},[u]);return b?E.jsx("div",{className:"container",children:E.jsx("p",{className:"loading",children:"Memuat matakuliah..."})}):E.jsxs("div",{className:"container lecturer-dashboard-container",children:[E.jsx("h1",{className:"dashboard-title",children:" Dasboard Dosen"}),y&&E.jsx(ss,{type:"error",message:y,onClose:()=>C("")}),T&&E.jsx(ss,{type:"success",message:T,onClose:()=>L("")}),E.jsxs("div",{className:"three-column-layout",children:[E.jsx("div",{className:"column column-courses",children:E.jsxs("div",{className:"courses-list",children:[E.jsx("h2",{children:"Matakuliah"}),e.length===0?E.jsx("p",{children:"Tidak ada matakuliah yang ditugaskan"}):E.jsx("ul",{className:"course-items",children:e.map(se=>E.jsxs("li",{className:`course-item ${(r==null?void 0:r.id)===se.id?"active":""}`,onClick:()=>pe(se),children:[E.jsx("div",{className:"course-code",children:se.kode}),E.jsx("div",{className:"course-name",children:se.nama})]},se.id))})]})}),E.jsx("div",{className:"column column-table",children:r?E.jsx(E.Fragment,{children:u?E.jsxs("div",{className:"attendance-section",children:[E.jsx("h3",{children:"Data Mahasiswa"}),E.jsxs("table",{className:"students-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"No"}),E.jsx("th",{children:"NPM"}),E.jsx("th",{children:"Nama Mahasiswa"}),E.jsx("th",{children:"Tgl"}),E.jsx("th",{children:"Waktu"}),E.jsx("th",{children:"Status"})]})}),E.jsx("tbody",{children:x.slice((I-1)*Z,I*Z).map((se,ae)=>{var Ce;const $=(Ce=h==null?void 0:h.records)==null?void 0:Ce.find(ot=>ot.id_mahasiswa===se.id),ie=!!$;let he="-",Re="-";if($&&$.waktu_dipindai){const ot=new Date($.waktu_dipindai);isNaN(ot.getTime())||(he=ot.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),Re=ot.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))}return E.jsxs("tr",{className:ie?"attended":"",children:[E.jsx("td",{children:(I-1)*Z+ae+1}),E.jsx("td",{className:"npm",children:se.npm}),E.jsx("td",{children:se.nama}),E.jsx("td",{children:he}),E.jsx("td",{children:Re}),E.jsx("td",{className:"status-cell",children:ie?E.jsx("span",{className:"status-badge attended",children:" Hadir"}):E.jsx("span",{className:"status-badge absent",children:" Belum"})})]},se.id)})})]}),E.jsxs("div",{className:"pagination",children:[E.jsx("button",{onClick:()=>_(Math.max(1,I-1)),disabled:I===1,children:" Sebelumnya"}),Array.from({length:Math.ceil(x.length/Z)}).map((se,ae)=>E.jsx("button",{onClick:()=>_(ae+1),className:I===ae+1?"active":"",children:ae+1},ae+1)),E.jsx("button",{onClick:()=>_(Math.min(Math.ceil(x.length/Z),I+1)),disabled:I===Math.ceil(x.length/Z),children:"Selanjutnya "})]})]}):E.jsx("div",{className:"no-session-message",children:E.jsxs("p",{children:["Klik tombol ",E.jsx("strong",{children:'"Mulai Sesi"'})," di panel sebelah kanan untuk memulai presensi"]})})}):E.jsx("div",{className:"no-selection",children:"Pilih matakuliah untuk melihat detail"})}),E.jsx("div",{className:"column column-session",children:r&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"course-info-panel",children:[E.jsx("h3",{children:r.nama}),E.jsxs("p",{className:"info-row",children:[E.jsx("span",{className:"label",children:"Kode:"}),E.jsx("span",{className:"value",children:r.kode})]}),E.jsxs("p",{className:"info-row",children:[E.jsx("span",{className:"label",children:"SKS:"}),E.jsx("span",{className:"value",children:r.sks})]})]}),u?E.jsxs("div",{className:"session-status",children:[E.jsx("h4",{children:" Sesi Aktif"}),E.jsxs("div",{className:"session-info-grid",children:[E.jsxs("div",{className:"session-info-item",children:[E.jsx("span",{className:"label",children:"ID SESI:"}),E.jsx("span",{className:"value",children:u.sessionId})]}),E.jsxs("div",{className:"session-info-item",children:[E.jsx("span",{className:"label",children:"TANGGAL & WAKTU:"}),E.jsxs("span",{className:"value",children:[new Date().toLocaleDateString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric"})," ","- ",new Date().toLocaleTimeString("id-ID")]})]})]})]}):j&&!u?E.jsxs("div",{className:"session-status existing-session-card",children:[E.jsx("h4",{children:" Sesi Hari Ini Ditemukan"}),E.jsxs("div",{className:"session-info-grid",children:[E.jsxs("div",{className:"session-info-item",children:[E.jsx("span",{className:"label",children:"ID SESI:"}),E.jsx("span",{className:"value",children:j.id})]}),E.jsxs("div",{className:"session-info-item",children:[E.jsx("span",{className:"label",children:"WAKTU MULAI:"}),E.jsx("span",{className:"value",children:j.waktu_mulai})]}),E.jsxs("div",{className:"session-info-item",children:[E.jsx("span",{className:"label",children:"HADIR:"}),E.jsxs("span",{className:"value",children:[j.total_hadir," mahasiswa"]})]})]})]}):null,E.jsx("div",{className:"session-actions",children:!u&&j?E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-success",onClick:Ee,children:" Lanjutkan Sesi"}),E.jsx("button",{className:"btn btn-secondary",onClick:()=>Ne(r.id),children:" Buat Sesi Baru"})]}):u?E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-primary btn-open-scanner",onClick:()=>M(!0),children:" PEMINDAI"}),E.jsx("button",{className:"btn btn-danger btn-end-session",onClick:_e,children:" HENTIKAN"})]}):E.jsx("button",{className:"btn btn-primary",onClick:()=>Ne(r.id),children:" Mulai Sesi"})})]})})]}),B&&j&&E.jsx("div",{className:"session-choice-modal-overlay",onClick:()=>Q(!1),children:E.jsxs("div",{className:"session-choice-modal",onClick:se=>se.stopPropagation(),children:[E.jsx("h2",{children:" Sesi Sudah Ada"}),E.jsxs("p",{className:"modal-info",children:["Sudah ada sesi aktif untuk matakuliah"," ",E.jsx("strong",{children:r==null?void 0:r.nama})," pada hari ini."]}),E.jsxs("div",{className:"session-details",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"ID Sesi:"})," ",j.id]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Waktu Mulai:"})," ",j.waktu_mulai]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Jumlah Hadir:"})," ",j.total_hadir," ","dari ",x.length]})]}),E.jsx("p",{className:"modal-question",children:"Apa yang ingin Anda lakukan?"}),E.jsxs("div",{className:"modal-buttons",children:[E.jsx("button",{className:"btn btn-secondary",onClick:continueExistingSession,children:" Melanjutkan Sesi Lama"}),E.jsx("button",{className:"btn btn-primary",onClick:()=>ce(r.id),children:" Membuat Sesi Baru"})]})]})}),u&&O&&E.jsx("div",{className:"scanner-modal-overlay",onClick:()=>M(!1),children:E.jsxs("div",{className:"scanner-modal-content",onClick:se=>se.stopPropagation(),children:[E.jsx("button",{className:"modal-close",onClick:()=>M(!1),children:""}),E.jsx("h2",{children:"Pemindai Kode QR"}),E.jsx(I3,{onScan:X})]})})]})},D3=()=>{const[e,t]=V.useState(null),[r,a]=V.useState([]),[u,d]=V.useState(null),[h,w]=V.useState([]),[x,p]=V.useState(""),[y,C]=V.useState(!0),[T,L]=V.useState(!1);V.useEffect(()=>{b(),D()},[]);const b=async()=>{try{const M=await fu.getProfile();t(M.data)}catch{p("Gagal memuat profil")}},D=async()=>{try{const M=await fu.getCourses();a(M.data),C(!1)}catch{p("Gagal memuat matakuliah"),C(!1)}},O=async M=>{try{const I=await fu.getAttendance(M);w(I.data),d(M)}catch{p("Gagal memuat kehadiran")}};return y?E.jsx("div",{className:"container",children:E.jsx("p",{className:"loading",children:"Memuat..."})}):E.jsxs("div",{className:"container student-dashboard-container",children:[E.jsx("h1",{className:"dashboard-title",children:" Dasboard Mahasiswa"}),x&&E.jsx(ss,{type:"error",message:x,onClose:()=>p("")}),E.jsxs("div",{className:"student-content",children:[e&&E.jsxs("div",{className:"profile-card card",children:[E.jsxs("div",{className:"profile-header",children:[E.jsx("div",{children:E.jsx("h2",{children:"Profil Saya"})}),E.jsx("button",{className:"btn btn-primary btn-qr-show",onClick:()=>L(!0),children:" Tampilkan QR Code"})]}),E.jsxs("div",{className:"profile-info",children:[E.jsxs("div",{className:"profile-field",children:[E.jsx("strong",{children:"Nama:"}),E.jsx("p",{children:e.nama})]}),E.jsxs("div",{className:"profile-field",children:[E.jsx("strong",{children:"NPM:"}),E.jsx("p",{children:e.npm})]}),E.jsxs("div",{className:"profile-field",children:[E.jsx("strong",{children:"Email:"}),E.jsx("p",{children:e.email})]})]})]}),T&&e&&E.jsx("div",{className:"modal-overlay",onClick:()=>L(!1),children:E.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),children:[E.jsx("button",{className:"modal-close",onClick:()=>L(!1),children:""}),E.jsx("h2",{children:"Kode QR Presensi Saya"}),E.jsx("div",{className:"modal-qr-display",children:E.jsx(M3,{value:e.kode_qr,size:250,level:"H"})}),E.jsx("p",{className:"qr-code-text",children:e.kode_qr}),E.jsx("p",{className:"qr-instruction",children:" Tunjukkan kode QR ini kepada dosen saat presensi"})]})}),E.jsxs("div",{className:"courses-attendance",children:[E.jsxs("div",{className:"courses-list-student",children:[E.jsx("h2",{children:"Matakuliah Terdaftar"}),r.length===0?E.jsx("p",{children:"Tidak ada matakuliah yang terdaftar"}):E.jsx("ul",{className:"course-list-student",children:r.map(M=>E.jsx("li",{children:E.jsxs("button",{className:`course-btn ${u===M.id?"active":""}`,onClick:()=>O(M.id),children:[E.jsx("div",{className:"course-code-student",children:M.kode}),E.jsx("div",{className:"course-name-student",children:M.nama})]})},M.id))})]}),u&&E.jsxs("div",{className:"attendance-list card",children:[E.jsx("h2",{children:"Rekam Kehadiran"}),h.length===0?E.jsx("p",{className:"no-data",children:"Belum ada catatan kehadiran"}):E.jsxs("div",{className:"attendance-stats",children:[E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-number",children:h.length}),E.jsx("div",{className:"stat-label",children:"Total Hadir"})]}),E.jsxs("table",{className:"attendance-table-student",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Tanggal"}),E.jsx("th",{children:"Waktu"}),E.jsx("th",{children:"Matakuliah"}),E.jsx("th",{children:"Status"})]})}),E.jsx("tbody",{children:h.map(M=>E.jsxs("tr",{children:[E.jsx("td",{children:new Date(M.tanggal_sesi).toLocaleDateString()}),E.jsx("td",{children:M.waktu_mulai}),E.jsx("td",{children:M.nama_matakuliah}),E.jsx("td",{className:"status-present",children:" Hadir"})]},M.id))})]})]})]})]})]})]})},k3=({setMessage:e})=>{const[t,r]=V.useState([]),[a,u]=V.useState(!0),[d,h]=V.useState(!1),[w,x]=V.useState(null),[p,y]=V.useState({nama_pengguna:"",sandi:"",peran:"mahasiswa",email:""});V.useEffect(()=>{C()},[]);const C=async()=>{var O,M,I;try{u(!0);const _=await je.getUsers();console.log("Full response:",_);const B=((O=_.data)==null?void 0:O.data)||_.data||[];console.log("userData to set:",B),r(Array.isArray(B)?B:[])}catch(_){console.error("Error loading users:",_),e({type:"error",text:"Gagal memuat data pengguna: "+(((I=(M=_.response)==null?void 0:M.data)==null?void 0:I.error)||_.message)}),r([])}finally{u(!1)}},T=async O=>{var M,I;O.preventDefault();try{w?(await je.updateUser(w,p),e({type:"success",text:"Pengguna berhasil diperbarui"})):(await je.createUser(p),e({type:"success",text:"Pengguna berhasil ditambahkan"})),b(),C()}catch(_){e({type:"error",text:((I=(M=_.response)==null?void 0:M.data)==null?void 0:I.error)||"Gagal menyimpan pengguna"})}},L=O=>{x(O.id),y({nama_pengguna:O.nama_pengguna,sandi:"",peran:O.peran,email:O.email||""}),h(!0)},b=()=>{x(null),y({nama_pengguna:"",sandi:"",peran:"mahasiswa",email:""}),h(!1)},D=async O=>{if(window.confirm("Yakin ingin menghapus pengguna ini?"))try{await je.deleteUser(O),e({type:"success",text:"Pengguna berhasil dihapus"}),C()}catch{e({type:"error",text:"Gagal menghapus pengguna"})}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Kelola Pengguna"}),E.jsx("button",{className:"btn-add",onClick:()=>d?b():h(!0),children:d?" Batal":" Tambah Pengguna"}),d&&E.jsxs("form",{className:"admin-form",onSubmit:T,children:[w&&E.jsx("h3",{children:"Edit Pengguna"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Nama Pengguna"}),E.jsx("input",{type:"text",value:p.nama_pengguna,onChange:O=>y({...p,nama_pengguna:O.target.value}),disabled:!!w,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{children:["Password ",w&&"(kosongkan jika tidak ingin diubah)"]}),E.jsx("input",{type:"password",value:p.sandi,onChange:O=>y({...p,sandi:O.target.value}),required:!w})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Peran"}),E.jsxs("select",{value:p.peran,onChange:O=>y({...p,peran:O.target.value}),children:[E.jsx("option",{value:"mahasiswa",children:"Mahasiswa"}),E.jsx("option",{value:"dosen",children:"Dosen"}),E.jsx("option",{value:"admin",children:"Admin"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",value:p.email,onChange:O=>y({...p,email:O.target.value})})]}),E.jsxs("div",{className:"form-buttons",children:[E.jsx("button",{type:"submit",className:"btn-submit",children:w?" Perbarui":" Simpan"}),w&&E.jsx("button",{type:"button",className:"btn-cancel",onClick:b,children:"Batal"})]})]}),a?E.jsx("p",{children:"Memuat data..."}):t.length===0?E.jsx("p",{children:"Tidak ada pengguna"}):E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"ID"}),E.jsx("th",{children:"Nama Pengguna"}),E.jsx("th",{children:"Peran"}),E.jsx("th",{children:"Email"}),E.jsx("th",{children:"Aksi"})]})}),E.jsx("tbody",{children:t.map(O=>E.jsxs("tr",{children:[E.jsx("td",{children:O.id}),E.jsx("td",{children:O.nama_pengguna}),E.jsx("td",{children:E.jsx("span",{className:"badge",children:O.peran})}),E.jsx("td",{children:O.email||"-"}),E.jsx("td",{children:E.jsxs("div",{className:"action-buttons",children:[E.jsx("button",{className:"btn-edit",onClick:()=>L(O),children:" Edit"}),E.jsx("button",{className:"btn-delete",onClick:()=>D(O.id),children:" Hapus"})]})})]},O.id))})]})]})},L3=({setMessage:e})=>{const[t,r]=V.useState([]),[a,u]=V.useState([]),[d,h]=V.useState(!0),[w,x]=V.useState(!1),[p,y]=V.useState(null),[C,T]=V.useState({id_pengguna:"",nip:"",nama:"",departemen:""});V.useEffect(()=>{L()},[]);const L=async()=>{var I,_;try{h(!0);const B=await je.getLecturers(),Q=await je.getUsers(),j=((I=B.data)==null?void 0:I.data)||B.data||[],U=((_=Q.data)==null?void 0:_.data)||Q.data||[];r(Array.isArray(j)?j:[]),u(Array.isArray(U)?U.filter(Z=>Z.peran==="dosen"):[])}catch(B){console.error("Error:",B),e({type:"error",text:"Gagal memuat data dosen"}),r([]),u([])}finally{h(!1)}},b=async I=>{var _,B;I.preventDefault();try{p?(await je.updateLecturer(p,C),e({type:"success",text:"Dosen berhasil diperbarui"})):(await je.createLecturer(C),e({type:"success",text:"Dosen berhasil ditambahkan"})),O(),L()}catch(Q){e({type:"error",text:((B=(_=Q.response)==null?void 0:_.data)==null?void 0:B.error)||"Gagal menyimpan dosen"})}},D=I=>{y(I.id),T({id_pengguna:I.id_pengguna||"",nip:I.nip,nama:I.nama,departemen:I.departemen||""}),x(!0)},O=()=>{y(null),T({id_pengguna:"",nip:"",nama:"",departemen:""}),x(!1)},M=async I=>{if(window.confirm("Yakin ingin menghapus dosen ini?"))try{await je.deleteLecturer(I),e({type:"success",text:"Dosen berhasil dihapus"}),L()}catch{e({type:"error",text:"Gagal menghapus dosen"})}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Kelola Dosen"}),E.jsx("button",{className:"btn-add",onClick:()=>w?O():x(!0),children:w?" Batal":" Tambah Dosen"}),w&&E.jsxs("form",{className:"admin-form",onSubmit:b,children:[p&&E.jsx("h3",{children:"Edit Dosen"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Pilih Pengguna Dosen"}),E.jsxs("select",{value:C.id_pengguna,onChange:I=>T({...C,id_pengguna:I.target.value}),disabled:!!p,required:!0,children:[E.jsx("option",{value:"",children:"-- Pilih Pengguna --"}),a.map(I=>E.jsxs("option",{value:I.id,children:[I.nama_pengguna," (",I.email,")"]},I.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"NIP"}),E.jsx("input",{type:"text",value:C.nip,onChange:I=>T({...C,nip:I.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Nama"}),E.jsx("input",{type:"text",value:C.nama,onChange:I=>T({...C,nama:I.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Departemen"}),E.jsx("input",{type:"text",value:C.departemen,onChange:I=>T({...C,departemen:I.target.value})})]}),E.jsxs("div",{className:"form-buttons",children:[E.jsx("button",{type:"submit",className:"btn-submit",children:p?" Perbarui":" Simpan"}),p&&E.jsx("button",{type:"button",className:"btn-cancel",onClick:O,children:"Batal"})]})]}),d?E.jsx("p",{children:"Memuat data..."}):t.length===0?E.jsx("p",{children:"Tidak ada dosen"}):E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"ID"}),E.jsx("th",{children:"Nama"}),E.jsx("th",{children:"NIP"}),E.jsx("th",{children:"Departemen"}),E.jsx("th",{children:"Aksi"})]})}),E.jsx("tbody",{children:t.map(I=>E.jsxs("tr",{children:[E.jsx("td",{children:I.id}),E.jsx("td",{children:I.nama}),E.jsx("td",{children:I.nip}),E.jsx("td",{children:I.departemen||"-"}),E.jsx("td",{children:E.jsxs("div",{className:"action-buttons",children:[E.jsx("button",{className:"btn-edit",onClick:()=>D(I),children:" Edit"}),E.jsx("button",{className:"btn-delete",onClick:()=>M(I.id),children:" Hapus"})]})})]},I.id))})]})]})},P3=({setMessage:e})=>{const[t,r]=V.useState([]),[a,u]=V.useState([]),[d,h]=V.useState(!0),[w,x]=V.useState(!1),[p,y]=V.useState(null),[C,T]=V.useState({id_pengguna:"",npm:"",nama:"",email:""});V.useEffect(()=>{L()},[]);const L=async()=>{var I,_;try{h(!0);const B=await je.getStudents(),Q=await je.getUsers(),j=((I=B.data)==null?void 0:I.data)||B.data||[],U=((_=Q.data)==null?void 0:_.data)||Q.data||[];r(Array.isArray(j)?j:[]),u(Array.isArray(U)?U.filter(Z=>Z.peran==="mahasiswa"):[])}catch(B){console.error("Error:",B),e({type:"error",text:"Gagal memuat data mahasiswa"}),r([]),u([])}finally{h(!1)}},b=async I=>{var _,B;I.preventDefault();try{if(p)await je.updateStudent(p,C),e({type:"success",text:"Mahasiswa berhasil diperbarui"});else{const Q=`NPM_${C.npm}_${Date.now()}`;await je.createStudent({...C,kode_qr:Q}),e({type:"success",text:"Mahasiswa berhasil ditambahkan"})}M(),L()}catch(Q){e({type:"error",text:((B=(_=Q.response)==null?void 0:_.data)==null?void 0:B.error)||"Gagal menyimpan mahasiswa"})}},D=async I=>{if(window.confirm("Yakin ingin menghapus mahasiswa ini?"))try{await je.deleteStudent(I),e({type:"success",text:"Mahasiswa berhasil dihapus"}),L()}catch{e({type:"error",text:"Gagal menghapus mahasiswa"})}},O=I=>{y(I.id),T({id_pengguna:I.id_pengguna||"",npm:I.npm,nama:I.nama,email:I.email||""}),x(!0)},M=()=>{y(null),T({id_pengguna:"",npm:"",nama:"",email:""}),x(!1)};return E.jsxs("div",{children:[E.jsx("h2",{children:"Kelola Mahasiswa"}),E.jsx("button",{className:"btn-add",onClick:()=>{w?M():(y(null),T({id_pengguna:"",npm:"",nama:"",email:""}),x(!0))},children:w?" Batal":" Tambah Mahasiswa"}),w&&E.jsxs("form",{className:"admin-form",onSubmit:b,children:[E.jsx("h3",{children:p?"Edit Mahasiswa":"Tambah Mahasiswa Baru"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Pilih Pengguna Mahasiswa"}),E.jsxs("select",{value:C.id_pengguna,onChange:I=>T({...C,id_pengguna:I.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"-- Pilih Pengguna --"}),a.map(I=>E.jsxs("option",{value:I.id,children:[I.nama_pengguna," (",I.email,")"]},I.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"NPM"}),E.jsx("input",{type:"text",value:C.npm,onChange:I=>T({...C,npm:I.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Nama"}),E.jsx("input",{type:"text",value:C.nama,onChange:I=>T({...C,nama:I.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",value:C.email,onChange:I=>T({...C,email:I.target.value})})]}),E.jsxs("div",{className:"form-buttons",children:[E.jsx("button",{type:"submit",className:"btn-submit",children:p?" Update":" Simpan"}),E.jsx("button",{type:"button",className:"btn-cancel",onClick:M,children:" Batal"})]})]}),d?E.jsx("p",{children:"Memuat data..."}):t.length===0?E.jsx("p",{children:"Tidak ada mahasiswa"}):E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"ID"}),E.jsx("th",{children:"Nama"}),E.jsx("th",{children:"NPM"}),E.jsx("th",{children:"Email"}),E.jsx("th",{children:"Aksi"})]})}),E.jsx("tbody",{children:t.map(I=>E.jsxs("tr",{children:[E.jsx("td",{children:I.id}),E.jsx("td",{children:I.nama}),E.jsx("td",{children:I.npm}),E.jsx("td",{children:I.email||"-"}),E.jsx("td",{children:E.jsxs("div",{className:"action-buttons",children:[E.jsx("button",{className:"btn-edit",onClick:()=>O(I),children:" Edit"}),E.jsx("button",{className:"btn-delete",onClick:()=>D(I.id),children:" Hapus"})]})})]},I.id))})]})]})},B3=({setMessage:e})=>{const[t,r]=V.useState([]),[a,u]=V.useState([]),[d,h]=V.useState(!0),[w,x]=V.useState(!1),[p,y]=V.useState(null),[C,T]=V.useState({kode:"",nama:"",id_dosen:"",sks:"",semester:""});V.useEffect(()=>{L()},[]);const L=async()=>{var I,_;try{h(!0);const B=await je.getCourses(),Q=await je.getLecturers(),j=((I=B.data)==null?void 0:I.data)||B.data||[],U=((_=Q.data)==null?void 0:_.data)||Q.data||[];r(Array.isArray(j)?j:[]),u(Array.isArray(U)?U:[])}catch(B){console.error("Error:",B),e({type:"error",text:"Gagal memuat data matakuliah"}),r([]),u([])}finally{h(!1)}},b=async I=>{var _,B;I.preventDefault();try{p?(await je.updateCourse(p,C),e({type:"success",text:"Matakuliah berhasil diperbarui"})):(await je.createCourse(C),e({type:"success",text:"Matakuliah berhasil ditambahkan"})),O(),L()}catch(Q){e({type:"error",text:((B=(_=Q.response)==null?void 0:_.data)==null?void 0:B.error)||"Gagal menyimpan matakuliah"})}},D=I=>{y(I.id),T({kode:I.kode,nama:I.nama,id_dosen:I.id_dosen||"",sks:I.sks||"",semester:I.semester||""}),x(!0)},O=()=>{y(null),T({kode:"",nama:"",id_dosen:"",sks:"",semester:""}),x(!1)},M=async I=>{if(window.confirm("Yakin ingin menghapus matakuliah ini?"))try{await je.deleteCourse(I),e({type:"success",text:"Matakuliah berhasil dihapus"}),L()}catch{e({type:"error",text:"Gagal menghapus matakuliah"})}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Kelola Matakuliah"}),E.jsx("button",{className:"btn-add",onClick:()=>w?O():x(!0),children:w?" Batal":" Tambah Matakuliah"}),w&&E.jsxs("form",{className:"admin-form",onSubmit:b,children:[p&&E.jsx("h3",{children:"Edit Matakuliah"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Kode Matakuliah"}),E.jsx("input",{type:"text",value:C.kode,onChange:I=>T({...C,kode:I.target.value}),disabled:!!p,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Nama Matakuliah"}),E.jsx("input",{type:"text",value:C.nama,onChange:I=>T({...C,nama:I.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Dosen Pengampu"}),E.jsxs("select",{value:C.id_dosen,onChange:I=>T({...C,id_dosen:I.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"-- Pilih Dosen --"}),a.map(I=>E.jsx("option",{value:I.id,children:I.nama},I.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"SKS"}),E.jsx("input",{type:"number",value:C.sks,onChange:I=>T({...C,sks:I.target.value}),min:"1",max:"6"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Semester"}),E.jsx("input",{type:"number",value:C.semester,onChange:I=>T({...C,semester:I.target.value}),min:"1",max:"8"})]}),E.jsxs("div",{className:"form-buttons",children:[E.jsx("button",{type:"submit",className:"btn-submit",children:p?" Perbarui":" Simpan"}),p&&E.jsx("button",{type:"button",className:"btn-cancel",onClick:O,children:"Batal"})]})]}),d?E.jsx("p",{children:"Memuat data..."}):t.length===0?E.jsx("p",{children:"Tidak ada matakuliah"}):E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"ID"}),E.jsx("th",{children:"Kode"}),E.jsx("th",{children:"Nama Matakuliah"}),E.jsx("th",{children:"Dosen"}),E.jsx("th",{children:"SKS"}),E.jsx("th",{children:"Semester"}),E.jsx("th",{children:"Aksi"})]})}),E.jsx("tbody",{children:t.map(I=>E.jsxs("tr",{children:[E.jsx("td",{children:I.id}),E.jsx("td",{children:I.kode}),E.jsx("td",{children:I.nama}),E.jsx("td",{children:I.dosen_nama||"-"}),E.jsx("td",{children:I.sks||"-"}),E.jsx("td",{children:I.semester||"-"}),E.jsx("td",{children:E.jsxs("div",{className:"action-buttons",children:[E.jsx("button",{className:"btn-edit",onClick:()=>D(I),children:" Edit"}),E.jsx("button",{className:"btn-delete",onClick:()=>M(I.id),children:" Hapus"})]})})]},I.id))})]})]})},F3=({setMessage:e})=>{const[t,r]=V.useState([]),[a,u]=V.useState([]),[d,h]=V.useState([]),[w,x]=V.useState([]),[p,y]=V.useState(!0),[C,T]=V.useState(!1),[L,b]=V.useState(null),[D,O]=V.useState({id_mahasiswa:"",id_matakuliah:"",id_dosen:"",semester:"",tahun_akademik:"",nilai_akhir:"",status:"aktif"});V.useEffect(()=>{M()},[]);const M=async()=>{var j,U,Z,K;try{y(!0);const[pe,Ne,ce,Ee]=await Promise.all([je.getKontraks(),je.getStudents(),je.getCourses(),je.getLecturers()]),_e=((j=pe.data)==null?void 0:j.data)||pe.data||[],X=((U=Ne.data)==null?void 0:U.data)||Ne.data||[],se=((Z=ce.data)==null?void 0:Z.data)||ce.data||[],ae=((K=Ee.data)==null?void 0:K.data)||Ee.data||[];r(Array.isArray(_e)?_e:[]),u(Array.isArray(X)?X:[]),h(Array.isArray(se)?se:[]),x(Array.isArray(ae)?ae:[])}catch(pe){console.error("Error:",pe),e({type:"error",text:"Gagal memuat data kontrak"}),r([])}finally{y(!1)}},I=async j=>{var U,Z;j.preventDefault();try{L?(await je.updateKontrak(L,D),e({type:"success",text:"Kontrak berhasil diperbarui"})):(await je.createKontrak(D),e({type:"success",text:"Kontrak berhasil ditambahkan"})),B(),M()}catch(K){e({type:"error",text:((Z=(U=K.response)==null?void 0:U.data)==null?void 0:Z.error)||"Gagal menyimpan kontrak"})}},_=j=>{b(j.id),O({id_mahasiswa:j.id_mahasiswa||"",id_matakuliah:j.id_matakuliah||"",id_dosen:j.id_dosen||"",semester:j.semester||"",tahun_akademik:j.tahun_akademik||"",nilai_akhir:j.nilai_akhir||"",status:j.status||"aktif"}),T(!0)},B=()=>{b(null),O({id_mahasiswa:"",id_matakuliah:"",id_dosen:"",semester:"",tahun_akademik:"",nilai_akhir:"",status:"aktif"}),T(!1)},Q=async j=>{if(window.confirm("Yakin ingin menghapus kontrak ini?"))try{await je.deleteKontrak(j),e({type:"success",text:"Kontrak berhasil dihapus"}),M()}catch{e({type:"error",text:"Gagal menghapus kontrak"})}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Kelola Kontrak Matakuliah"}),E.jsx("button",{className:"btn-add",onClick:()=>C?B():T(!0),children:C?" Batal":" Tambah Kontrak"}),C&&E.jsxs("form",{className:"admin-form",onSubmit:I,children:[L&&E.jsx("h3",{children:"Edit Kontrak Matakuliah"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Mahasiswa"}),E.jsxs("select",{value:D.id_mahasiswa,onChange:j=>O({...D,id_mahasiswa:j.target.value}),disabled:!!L,required:!0,children:[E.jsx("option",{value:"",children:"-- Pilih Mahasiswa --"}),a.map(j=>E.jsxs("option",{value:j.id,children:[j.npm," - ",j.nama]},j.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Matakuliah"}),E.jsxs("select",{value:D.id_matakuliah,onChange:j=>O({...D,id_matakuliah:j.target.value}),disabled:!!L,required:!0,children:[E.jsx("option",{value:"",children:"-- Pilih Matakuliah --"}),d.map(j=>E.jsxs("option",{value:j.id,children:[j.kode," - ",j.nama]},j.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Dosen Pengampu"}),E.jsxs("select",{value:D.id_dosen,onChange:j=>O({...D,id_dosen:j.target.value}),disabled:!!L,required:!0,children:[E.jsx("option",{value:"",children:"-- Pilih Dosen --"}),w.map(j=>E.jsx("option",{value:j.id,children:j.nama},j.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Semester"}),E.jsx("input",{type:"number",value:D.semester,onChange:j=>O({...D,semester:j.target.value}),disabled:!!L,min:"1",max:"8",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Tahun Akademik"}),E.jsx("input",{type:"text",placeholder:"2023/2024",value:D.tahun_akademik,onChange:j=>O({...D,tahun_akademik:j.target.value}),disabled:!!L,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Nilai Akhir (opsional)"}),E.jsx("input",{type:"number",value:D.nilai_akhir,onChange:j=>O({...D,nilai_akhir:j.target.value}),min:"0",max:"100",step:"0.01"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Status"}),E.jsxs("select",{value:D.status,onChange:j=>O({...D,status:j.target.value}),children:[E.jsx("option",{value:"aktif",children:"Aktif"}),E.jsx("option",{value:"selesai",children:"Selesai"}),E.jsx("option",{value:"batal",children:"Batal"})]})]}),E.jsxs("div",{className:"form-buttons",children:[E.jsx("button",{type:"submit",className:"btn-submit",children:L?" Perbarui":" Simpan"}),L&&E.jsx("button",{type:"button",className:"btn-cancel",onClick:B,children:"Batal"})]})]}),p?E.jsx("p",{children:"Memuat data..."}):t.length===0?E.jsx("p",{children:"Tidak ada kontrak matakuliah"}):E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"ID"}),E.jsx("th",{children:"NPM Mahasiswa"}),E.jsx("th",{children:"Nama Mahasiswa"}),E.jsx("th",{children:"Kode Matakuliah"}),E.jsx("th",{children:"Nama Matakuliah"}),E.jsx("th",{children:"Dosen"}),E.jsx("th",{children:"Semester"}),E.jsx("th",{children:"Tahun Akademik"}),E.jsx("th",{children:"Nilai Akhir"}),E.jsx("th",{children:"Status"}),E.jsx("th",{children:"Aksi"})]})}),E.jsx("tbody",{children:t.map(j=>E.jsxs("tr",{children:[E.jsx("td",{children:j.id}),E.jsx("td",{children:j.npm}),E.jsx("td",{children:j.nama_mahasiswa}),E.jsx("td",{children:j.kode}),E.jsx("td",{children:j.nama_matakuliah}),E.jsx("td",{children:j.nama_dosen}),E.jsx("td",{children:j.semester}),E.jsx("td",{children:j.tahun_akademik}),E.jsx("td",{children:j.nilai_akhir||"-"}),E.jsx("td",{children:E.jsx("span",{className:"badge",style:{backgroundColor:j.status==="aktif"?"#059669":j.status==="selesai"?"#2563eb":"#dc2626"},children:j.status})}),E.jsx("td",{children:E.jsxs("div",{className:"action-buttons",children:[E.jsx("button",{className:"btn-edit",onClick:()=>_(j),children:" Edit"}),E.jsx("button",{className:"btn-delete",onClick:()=>Q(j.id),children:" Hapus"})]})})]},j.id))})]})]})},j3=()=>{const{user:e}=va(),[t,r]=V.useState("dashboard"),[a,u]=V.useState("");if((e==null?void 0:e.peran)!=="admin")return E.jsx(ss,{type:"error",message:"Anda tidak memiliki akses ke halaman ini"});const d=[{id:"dashboard",label:"Dashboard",icon:""},{id:"users",label:"Kelola Pengguna",icon:""},{id:"lecturers",label:"Kelola Dosen",icon:""},{id:"students",label:"Kelola Mahasiswa",icon:""},{id:"courses",label:"Kelola Matakuliah",icon:""},{id:"kontraks",label:"Kelola Kontrak",icon:""}],h=()=>{switch(t){case"dashboard":return E.jsx(V1,{});case"users":return E.jsx(k3,{setMessage:u});case"lecturers":return E.jsx(L3,{setMessage:u});case"students":return E.jsx(P3,{setMessage:u});case"courses":return E.jsx(B3,{setMessage:u});case"kontraks":return E.jsx(F3,{setMessage:u});default:return E.jsx(V1,{})}};return E.jsx("div",{className:"admin-dashboard",children:E.jsxs("div",{className:"admin-container",children:[E.jsxs("div",{className:"admin-header",children:[E.jsx("h1",{children:"Panel Admin"}),E.jsxs("p",{children:["Selamat datang, ",e==null?void 0:e.nama_pengguna]})]}),a&&E.jsx(ss,{type:a.type,message:a.text,onClose:()=>u("")}),E.jsx("div",{className:"admin-tabs",children:d.map(w=>E.jsxs("button",{className:`tab-button ${t===w.id?"active":""}`,onClick:()=>r(w.id),children:[E.jsx("span",{className:"tab-icon",children:w.icon}),w.label]},w.id))}),E.jsx("div",{className:"tab-content",children:h()})]})})},V1=()=>{const[e,t]=V.useState({users:0,lecturers:0,students:0,courses:0}),[r,a]=V.useState(!0);V.useEffect(()=>{u()},[]);const u=async()=>{var d,h,w,x;try{const[p,y,C,T]=await Promise.all([je.getUsers(),je.getLecturers(),je.getStudents(),je.getCourses()]),L=((d=p.data)==null?void 0:d.data)||p.data||[],b=((h=y.data)==null?void 0:h.data)||y.data||[],D=((w=C.data)==null?void 0:w.data)||C.data||[],O=((x=T.data)==null?void 0:x.data)||T.data||[];t({users:Array.isArray(L)?L.length:0,lecturers:Array.isArray(b)?b.length:0,students:Array.isArray(D)?D.length:0,courses:Array.isArray(O)?O.length:0})}catch(p){console.error("Error loading stats:",p)}finally{a(!1)}};return E.jsxs("div",{className:"dashboard-summary",children:[E.jsx("h2",{children:"Ringkasan Sistem"}),E.jsxs("div",{className:"summary-grid",children:[E.jsxs("div",{className:"summary-card",children:[E.jsx("div",{className:"summary-icon",children:""}),E.jsx("h3",{children:"Pengguna"}),E.jsx("p",{className:"summary-value",children:r?"-":e.users}),E.jsx("p",{className:"summary-desc",children:"Total pengguna terdaftar"})]}),E.jsxs("div",{className:"summary-card",children:[E.jsx("div",{className:"summary-icon",children:""}),E.jsx("h3",{children:"Dosen"}),E.jsx("p",{className:"summary-value",children:r?"-":e.lecturers}),E.jsx("p",{className:"summary-desc",children:"Total dosen aktif"})]}),E.jsxs("div",{className:"summary-card",children:[E.jsx("div",{className:"summary-icon",children:""}),E.jsx("h3",{children:"Mahasiswa"}),E.jsx("p",{className:"summary-value",children:r?"-":e.students}),E.jsx("p",{className:"summary-desc",children:"Total mahasiswa terdaftar"})]}),E.jsxs("div",{className:"summary-card",children:[E.jsx("div",{className:"summary-icon",children:""}),E.jsx("h3",{children:"Matakuliah"}),E.jsx("p",{className:"summary-value",children:r?"-":e.courses}),E.jsx("p",{className:"summary-desc",children:"Total matakuliah aktif"})]})]})]})},U3=()=>E.jsx("div",{className:"not-found-container",children:E.jsxs("div",{className:"not-found-content",children:[E.jsx("h1",{children:"404"}),E.jsx("h2",{children:"Page Not Found"}),E.jsx("p",{children:"The page you're looking for doesn't exist."}),E.jsx("a",{href:"/",className:"btn btn-primary",children:"Back to Home"})]})}),hu=({children:e,requiredRole:t})=>{const{user:r,loading:a}=va();return a?E.jsx("div",{className:"container",children:E.jsx("p",{className:"loading",children:"Memuat..."})}):r?t&&r.peran!==t?E.jsx(lc,{to:"/"}):e:E.jsx(lc,{to:"/"})},z3=()=>{const{user:e}=va();return E.jsxs(iw,{children:[e&&E.jsx(jy,{}),E.jsxs(qx,{children:[E.jsx(bi,{path:"/",element:e?E.jsx(lc,{to:e.peran==="dosen"?"/lecturer":e.peran==="admin"?"/admin":"/student"}):E.jsx(zy,{})}),E.jsx(bi,{path:"/lecturer",element:E.jsx(hu,{requiredRole:"dosen",children:E.jsx(O3,{})})}),E.jsx(bi,{path:"/student",element:E.jsx(hu,{requiredRole:"mahasiswa",children:E.jsx(D3,{})})}),E.jsx(bi,{path:"/admin",element:E.jsx(hu,{requiredRole:"admin",children:E.jsx(j3,{})})}),E.jsx(bi,{path:"*",element:E.jsx(U3,{})})]})]})};function H3(){return E.jsx(Fy,{children:E.jsx(z3,{})})}gu.createRoot(document.getElementById("root")).render(E.jsx(et.StrictMode,{children:E.jsx(H3,{})}));
